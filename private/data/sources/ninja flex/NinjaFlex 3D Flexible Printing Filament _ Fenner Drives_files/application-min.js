(function(a){a.extend(a.ui.dialog.prototype.options,{minHeight:10,minWidth:10,modal:true,resizable:false,width:"auto",zIndex:50});f();h();i();e();c();b();d("a.mediadialog-trigger");g();function f(){var j=a("div.wl-primarynav");j.find("> ul > li").hover(function(){var k=a(this);k.data("hovering",true);setTimeout(function(){if(k.data("hovering")){k.addClass("hover").attr("aria-hidden","false").find("> ul").each(function(){var l=a(this),p=j.offset().left+j.outerWidth(),o=l.offset().left+l.outerWidth(),n=o-p,m=parseFloat(l.css("left"))-n;if(n>0){l.css("left",m)}})}},185)},function(){a(this).data("hovering",false).removeClass("hover").find("> ul").attr("aria-hidden","true")}).find("> ul").attr("aria-hidden","true")}function h(){var m=a("div.wl-rotator"),j=m.find("ul.fullview li"),k=m.find("ul.preview"),l=k.find("li"),o=false,n;m.find("li").each(function(q){var p=a(this);p.data("index",p.index())});k.on("click","a",function(q){q.preventDefault();var p=a(this);a(this).parent().addClass("selected").siblings().removeClass("selected");j.hide().filter(function(){return a(this).data("index")===p.parent().data("index")}).show()});j.hide();l.filter(":first").find("a").trigger("click");m.hover(function(){o=true},function(){o=false});setInterval(function(){if(!o){n=l.filter(".selected");if(n.is(l.filter(":last"))){l.filter(":first").find("a").trigger("click")}else{n.next().find("a").trigger("click")}}},6000)}function i(){a("div.wl-tabs").tabs()}function e(){a("a.wl-popup").on("click",function(k){var j=a(this),m=j.data("width")||700,l=j.data("height")||700;k.preventDefault();window.open(this.href,"","width="+m+",height="+l)})}function c(){var m=a(".wl-productbrowse"),n=a(".wl-productgroup",m),j=a(".wl-browsecontrols .view a",m),k=j.filter(".grid"),l=j.filter(".list");k.on("click",function(o){o.preventDefault();n.removeClass("wl-productgroup-list").addClass("wl-productgroup-grid");l.removeClass("selected");k.addClass("selected")});l.on("click",function(o){o.preventDefault();n.removeClass("wl-productgroup-grid").addClass("wl-productgroup-list");k.removeClass("selected");l.addClass("selected")});if(n.is(".wl-productgroup-list")){l.filter(":first").click()}else{k.filter("first").click()}}function b(){a(".wl-cartdigest").on("downUp",function(){var j=a(this);j.addClass("hover");setTimeout(function(){j.removeClass("hover")},5500)})}function d(q){var m=a('<div><div class="mediadialog clearfix"><div class="media"></div><div class="info"><h3>Media title</h3><p class="date">Media date</p><div class="desc">Media description</div></div></div></div>'),p=a("div.media",m),n=a("div.info",m),o=a("h3",m),k=a("p.date",m),l=a("div.desc",m),j;m.appendTo("body").dialog({autoOpen:false});a(q).live("click",function(s){s.preventDefault();var r=a(this);o.text(r.data("medianame"));k.text(r.data("mediadate"));l.html(r.data("medialongdesc"));if(r.data("mediatype")==="video"){j=a("<div />",{id:"video",text:"Loading video ...",width:r.data("mediawidth"),height:r.data("mediaheight")})}else{j=a("<img />",{src:r.data("mediaurl"),width:r.data("mediawidth"),height:r.data("mediaheight")})}p.empty().append(j);m.find("div.mediadialog").width(r.data("mediawidth")+250).end().dialog("open");if(r.data("mediatype")==="video"){jwplayer("video").setup({flashplayer:"/_resources/_global/js/jwplayer/player.swf",file:r.data("mediaurl"),height:r.data("mediaheight"),width:r.data("mediawidth")})}m.on("dialogclose",function(){jwplayer(0).pause(true)})})}function g(){var j=a('<span style="display:none" class="tooltip"></span>');j.appendTo("body");a(".items .item a, .items .item span.image").hover(function(l){var k=a(this),n,m;if(!k.find("img").length){return}j.text(k.find("img").attr("alt")).css("display","block");n=k.offset().top+41;m=k.offset().left-((j.width()-k.width())/2);j.css({top:n,left:m})},function(){j.hide()})}})(jQuery);