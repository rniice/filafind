var define=define|{};define.amd=!1,function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=it.type(e);return"function"===n||it.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function r(e,t,n){if(it.isFunction(t))return it.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return it.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ft.test(t))return it.filter(t,e,n);t=it.filter(t,e)}return it.grep(e,function(e){return it.inArray(e,t)>=0!==n})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function a(e){var t=kt[e]={};return it.each(e.match(Ct)||[],function(e,n){t[n]=!0}),t}function o(){pt.addEventListener?(pt.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(pt.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(pt.addEventListener||"load"===event.type||"complete"===pt.readyState)&&(o(),it.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(Mt,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Dt.test(n)?it.parseJSON(n):n}catch(i){}it.data(e,t,n)}else n=void 0}return n}function c(e){var t;for(t in e)if(("data"!==t||!it.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(e,t,n,r){if(it.acceptData(e)){var i,a,o=it.expando,s=e.nodeType,u=s?it.cache:e,c=s?e[o]:e[o]&&o;if(c&&u[c]&&(r||u[c].data)||void 0!==n||"string"!=typeof t)return c||(c=s?e[o]=Q.pop()||it.guid++:o),u[c]||(u[c]=s?{}:{toJSON:it.noop}),("object"==typeof t||"function"==typeof t)&&(r?u[c]=it.extend(u[c],t):u[c].data=it.extend(u[c].data,t)),a=u[c],r||(a.data||(a.data={}),a=a.data),void 0!==n&&(a[it.camelCase(t)]=n),"string"==typeof t?(i=a[t],null==i&&(i=a[it.camelCase(t)])):i=a,i}}function d(e,t,n){if(it.acceptData(e)){var r,i,a=e.nodeType,o=a?it.cache:e,s=a?e[it.expando]:it.expando;if(o[s]){if(t&&(r=n?o[s]:o[s].data)){it.isArray(t)?t=t.concat(it.map(t,it.camelCase)):t in r?t=[t]:(t=it.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;for(;i--;)delete r[t[i]];if(n?!c(r):!it.isEmptyObject(r))return}(n||(delete o[s].data,c(o[s])))&&(a?it.cleanData([e],!0):nt.deleteExpando||o!=o.window?delete o[s]:o[s]=null)}}}function f(){return!0}function g(){return!1}function p(){try{return pt.activeElement}catch(e){}}function h(e){var t=Nt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function m(e,t){var n,r,i=0,a=typeof e.getElementsByTagName!==xt?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==xt?e.querySelectorAll(t||"*"):void 0;if(!a)for(a=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||it.nodeName(r,t)?a.push(r):it.merge(a,m(r,t));return void 0===t||t&&it.nodeName(e,t)?it.merge([e],a):a}function y(e){wt.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t){return it.nodeName(e,"table")&&it.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function C(e){return e.type=(null!==it.find.attr(e,"type"))+"/"+e.type,e}function k(e){var t=zt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function S(e,t){for(var n,r=0;null!=(n=e[r]);r++)it._data(n,"globalEval",!t||it._data(t[r],"globalEval"))}function b(e,t){if(1===t.nodeType&&it.hasData(e)){var n,r,i,a=it._data(e),o=it._data(t,a),s=a.events;if(s){delete o.handle,o.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)it.event.add(t,n,s[n][r])}o.data&&(o.data=it.extend({},o.data))}}function x(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!nt.noCloneEvent&&t[it.expando]){i=it._data(t);for(r in i.events)it.removeEvent(t,r,i.handle);t.removeAttribute(it.expando)}"script"===n&&t.text!==e.text?(C(t).text=e.text,k(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),nt.html5Clone&&e.innerHTML&&!it.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&wt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function D(t,n){var r,i=it(n.createElement(t)).appendTo(n.body),a=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:it.css(i[0],"display");return i.detach(),a}function M(e){var t=pt,n=Zt[e];return n||(n=D(e,t),"none"!==n&&n||(Yt=(Yt||it("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Yt[0].contentWindow||Yt[0].contentDocument).document,t.write(),t.close(),n=D(e,t),Yt.detach()),Zt[e]=n),n}function E(e,t){return{get:function(){var n=e();if(null!=n)return n?(delete this.get,void 0):(this.get=t).apply(this,arguments)}}}function P(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=gn.length;i--;)if(t=gn[i]+n,t in e)return t;return r}function _(e,t){for(var n,r,i,a=[],o=0,s=e.length;s>o;o++)r=e[o],r.style&&(a[o]=it._data(r,"olddisplay"),n=r.style.display,t?(a[o]||"none"!==n||(r.style.display=""),""===r.style.display&&_t(r)&&(a[o]=it._data(r,"olddisplay",M(r.nodeName)))):(i=_t(r),(n&&"none"!==n||!i)&&it._data(r,"olddisplay",i?n:it.css(r,"display"))));for(o=0;s>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?a[o]||"":"none"));return e}function I(e,t,n){var r=cn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function w(e,t,n,r,i){for(var a=n===(r?"border":"content")?4:"width"===t?1:0,o=0;4>a;a+=2)"margin"===n&&(o+=it.css(e,n+Pt[a],!0,i)),r?("content"===n&&(o-=it.css(e,"padding"+Pt[a],!0,i)),"margin"!==n&&(o-=it.css(e,"border"+Pt[a]+"Width",!0,i))):(o+=it.css(e,"padding"+Pt[a],!0,i),"padding"!==n&&(o+=it.css(e,"border"+Pt[a]+"Width",!0,i)));return o}function T(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,a=en(e),o=nt.boxSizing&&"border-box"===it.css(e,"boxSizing",!1,a);if(0>=i||null==i){if(i=tn(e,t,a),(0>i||null==i)&&(i=e.style[t]),rn.test(i))return i;r=o&&(nt.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+w(e,t,n||(o?"border":"content"),r,a)+"px"}function B(e,t,n,r,i){return new B.prototype.init(e,t,n,r,i)}function A(){return setTimeout(function(){pn=void 0}),pn=it.now()}function K(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Pt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function j(e,t,n){for(var r,i=(kn[t]||[]).concat(kn["*"]),a=0,o=i.length;o>a;a++)if(r=i[a].call(n,t,e))return r}function N(e,t,n){var r,i,a,o,s,u,c,l,d=this,f={},g=e.style,p=e.nodeType&&_t(e),h=it._data(e,"fxshow");n.queue||(s=it._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,it.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[g.overflow,g.overflowX,g.overflowY],c=it.css(e,"display"),l="none"===c?it._data(e,"olddisplay")||M(e.nodeName):c,"inline"===l&&"none"===it.css(e,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==M(e.nodeName)?g.zoom=1:g.display="inline-block")),n.overflow&&(g.overflow="hidden",nt.shrinkWrapBlocks()||d.always(function(){g.overflow=n.overflow[0],g.overflowX=n.overflow[1],g.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],mn.exec(i)){if(delete t[r],a=a||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!h||void 0===h[r])continue;p=!0}f[r]=h&&h[r]||it.style(e,r)}else c=void 0;if(it.isEmptyObject(f))"inline"===("none"===c?M(e.nodeName):c)&&(g.display=c);else{h?"hidden"in h&&(p=h.hidden):h=it._data(e,"fxshow",{}),a&&(h.hidden=!p),p?it(e).show():d.done(function(){it(e).hide()}),d.done(function(){var t;it._removeData(e,"fxshow");for(t in f)it.style(e,t,f[t])});for(r in f)o=j(p?h[r]:0,r,d),r in h||(h[r]=o.start,p&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function L(e,t){var n,r,i,a,o;for(n in e)if(r=it.camelCase(n),i=t[r],a=e[n],it.isArray(a)&&(i=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),o=it.cssHooks[r],o&&"expand"in o){a=o.expand(a),delete e[r];for(n in a)n in e||(e[n]=a[n],t[n]=i)}else t[r]=i}function U(e,t,n){var r,i,a=0,o=Cn.length,s=it.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=pn||A(),n=Math.max(0,c.startTime+c.duration-t),r=n/c.duration||0,a=1-r,o=0,u=c.tweens.length;u>o;o++)c.tweens[o].run(a);return s.notifyWith(e,[c,a,n]),1>a&&u?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:it.extend({},t),opts:it.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:pn||A(),duration:n.duration,tweens:[],createTween:function(t,n){var r=it.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),l=c.props;for(L(l,c.opts.specialEasing);o>a;a++)if(r=Cn[a].call(c,e,l,c.opts))return r;return it.map(l,j,c),it.isFunction(c.opts.start)&&c.opts.start.call(e,c),it.fx.timer(it.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function O(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,a=t.toLowerCase().match(Ct)||[];if(it.isFunction(n))for(;r=a[i++];)"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function F(e,t,n,r){function i(s){var u;return a[s]=!0,it.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||o||a[c]?o?!(u=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),u}var a={},o=e===$n;return i(t.dataTypes[0])||!a["*"]&&i("*")}function H(e,t){var n,r,i=it.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&it.extend(!0,e,n),e}function R(e,t,n){for(var r,i,a,o,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){u.unshift(o);break}if(u[0]in n)a=u[0];else{for(o in n){if(!u[0]||e.converters[o+" "+u[0]]){a=o;break}r||(r=o)}a=a||r}return a?(a!==u[0]&&u.unshift(a),n[a]):void 0}function q(e,t,n,r){var i,a,o,s,u,c={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(a=l.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=a,a=l.shift())if("*"===a)a=u;else if("*"!==u&&u!==a){if(o=c[u+" "+a]||c["* "+a],!o)for(i in c)if(s=i.split(" "),s[1]===a&&(o=c[u+" "+s[0]]||c["* "+s[0]])){o===!0?o=c[i]:c[i]!==!0&&(a=s[0],l.unshift(s[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(d){return{state:"parsererror",error:o?d:"No conversion from "+u+" to "+a}}}return{state:"success",data:t}}function $(e,t,n,r){var i;if(it.isArray(t))it.each(t,function(t,i){n||Qn.test(e)?r(e,i):$(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==it.type(t))r(e,t);else for(i in t)$(e+"["+i+"]",t[i],n,r)}function W(){try{return new e.XMLHttpRequest}catch(t){}}function V(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function z(e){return it.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var Q=[],G=Q.slice,J=Q.concat,X=Q.push,Y=Q.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,nt={},rt="1.11.3",it=function(e,t){return new it.fn.init(e,t)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ot=/^-ms-/,st=/-([\da-z])/gi,ut=function(e,t){return t.toUpperCase()};it.fn=it.prototype={jquery:rt,constructor:it,selector:"",length:0,toArray:function(){return G.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:G.call(this)},pushStack:function(e){var t=it.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return it.each(this,e,t)},map:function(e){return this.pushStack(it.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:Q.sort,splice:Q.splice},it.extend=it.fn.extend=function(){var e,t,n,r,i,a,o=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||it.isFunction(o)||(o={}),s===u&&(o=this,s--);u>s;s++)if(null!=(i=arguments[s]))for(r in i)e=o[r],n=i[r],o!==n&&(c&&n&&(it.isPlainObject(n)||(t=it.isArray(n)))?(t?(t=!1,a=e&&it.isArray(e)?e:[]):a=e&&it.isPlainObject(e)?e:{},o[r]=it.extend(c,a,n)):void 0!==n&&(o[r]=n));return o},it.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===it.type(e)},isArray:Array.isArray||function(e){return"array"===it.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!it.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==it.type(e)||e.nodeType||it.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&it.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ot,"ms-").replace(st,ut)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var i,a=0,o=e.length,s=n(e);if(r){if(s)for(;o>a&&(i=t.apply(e[a],r),i!==!1);a++);else for(a in e)if(i=t.apply(e[a],r),i===!1)break}else if(s)for(;o>a&&(i=t.call(e[a],a,e[a]),i!==!1);a++);else for(a in e)if(i=t.call(e[a],a,e[a]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(at,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(n(Object(e))?it.merge(r,"string"==typeof e?[e]:e):X.call(r,e)),r},inArray:function(e,t,n){var r;if(t){if(Y)return Y.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;)e[i++]=t[r++];if(n!==n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],a=0,o=e.length,s=!n;o>a;a++)r=!t(e[a],a),r!==s&&i.push(e[a]);return i},map:function(e,t,r){var i,a=0,o=e.length,s=n(e),u=[];if(s)for(;o>a;a++)i=t(e[a],a,r),null!=i&&u.push(i);else for(a in e)i=t(e[a],a,r),null!=i&&u.push(i);return J.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),it.isFunction(e)?(n=G.call(arguments,2),r=function(){return e.apply(t||this,n.concat(G.call(arguments)))},r.guid=e.guid=e.guid||it.guid++,r):void 0},now:function(){return+new Date},support:nt}),it.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ct=function(e){function t(e,t,n,r){var i,a,o,s,u,c,d,g,p,h;if((t?t.ownerDocument||t:F)!==B&&T(t),t=t||B,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!r&&K){if(11!==s&&(i=vt.exec(e)))if(o=i[1]){if(9===s){if(a=t.getElementById(o),!a||!a.parentNode)return n;if(a.id===o)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(o))&&U(t,a)&&a.id===o)return n.push(a),n}else{if(i[2])return Y.apply(n,t.getElementsByTagName(e)),n;if((o=i[3])&&S.getElementsByClassName)return Y.apply(n,t.getElementsByClassName(o)),n}if(S.qsa&&(!j||!j.test(e))){if(g=d=O,p=t,h=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=M(e),(d=t.getAttribute("id"))?g=d.replace(kt,"\\$&"):t.setAttribute("id",g),g="[id='"+g+"'] ",u=c.length;u--;)c[u]=g+f(c[u]);p=Ct.test(e)&&l(t.parentNode)||t,h=c.join(",")}if(h)try{return Y.apply(n,p.querySelectorAll(h)),n}catch(m){}finally{d||t.removeAttribute("id")}}}return P(e.replace(ut,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>b.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[O]=!0,e}function i(e){var t=B.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),r=e.length;r--;)b.attrHandle[n[r]]=t}function o(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||z)-(~e.sourceIndex||z);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var i,a=e([],n.length,t),o=a.length;o--;)n[i=a[o]]&&(n[i]=!(r[i]=n[i]))})})}function l(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function g(e,t,n){var r=t.dir,i=n&&"parentNode"===r,a=R++;return t.first?function(t,n,a){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,a)}:function(t,n,o){var s,u,c=[H,a];if(o){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,o))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(u=t[O]||(t[O]={}),(s=u[r])&&s[0]===H&&s[1]===a)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,o))return!0}}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function h(e,n,r){for(var i=0,a=n.length;a>i;i++)t(e,n[i],r);return r}function m(e,t,n,r,i){for(var a,o=[],s=0,u=e.length,c=null!=t;u>s;s++)(a=e[s])&&(!n||n(a,r,i))&&(o.push(a),c&&t.push(s));return o}function y(e,t,n,i,a,o){return i&&!i[O]&&(i=y(i)),a&&!a[O]&&(a=y(a,o)),r(function(r,o,s,u){var c,l,d,f=[],g=[],p=o.length,y=r||h(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?y:m(y,f,e,s,u),C=n?a||(r?e:p||i)?[]:o:v;if(n&&n(v,C,s,u),i)for(c=m(C,g),i(c,[],s,u),l=c.length;l--;)(d=c[l])&&(C[g[l]]=!(v[g[l]]=d));if(r){if(a||e){if(a){for(c=[],l=C.length;l--;)(d=C[l])&&c.push(v[l]=d);a(null,C=[],c,u)}for(l=C.length;l--;)(d=C[l])&&(c=a?et(r,d):f[l])>-1&&(r[c]=!(o[c]=d))}}else C=m(C===o?C.splice(p,C.length):C),a?a(null,o,C,u):Y.apply(o,C)})}function v(e){for(var t,n,r,i=e.length,a=b.relative[e[0].type],o=a||b.relative[" "],s=a?1:0,u=g(function(e){return e===t},o,!0),c=g(function(e){return et(t,e)>-1},o,!0),l=[function(e,n,r){var i=!a&&(r||n!==_)||((t=n).nodeType?u(e,n,r):c(e,n,r));return t=null,i}];i>s;s++)if(n=b.relative[e[s].type])l=[g(p(l),n)];else{if(n=b.filter[e[s].type].apply(null,e[s].matches),n[O]){for(r=++s;i>r&&!b.relative[e[r].type];r++);return y(s>1&&p(l),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ut,"$1"),n,r>s&&v(e.slice(s,r)),i>r&&v(e=e.slice(r)),i>r&&f(e))}l.push(n)}return p(l)}function C(e,n){var i=n.length>0,a=e.length>0,o=function(r,o,s,u,c){var l,d,f,g=0,p="0",h=r&&[],y=[],v=_,C=r||a&&b.find.TAG("*",c),k=H+=null==v?1:Math.random()||.1,S=C.length;for(c&&(_=o!==B&&o);p!==S&&null!=(l=C[p]);p++){if(a&&l){for(d=0;f=e[d++];)if(f(l,o,s)){u.push(l);break}c&&(H=k)}i&&((l=!f&&l)&&g--,r&&h.push(l))}if(g+=p,i&&p!==g){for(d=0;f=n[d++];)f(h,y,o,s);if(r){if(g>0)for(;p--;)h[p]||y[p]||(y[p]=J.call(u));y=m(y)}Y.apply(u,y),c&&!r&&y.length>0&&g+n.length>1&&t.uniqueSort(u)}return c&&(H=k,_=v),h};return i?r(o):o}var k,S,b,x,D,M,E,P,_,I,w,T,B,A,K,j,N,L,U,O="sizzle"+1*new Date,F=e.document,H=0,R=0,q=n(),$=n(),W=n(),V=function(e,t){return e===t&&(w=!0),0},z=1<<31,Q={}.hasOwnProperty,G=[],J=G.pop,X=G.push,Y=G.push,Z=G.slice,et=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=rt.replace("w","w#"),at="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+at+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),ut=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ct=new RegExp("^"+nt+"*,"+nt+"*"),lt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),dt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ft=new RegExp(ot),gt=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ht=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,yt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ct=/[+~]/,kt=/'|\\/g,St=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xt=function(){T()};try{Y.apply(G=Z.call(F.childNodes),F.childNodes),G[F.childNodes.length].nodeType}catch(Dt){Y={apply:G.length?function(e,t){X.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}S=t.support={},D=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},T=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:F;return r!==B&&9===r.nodeType&&r.documentElement?(B=r,A=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),K=!D(r),S.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),S.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),S.getElementsByClassName=yt.test(r.getElementsByClassName),S.getById=i(function(e){return A.appendChild(e).id=O,!r.getElementsByName||!r.getElementsByName(O).length}),S.getById?(b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&K){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},b.filter.ID=function(e){var t=e.replace(St,bt);return function(e){return e.getAttribute("id")===t}}):(delete b.find.ID,b.filter.ID=function(e){var t=e.replace(St,bt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),b.find.TAG=S.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):S.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[i++];)1===n.nodeType&&r.push(n);return r}return a},b.find.CLASS=S.getElementsByClassName&&function(e,t){return K?t.getElementsByClassName(e):void 0},N=[],j=[],(S.qsa=yt.test(r.querySelectorAll))&&(i(function(e){A.appendChild(e).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||j.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+O+"-]").length||j.push("~="),e.querySelectorAll(":checked").length||j.push(":checked"),e.querySelectorAll("a#"+O+"+*").length||j.push(".#.+[+~]")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&j.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),j.push(",.*:")})),(S.matchesSelector=yt.test(L=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&i(function(e){S.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),N.push("!=",ot)}),j=j.length&&new RegExp(j.join("|")),N=N.length&&new RegExp(N.join("|")),t=yt.test(A.compareDocumentPosition),U=t||yt.test(A.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return w=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!S.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===F&&U(F,e)?-1:t===r||t.ownerDocument===F&&U(F,t)?1:I?et(I,e)-et(I,t):0:4&n?-1:1)}:function(e,t){if(e===t)return w=!0,0;var n,i=0,a=e.parentNode,s=t.parentNode,u=[e],c=[t];if(!a||!s)return e===r?-1:t===r?1:a?-1:s?1:I?et(I,e)-et(I,t):0;if(a===s)return o(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;u[i]===c[i];)i++;return i?o(u[i],c[i]):u[i]===F?-1:c[i]===F?1:0},r):B},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==B&&T(e),n=n.replace(dt,"='$1']"),!(!S.matchesSelector||!K||N&&N.test(n)||j&&j.test(n)))try{var r=L.call(e,n);if(r||S.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,B,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==B&&T(e),U(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==B&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&Q.call(b.attrHandle,t.toLowerCase())?n(e,t,!K):void 0;return void 0!==r?r:S.attributes||!K?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(w=!S.detectDuplicates,I=!S.sortStable&&e.slice(0),e.sort(V),w){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return I=null,e},x=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=x(t);return n},b=t.selectors={cacheLength:50,createPseudo:r,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(St,bt),e[3]=(e[3]||e[4]||e[5]||"").replace(St,bt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ft.test(n)&&(t=M(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(St,bt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var a=t.attr(i,e);return null==a?"!="===n:n?(a+="","="===n?a===r:"!="===n?a!==r:"^="===n?r&&0===a.indexOf(r):"*="===n?r&&a.indexOf(r)>-1:"$="===n?r&&a.slice(-r.length)===r:"~="===n?(" "+a.replace(st," ")+" ").indexOf(r)>-1:"|="===n?a===r||a.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,d,f,g,p,h=a!==o?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(m){if(a){for(;h;){for(d=t;d=d[h];)if(s?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;p=h="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&v){for(l=m[O]||(m[O]={}),c=l[e]||[],g=c[0]===H&&c[1],f=c[0]===H&&c[2],d=g&&m.childNodes[g];d=++g&&d&&d[h]||(f=g=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){l[e]=[H,g,f];break}}else if(v&&(c=(t[O]||(t[O]={}))[e])&&c[0]===H)f=c[1];else for(;(d=++g&&d&&d[h]||(f=g=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++f||(v&&((d[O]||(d[O]={}))[e]=[H,f]),d!==t)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(e,n){var i,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[O]?a(n):a.length>1?(i=[e,e,"",n],b.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=a(e,n),o=i.length;o--;)r=et(e,i[o]),e[r]=!(t[r]=i[o])}):function(e){return a(e,0,i)}):a}},pseudos:{not:r(function(e){var t=[],n=[],i=E(e.replace(ut,"$1"));return i[O]?r(function(e,t,n,r){for(var a,o=i(e,null,r,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,r,a){return t[0]=e,i(t,null,a,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(St,bt),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:r(function(e){return gt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(St,bt).toLowerCase(),function(t){var n;do if(n=K?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===A},focus:function(e){return e===B.activeElement&&(!B.hasFocus||B.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return ht.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},b.pseudos.nth=b.pseudos.eq;for(k in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[k]=s(k);for(k in{submit:!0,reset:!0})b.pseudos[k]=u(k);return d.prototype=b.filters=b.pseudos,b.setFilters=new d,M=t.tokenize=function(e,n){var r,i,a,o,s,u,c,l=$[e+" "];if(l)return n?0:l.slice(0);for(s=e,u=[],c=b.preFilter;s;){(!r||(i=ct.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(a=[])),r=!1,(i=lt.exec(s))&&(r=i.shift(),a.push({value:r,type:i[0].replace(ut," ")}),s=s.slice(r.length));
for(o in b.filter)!(i=pt[o].exec(s))||c[o]&&!(i=c[o](i))||(r=i.shift(),a.push({value:r,type:o,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):$(e,u).slice(0)},E=t.compile=function(e,t){var n,r=[],i=[],a=W[e+" "];if(!a){for(t||(t=M(e)),n=t.length;n--;)a=v(t[n]),a[O]?r.push(a):i.push(a);a=W(e,C(i,r)),a.selector=e}return a},P=t.select=function(e,t,n,r){var i,a,o,s,u,c="function"==typeof e&&e,d=!r&&M(e=c.selector||e);if(n=n||[],1===d.length){if(a=d[0]=d[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&S.getById&&9===t.nodeType&&K&&b.relative[a[1].type]){if(t=(b.find.ID(o.matches[0].replace(St,bt),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(i=pt.needsContext.test(e)?0:a.length;i--&&(o=a[i],!b.relative[s=o.type]);)if((u=b.find[s])&&(r=u(o.matches[0].replace(St,bt),Ct.test(a[0].type)&&l(t.parentNode)||t))){if(a.splice(i,1),e=r.length&&f(a),!e)return Y.apply(n,r),n;break}}return(c||E(e,d))(r,t,!K,n,Ct.test(e)&&l(t.parentNode)||t),n},S.sortStable=O.split("").sort(V).join("")===O,S.detectDuplicates=!!w,T(),S.sortDetached=i(function(e){return 1&e.compareDocumentPosition(B.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),S.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||a(tt,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);it.find=ct,it.expr=ct.selectors,it.expr[":"]=it.expr.pseudos,it.unique=ct.uniqueSort,it.text=ct.getText,it.isXMLDoc=ct.isXML,it.contains=ct.contains;var lt=it.expr.match.needsContext,dt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^.[^:#\[\.,]*$/;it.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?it.find.matchesSelector(r,e)?[r]:[]:it.find.matches(e,it.grep(t,function(e){return 1===e.nodeType}))},it.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(it(e).filter(function(){for(t=0;i>t;t++)if(it.contains(r[t],this))return!0}));for(t=0;i>t;t++)it.find(e,r[t],n);return n=this.pushStack(i>1?it.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&lt.test(e)?it(e):e||[],!1).length}});var gt,pt=e.document,ht=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=it.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ht.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||gt).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof it?t[0]:t,it.merge(this,it.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:pt,!0)),dt.test(n[1])&&it.isPlainObject(t))for(n in t)it.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=pt.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return gt.find(e);this.length=1,this[0]=r}return this.context=pt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):it.isFunction(e)?"undefined"!=typeof gt.ready?gt.ready(e):e(it):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),it.makeArray(e,this))};mt.prototype=it.fn,gt=it(pt);var yt=/^(?:parents|prev(?:Until|All))/,vt={children:!0,contents:!0,next:!0,prev:!0};it.extend({dir:function(e,t,n){for(var r=[],i=e[t];i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!it(i).is(n));)1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),it.fn.extend({has:function(e){var t,n=it(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(it.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,a=[],o=lt.test(e)||"string"!=typeof e?it(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&it.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?it.unique(a):a)},index:function(e){return e?"string"==typeof e?it.inArray(this[0],it(e)):it.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(it.unique(it.merge(this.get(),it(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),it.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return it.dir(e,"parentNode")},parentsUntil:function(e,t,n){return it.dir(e,"parentNode",n)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return it.dir(e,"nextSibling")},prevAll:function(e){return it.dir(e,"previousSibling")},nextUntil:function(e,t,n){return it.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return it.dir(e,"previousSibling",n)},siblings:function(e){return it.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return it.sibling(e.firstChild)},contents:function(e){return it.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:it.merge([],e.childNodes)}},function(e,t){it.fn[e]=function(n,r){var i=it.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=it.filter(r,i)),this.length>1&&(vt[e]||(i=it.unique(i)),yt.test(e)&&(i=i.reverse())),this.pushStack(i)}});var Ct=/\S+/g,kt={};it.Callbacks=function(e){e="string"==typeof e?kt[e]||a(e):it.extend({},e);var t,n,r,i,o,s,u=[],c=!e.once&&[],l=function(a){for(n=e.memory&&a,r=!0,o=s||0,s=0,i=u.length,t=!0;u&&i>o;o++)if(u[o].apply(a[0],a[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(c?c.length&&l(c.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var r=u.length;!function a(t){it.each(t,function(t,n){var r=it.type(n);"function"===r?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==r&&a(n)})}(arguments),t?i=u.length:n&&(s=r,l(n))}return this},remove:function(){return u&&it.each(arguments,function(e,n){for(var r;(r=it.inArray(n,u,r))>-1;)u.splice(r,1),t&&(i>=r&&i--,o>=r&&o--)}),this},has:function(e){return e?it.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],i=0,this},disable:function(){return u=c=n=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,n||d.disable(),this},locked:function(){return!c},fireWith:function(e,n){return!u||r&&!c||(n=n||[],n=[e,n.slice?n.slice():n],t?c.push(n):l(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!r}};return d},it.extend({Deferred:function(e){var t=[["resolve","done",it.Callbacks("once memory"),"resolved"],["reject","fail",it.Callbacks("once memory"),"rejected"],["notify","progress",it.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return it.Deferred(function(n){it.each(t,function(t,a){var o=it.isFunction(e[t])&&e[t];i[a[1]](function(){var e=o&&o.apply(this,arguments);e&&it.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?it.extend(e,r):r}},i={};return r.pipe=r.then,it.each(t,function(e,a){var o=a[2],s=a[3];r[a[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[a[0]]=function(){return i[a[0]+"With"](this===i?r:this,arguments),this},i[a[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,a=G.call(arguments),o=a.length,s=1!==o||e&&it.isFunction(e.promise)?o:0,u=1===s?e:it.Deferred(),c=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?G.call(arguments):i,r===t?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(o>1)for(t=new Array(o),n=new Array(o),r=new Array(o);o>i;i++)a[i]&&it.isFunction(a[i].promise)?a[i].promise().done(c(i,r,a)).fail(u.reject).progress(c(i,n,t)):--s;return s||u.resolveWith(r,a),u.promise()}});var St;it.fn.ready=function(e){return it.ready.promise().done(e),this},it.extend({isReady:!1,readyWait:1,holdReady:function(e){e?it.readyWait++:it.ready(!0)},ready:function(e){if(e===!0?!--it.readyWait:!it.isReady){if(!pt.body)return setTimeout(it.ready);it.isReady=!0,e!==!0&&--it.readyWait>0||(St.resolveWith(pt,[it]),it.fn.triggerHandler&&(it(pt).triggerHandler("ready"),it(pt).off("ready")))}}}),it.ready.promise=function(t){if(!St)if(St=it.Deferred(),"complete"===pt.readyState)setTimeout(it.ready);else if(pt.addEventListener)pt.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{pt.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&pt.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!it.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}o(),it.ready()}}()}return St.promise(t)};var bt,xt="undefined";for(bt in it(nt))break;nt.ownLast="0"!==bt,nt.inlineBlockNeedsLayout=!1,it(function(){var e,t,n,r;n=pt.getElementsByTagName("body")[0],n&&n.style&&(t=pt.createElement("div"),r=pt.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==xt&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=pt.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(t){nt.deleteExpando=!1}}e=null}(),it.acceptData=function(e){var t=it.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Dt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Mt=/([A-Z])/g;it.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?it.cache[e[it.expando]]:e[it.expando],!!e&&!c(e)},data:function(e,t,n){return l(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return l(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),it.fn.extend({data:function(e,t){var n,r,i,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(i=it.data(a),1===a.nodeType&&!it._data(a,"parsedAttrs"))){for(n=o.length;n--;)o[n]&&(r=o[n].name,0===r.indexOf("data-")&&(r=it.camelCase(r.slice(5)),u(a,r,i[r])));it._data(a,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){it.data(this,e)}):arguments.length>1?this.each(function(){it.data(this,e,t)}):a?u(a,e,it.data(a,e)):void 0},removeData:function(e){return this.each(function(){it.removeData(this,e)})}}),it.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=it._data(e,t),n&&(!r||it.isArray(n)?r=it._data(e,t,it.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=it.queue(e,t),r=n.length,i=n.shift(),a=it._queueHooks(e,t),o=function(){it.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete a.stop,i.call(e,o,a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return it._data(e,n)||it._data(e,n,{empty:it.Callbacks("once memory").add(function(){it._removeData(e,t+"queue"),it._removeData(e,n)})})}}),it.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?it.queue(this[0],e):void 0===t?this:this.each(function(){var n=it.queue(this,e,t);it._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&it.dequeue(this,e)})},dequeue:function(e){return this.each(function(){it.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=it.Deferred(),a=this,o=this.length,s=function(){--r||i.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)n=it._data(a[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pt=["Top","Right","Bottom","Left"],_t=function(e,t){return e=t||e,"none"===it.css(e,"display")||!it.contains(e.ownerDocument,e)},It=it.access=function(e,t,n,r,i,a,o){var s=0,u=e.length,c=null==n;if("object"===it.type(n)){i=!0;for(s in n)it.access(e,t,s,n[s],!0,a,o)}else if(void 0!==r&&(i=!0,it.isFunction(r)||(o=!0),c&&(o?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(it(e),n)})),t))for(;u>s;s++)t(e[s],n,o?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):u?t(e[0],n):a},wt=/^(?:checkbox|radio)$/i;!function(){var e=pt.createElement("input"),t=pt.createElement("div"),n=pt.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===t.firstChild.nodeType,nt.tbody=!t.getElementsByTagName("tbody").length,nt.htmlSerialize=!!t.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==pt.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),nt.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){nt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(r){nt.deleteExpando=!1}}}(),function(){var t,n,r=pt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(nt[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),nt[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var Tt=/^(?:input|select|textarea)$/i,Bt=/^key/,At=/^(?:mouse|pointer|contextmenu)|click/,Kt=/^(?:focusinfocus|focusoutblur)$/,jt=/^([^.]*)(?:\.(.+)|)$/;it.event={global:{},add:function(e,t,n,r,i){var a,o,s,u,c,l,d,f,g,p,h,m=it._data(e);if(m){for(n.handler&&(u=n,n=u.handler,i=u.selector),n.guid||(n.guid=it.guid++),(o=m.events)||(o=m.events={}),(l=m.handle)||(l=m.handle=function(e){return typeof it===xt||e&&it.event.triggered===e.type?void 0:it.event.dispatch.apply(l.elem,arguments)},l.elem=e),t=(t||"").match(Ct)||[""],s=t.length;s--;)a=jt.exec(t[s])||[],g=h=a[1],p=(a[2]||"").split(".").sort(),g&&(c=it.event.special[g]||{},g=(i?c.delegateType:c.bindType)||g,c=it.event.special[g]||{},d=it.extend({type:g,origType:h,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&it.expr.match.needsContext.test(i),namespace:p.join(".")},u),(f=o[g])||(f=o[g]=[],f.delegateCount=0,c.setup&&c.setup.call(e,r,p,l)!==!1||(e.addEventListener?e.addEventListener(g,l,!1):e.attachEvent&&e.attachEvent("on"+g,l))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),it.event.global[g]=!0);e=null}},remove:function(e,t,n,r,i){var a,o,s,u,c,l,d,f,g,p,h,m=it.hasData(e)&&it._data(e);if(m&&(l=m.events)){for(t=(t||"").match(Ct)||[""],c=t.length;c--;)if(s=jt.exec(t[c])||[],g=h=s[1],p=(s[2]||"").split(".").sort(),g){for(d=it.event.special[g]||{},g=(r?d.delegateType:d.bindType)||g,f=l[g]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=a=f.length;a--;)o=f[a],!i&&h!==o.origType||n&&n.guid!==o.guid||s&&!s.test(o.namespace)||r&&r!==o.selector&&("**"!==r||!o.selector)||(f.splice(a,1),o.selector&&f.delegateCount--,d.remove&&d.remove.call(e,o));u&&!f.length&&(d.teardown&&d.teardown.call(e,p,m.handle)!==!1||it.removeEvent(e,g,m.handle),delete l[g])}else for(g in l)it.event.remove(e,g+t[c],n,r,!0);it.isEmptyObject(l)&&(delete m.handle,it._removeData(e,"events"))}},trigger:function(t,n,r,i){var a,o,s,u,c,l,d,f=[r||pt],g=tt.call(t,"type")?t.type:t,p=tt.call(t,"namespace")?t.namespace.split("."):[];if(s=l=r=r||pt,3!==r.nodeType&&8!==r.nodeType&&!Kt.test(g+it.event.triggered)&&(g.indexOf(".")>=0&&(p=g.split("."),g=p.shift(),p.sort()),o=g.indexOf(":")<0&&"on"+g,t=t[it.expando]?t:new it.Event(g,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:it.makeArray(n,[t]),c=it.event.special[g]||{},i||!c.trigger||c.trigger.apply(r,n)!==!1)){if(!i&&!c.noBubble&&!it.isWindow(r)){for(u=c.delegateType||g,Kt.test(u+g)||(s=s.parentNode);s;s=s.parentNode)f.push(s),l=s;l===(r.ownerDocument||pt)&&f.push(l.defaultView||l.parentWindow||e)}for(d=0;(s=f[d++])&&!t.isPropagationStopped();)t.type=d>1?u:c.bindType||g,a=(it._data(s,"events")||{})[t.type]&&it._data(s,"handle"),a&&a.apply(s,n),a=o&&s[o],a&&a.apply&&it.acceptData(s)&&(t.result=a.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=g,!i&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(f.pop(),n)===!1)&&it.acceptData(r)&&o&&r[g]&&!it.isWindow(r)){l=r[o],l&&(r[o]=null),it.event.triggered=g;try{r[g]()}catch(h){}it.event.triggered=void 0,l&&(r[o]=l)}return t.result}},dispatch:function(e){e=it.event.fix(e);var t,n,r,i,a,o=[],s=G.call(arguments),u=(it._data(this,"events")||{})[e.type]||[],c=it.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(o=it.event.handlers.call(this,e,u),t=0;(i=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,a=0;(r=i.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,n=((it.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,a,o=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(i=[],a=0;s>a;a++)r=t[a],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?it(n,this).index(u)>=0:it.find(n,this,null,[u]).length),i[n]&&i.push(r);i.length&&o.push({elem:u,handlers:i})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},fix:function(e){if(e[it.expando])return e;var t,n,r,i=e.type,a=e,o=this.fixHooks[i];for(o||(this.fixHooks[i]=o=At.test(i)?this.mouseHooks:Bt.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new it.Event(a),t=r.length;t--;)n=r[t],e[n]=a[n];return e.target||(e.target=a.srcElement||pt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,a=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||pt,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return it.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return it.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=it.extend(new it.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?it.event.trigger(i,null,t):it.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},it.removeEvent=pt.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===xt&&(e[r]=null),e.detachEvent(r,n))},it.Event=function(e,t){return this instanceof it.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:g):this.type=e,t&&it.extend(this,t),this.timeStamp=e&&e.timeStamp||it.now(),this[it.expando]=!0,void 0):new it.Event(e,t)},it.Event.prototype={isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},it.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){it.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,a=e.handleObj;return(!i||i!==r&&!it.contains(r,i))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),nt.submitBubbles||(it.event.special.submit={setup:function(){return it.nodeName(this,"form")?!1:(it.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=it.nodeName(t,"input")||it.nodeName(t,"button")?t.form:void 0;n&&!it._data(n,"submitBubbles")&&(it.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),it._data(n,"submitBubbles",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&it.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return it.nodeName(this,"form")?!1:(it.event.remove(this,"._submit"),void 0)}}),nt.changeBubbles||(it.event.special.change={setup:function(){return Tt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(it.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),it.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),it.event.simulate("change",this,e,!0)})),!1):(it.event.add(this,"beforeactivate._change",function(e){var t=e.target;Tt.test(t.nodeName)&&!it._data(t,"changeBubbles")&&(it.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||it.event.simulate("change",this.parentNode,e,!0)}),it._data(t,"changeBubbles",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return it.event.remove(this,"._change"),!Tt.test(this.nodeName)}}),nt.focusinBubbles||it.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){it.event.simulate(t,e.target,it.event.fix(e),!0)};it.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=it._data(r,t);i||r.addEventListener(e,n,!0),it._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=it._data(r,t)-1;i?it._data(r,t,i):(r.removeEventListener(e,n,!0),it._removeData(r,t))}}}),it.fn.extend({on:function(e,t,n,r,i){var a,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=g;else if(!r)return this;return 1===i&&(o=r,r=function(e){return it().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=it.guid++)),this.each(function(){it.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,it(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=g),this.each(function(){it.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){it.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?it.event.trigger(e,t,n,!0):void 0}});var Nt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Lt=/ jQuery\d+="(?:null|\d+)"/g,Ut=new RegExp("<(?:"+Nt+")[\\s/>]","i"),Ot=/^\s+/,Ft=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ht=/<([\w:]+)/,Rt=/<tbody/i,qt=/<|&#?\w+;/,$t=/<(?:script|style|link)/i,Wt=/checked\s*(?:[^=]|=\s*.checked.)/i,Vt=/^$|\/(?:java|ecma)script/i,zt=/^true\/(.*)/,Qt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Gt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Jt=h(pt),Xt=Jt.appendChild(pt.createElement("div"));Gt.optgroup=Gt.option,Gt.tbody=Gt.tfoot=Gt.colgroup=Gt.caption=Gt.thead,Gt.th=Gt.td,it.extend({clone:function(e,t,n){var r,i,a,o,s,u=it.contains(e.ownerDocument,e);if(nt.html5Clone||it.isXMLDoc(e)||!Ut.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(Xt.innerHTML=e.outerHTML,Xt.removeChild(a=Xt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||it.isXMLDoc(e)))for(r=m(a),s=m(e),o=0;null!=(i=s[o]);++o)r[o]&&x(i,r[o]);if(t)if(n)for(s=s||m(e),r=r||m(a),o=0;null!=(i=s[o]);o++)b(i,r[o]);else b(e,a);return r=m(a,"script"),r.length>0&&S(r,!u&&m(e,"script")),r=s=i=null,a},buildFragment:function(e,t,n,r){for(var i,a,o,s,u,c,l,d=e.length,f=h(t),g=[],p=0;d>p;p++)if(a=e[p],a||0===a)if("object"===it.type(a))it.merge(g,a.nodeType?[a]:a);else if(qt.test(a)){for(s=s||f.appendChild(t.createElement("div")),u=(Ht.exec(a)||["",""])[1].toLowerCase(),l=Gt[u]||Gt._default,s.innerHTML=l[1]+a.replace(Ft,"<$1></$2>")+l[2],i=l[0];i--;)s=s.lastChild;if(!nt.leadingWhitespace&&Ot.test(a)&&g.push(t.createTextNode(Ot.exec(a)[0])),!nt.tbody)for(a="table"!==u||Rt.test(a)?"<table>"!==l[1]||Rt.test(a)?0:s:s.firstChild,i=a&&a.childNodes.length;i--;)it.nodeName(c=a.childNodes[i],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(it.merge(g,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else g.push(t.createTextNode(a));for(s&&f.removeChild(s),nt.appendChecked||it.grep(m(g,"input"),y),p=0;a=g[p++];)if((!r||-1===it.inArray(a,r))&&(o=it.contains(a.ownerDocument,a),s=m(f.appendChild(a),"script"),o&&S(s),n))for(i=0;a=s[i++];)Vt.test(a.type||"")&&n.push(a);return s=null,f},cleanData:function(e,t){for(var n,r,i,a,o=0,s=it.expando,u=it.cache,c=nt.deleteExpando,l=it.event.special;null!=(n=e[o]);o++)if((t||it.acceptData(n))&&(i=n[s],a=i&&u[i])){if(a.events)for(r in a.events)l[r]?it.event.remove(n,r):it.removeEvent(n,r,a.handle);u[i]&&(delete u[i],c?delete n[s]:typeof n.removeAttribute!==xt?n.removeAttribute(s):n[s]=null,Q.push(i))}}}),it.fn.extend({text:function(e){return It(this,function(e){return void 0===e?it.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?it.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||it.cleanData(m(n)),n.parentNode&&(t&&it.contains(n.ownerDocument,n)&&S(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&it.cleanData(m(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&it.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return it.clone(this,e,t)})},html:function(e){return It(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Lt,""):void 0;if(!("string"!=typeof e||$t.test(e)||!nt.htmlSerialize&&Ut.test(e)||!nt.leadingWhitespace&&Ot.test(e)||Gt[(Ht.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Ft,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(it.cleanData(m(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,it.cleanData(m(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=J.apply([],e);var n,r,i,a,o,s,u=0,c=this.length,l=this,d=c-1,f=e[0],g=it.isFunction(f);if(g||c>1&&"string"==typeof f&&!nt.checkClone&&Wt.test(f))return this.each(function(n){var r=l.eq(n);g&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(c&&(s=it.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(a=it.map(m(s,"script"),C),i=a.length;c>u;u++)r=s,u!==d&&(r=it.clone(r,!0,!0),i&&it.merge(a,m(r,"script"))),t.call(this[u],r,u);if(i)for(o=a[a.length-1].ownerDocument,it.map(a,k),u=0;i>u;u++)r=a[u],Vt.test(r.type||"")&&!it._data(r,"globalEval")&&it.contains(o,r)&&(r.src?it._evalUrl&&it._evalUrl(r.src):it.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Qt,"")));s=n=null}return this}}),it.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){it.fn[e]=function(e){for(var n,r=0,i=[],a=it(e),o=a.length-1;o>=r;r++)n=r===o?this:this.clone(!0),it(a[r])[t](n),X.apply(i,n.get());return this.pushStack(i)}});var Yt,Zt={};!function(){var e;nt.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=pt.getElementsByTagName("body")[0],n&&n.style?(t=pt.createElement("div"),r=pt.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==xt&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(pt.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var en,tn,nn=/^margin/,rn=new RegExp("^("+Et+")(?!px)[a-z%]+$","i"),an=/^(top|right|bottom|left)$/;e.getComputedStyle?(en=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tn=function(e,t,n){var r,i,a,o,s=e.style;return n=n||en(e),o=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==o||it.contains(e.ownerDocument,e)||(o=it.style(e,t)),rn.test(o)&&nn.test(t)&&(r=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=r,s.minWidth=i,s.maxWidth=a)),void 0===o?o:o+""
}):pt.documentElement.currentStyle&&(en=function(e){return e.currentStyle},tn=function(e,t,n){var r,i,a,o,s=e.style;return n=n||en(e),o=n?n[t]:void 0,null==o&&s&&s[t]&&(o=s[t]),rn.test(o)&&!an.test(t)&&(r=s.left,i=e.runtimeStyle,a=i&&i.left,a&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":o,o=s.pixelLeft+"px",s.left=r,a&&(i.left=a)),void 0===o?o:o+""||"auto"}),function(){function t(){var t,n,r,i;n=pt.getElementsByTagName("body")[0],n&&n.style&&(t=pt.createElement("div"),r=pt.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a=o=!1,u=!0,e.getComputedStyle&&(a="1%"!==(e.getComputedStyle(t,null)||{}).top,o="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(pt.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),n.removeChild(r))}var n,r,i,a,o,s,u;n=pt.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=n.getElementsByTagName("a")[0],r=i&&i.style,r&&(r.cssText="float:left;opacity:.5",nt.opacity="0.5"===r.opacity,nt.cssFloat=!!r.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===r.boxSizing||""===r.MozBoxSizing||""===r.WebkitBoxSizing,it.extend(nt,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==o&&t(),o},pixelPosition:function(){return null==a&&t(),a},reliableMarginRight:function(){return null==u&&t(),u}}))}(),it.swap=function(e,t,n,r){var i,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];i=n.apply(e,r||[]);for(a in t)e.style[a]=o[a];return i};var on=/alpha\([^)]*\)/i,sn=/opacity\s*=\s*([^)]*)/,un=/^(none|table(?!-c[ea]).+)/,cn=new RegExp("^("+Et+")(.*)$","i"),ln=new RegExp("^([+-])=("+Et+")","i"),dn={position:"absolute",visibility:"hidden",display:"block"},fn={letterSpacing:"0",fontWeight:"400"},gn=["Webkit","O","Moz","ms"];it.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,o,s=it.camelCase(t),u=e.style;if(t=it.cssProps[s]||(it.cssProps[s]=P(u,s)),o=it.cssHooks[t]||it.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:u[t];if(a=typeof n,"string"===a&&(i=ln.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(it.css(e,t)),a="number"),null!=n&&n===n&&("number"!==a||it.cssNumber[s]||(n+="px"),nt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(o&&"set"in o&&void 0===(n=o.set(e,n,r)))))try{u[t]=n}catch(c){}}},css:function(e,t,n,r){var i,a,o,s=it.camelCase(t);return t=it.cssProps[s]||(it.cssProps[s]=P(e.style,s)),o=it.cssHooks[t]||it.cssHooks[s],o&&"get"in o&&(a=o.get(e,!0,n)),void 0===a&&(a=tn(e,t,r)),"normal"===a&&t in fn&&(a=fn[t]),""===n||n?(i=parseFloat(a),n===!0||it.isNumeric(i)?i||0:a):a}}),it.each(["height","width"],function(e,t){it.cssHooks[t]={get:function(e,n,r){return n?un.test(it.css(e,"display"))&&0===e.offsetWidth?it.swap(e,dn,function(){return T(e,t,r)}):T(e,t,r):void 0},set:function(e,n,r){var i=r&&en(e);return I(e,n,r?w(e,t,r,nt.boxSizing&&"border-box"===it.css(e,"boxSizing",!1,i),i):0)}}}),nt.opacity||(it.cssHooks.opacity={get:function(e,t){return sn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=it.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===it.trim(a.replace(on,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=on.test(a)?a.replace(on,i):a+" "+i)}}),it.cssHooks.marginRight=E(nt.reliableMarginRight,function(e,t){return t?it.swap(e,{display:"inline-block"},tn,[e,"marginRight"]):void 0}),it.each({margin:"",padding:"",border:"Width"},function(e,t){it.cssHooks[e+t]={expand:function(n){for(var r=0,i={},a="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+Pt[r]+t]=a[r]||a[r-2]||a[0];return i}},nn.test(e)||(it.cssHooks[e+t].set=I)}),it.fn.extend({css:function(e,t){return It(this,function(e,t,n){var r,i,a={},o=0;if(it.isArray(t)){for(r=en(e),i=t.length;i>o;o++)a[t[o]]=it.css(e,t[o],!1,r);return a}return void 0!==n?it.style(e,t,n):it.css(e,t)},e,t,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){_t(this)?it(this).show():it(this).hide()})}}),it.Tween=B,B.prototype={constructor:B,init:function(e,t,n,r,i,a){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(it.cssNumber[n]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,n=B.propHooks[this.prop];return this.pos=t=this.options.duration?it.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=it.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){it.fx.step[e.prop]?it.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[it.cssProps[e.prop]]||it.cssHooks[e.prop])?it.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},it.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},it.fx=B.prototype.init,it.fx.step={};var pn,hn,mn=/^(?:toggle|show|hide)$/,yn=new RegExp("^(?:([+-])=|)("+Et+")([a-z%]*)$","i"),vn=/queueHooks$/,Cn=[N],kn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=yn.exec(t),a=i&&i[3]||(it.cssNumber[e]?"":"px"),o=(it.cssNumber[e]||"px"!==a&&+r)&&yn.exec(it.css(n.elem,e)),s=1,u=20;if(o&&o[3]!==a){a=a||o[3],i=i||[],o=+r||1;do s=s||".5",o/=s,it.style(n.elem,e,o+a);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(o=n.start=+o||+r||0,n.unit=a,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};it.Animation=it.extend(U,{tweener:function(e,t){it.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],kn[n]=kn[n]||[],kn[n].unshift(t)},prefilter:function(e,t){t?Cn.unshift(e):Cn.push(e)}}),it.speed=function(e,t,n){var r=e&&"object"==typeof e?it.extend({},e):{complete:n||!n&&t||it.isFunction(e)&&e,duration:e,easing:n&&t||t&&!it.isFunction(t)&&t};return r.duration=it.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in it.fx.speeds?it.fx.speeds[r.duration]:it.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){it.isFunction(r.old)&&r.old.call(this),r.queue&&it.dequeue(this,r.queue)},r},it.fn.extend({fadeTo:function(e,t,n,r){return this.filter(_t).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=it.isEmptyObject(e),a=it.speed(t,n,r),o=function(){var t=U(this,it.extend({},e),a);(i||it._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",a=it.timers,o=it._data(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&vn.test(i)&&r(o[i]);for(i=a.length;i--;)a[i].elem!==this||null!=e&&a[i].queue!==e||(a[i].anim.stop(n),t=!1,a.splice(i,1));(t||!n)&&it.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=it._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],a=it.timers,o=r?r.length:0;for(n.finish=!0,it.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),it.each(["toggle","show","hide"],function(e,t){var n=it.fn[t];it.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(K(t,!0),e,r,i)}}),it.each({slideDown:K("show"),slideUp:K("hide"),slideToggle:K("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){it.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),it.timers=[],it.fx.tick=function(){var e,t=it.timers,n=0;for(pn=it.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||it.fx.stop(),pn=void 0},it.fx.timer=function(e){it.timers.push(e),e()?it.fx.start():it.timers.pop()},it.fx.interval=13,it.fx.start=function(){hn||(hn=setInterval(it.fx.tick,it.fx.interval))},it.fx.stop=function(){clearInterval(hn),hn=null},it.fx.speeds={slow:600,fast:200,_default:400},it.fn.delay=function(e,t){return e=it.fx?it.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=pt.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=pt.createElement("select"),i=n.appendChild(pt.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",nt.getSetAttribute="t"!==t.className,nt.style=/top/.test(r.getAttribute("style")),nt.hrefNormalized="/a"===r.getAttribute("href"),nt.checkOn=!!e.value,nt.optSelected=i.selected,nt.enctype=!!pt.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!i.disabled,e=pt.createElement("input"),e.setAttribute("value",""),nt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),nt.radioValue="t"===e.value}();var Sn=/\r/g;it.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=it.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,it(this).val()):e,null==i?i="":"number"==typeof i?i+="":it.isArray(i)&&(i=it.map(i,function(e){return null==e?"":e+""})),t=it.valHooks[this.type]||it.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=it.valHooks[i.type]||it.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Sn,""):null==n?"":n)}}}),it.extend({valHooks:{option:{get:function(e){var t=it.find.attr(e,"value");return null!=t?t:it.trim(it.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,a="select-one"===e.type||0>i,o=a?null:[],s=a?i+1:r.length,u=0>i?s:a?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(nt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&it.nodeName(n.parentNode,"optgroup"))){if(t=it(n).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var n,r,i=e.options,a=it.makeArray(t),o=i.length;o--;)if(r=i[o],it.inArray(it.valHooks.option.get(r),a)>=0)try{r.selected=n=!0}catch(s){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),it.each(["radio","checkbox"],function(){it.valHooks[this]={set:function(e,t){return it.isArray(t)?e.checked=it.inArray(it(e).val(),t)>=0:void 0}},nt.checkOn||(it.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var bn,xn,Dn=it.expr.attrHandle,Mn=/^(?:checked|selected)$/i,En=nt.getSetAttribute,Pn=nt.input;it.fn.extend({attr:function(e,t){return It(this,it.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){it.removeAttr(this,e)})}}),it.extend({attr:function(e,t,n){var r,i,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return typeof e.getAttribute===xt?it.prop(e,t,n):(1===a&&it.isXMLDoc(e)||(t=t.toLowerCase(),r=it.attrHooks[t]||(it.expr.match.bool.test(t)?xn:bn)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=it.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):(it.removeAttr(e,t),void 0))},removeAttr:function(e,t){var n,r,i=0,a=t&&t.match(Ct);if(a&&1===e.nodeType)for(;n=a[i++];)r=it.propFix[n]||n,it.expr.match.bool.test(n)?Pn&&En||!Mn.test(n)?e[r]=!1:e[it.camelCase("default-"+n)]=e[r]=!1:it.attr(e,n,""),e.removeAttribute(En?n:r)},attrHooks:{type:{set:function(e,t){if(!nt.radioValue&&"radio"===t&&it.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),xn={set:function(e,t,n){return t===!1?it.removeAttr(e,n):Pn&&En||!Mn.test(n)?e.setAttribute(!En&&it.propFix[n]||n,n):e[it.camelCase("default-"+n)]=e[n]=!0,n}},it.each(it.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Dn[t]||it.find.attr;Dn[t]=Pn&&En||!Mn.test(t)?function(e,t,r){var i,a;return r||(a=Dn[t],Dn[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Dn[t]=a),i}:function(e,t,n){return n?void 0:e[it.camelCase("default-"+t)]?t.toLowerCase():null}}),Pn&&En||(it.attrHooks.value={set:function(e,t,n){return it.nodeName(e,"input")?(e.defaultValue=t,void 0):bn&&bn.set(e,t,n)}}),En||(bn={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Dn.id=Dn.name=Dn.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},it.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:bn.set},it.attrHooks.contenteditable={set:function(e,t,n){bn.set(e,""===t?!1:t,n)}},it.each(["width","height"],function(e,t){it.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),nt.style||(it.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var _n=/^(?:input|select|textarea|button|object)$/i,In=/^(?:a|area)$/i;it.fn.extend({prop:function(e,t){return It(this,it.prop,e,t,arguments.length>1)},removeProp:function(e){return e=it.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),it.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,a,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return a=1!==o||!it.isXMLDoc(e),a&&(t=it.propFix[t]||t,i=it.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=it.find.attr(e,"tabindex");return t?parseInt(t,10):_n.test(e.nodeName)||In.test(e.nodeName)&&e.href?0:-1}}}}),nt.hrefNormalized||it.each(["href","src"],function(e,t){it.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),nt.optSelected||(it.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),it.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){it.propFix[this.toLowerCase()]=this}),nt.enctype||(it.propFix.enctype="encoding");var wn=/[\t\r\n\f]/g;it.fn.extend({addClass:function(e){var t,n,r,i,a,o,s=0,u=this.length,c="string"==typeof e&&e;if(it.isFunction(e))return this.each(function(t){it(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(Ct)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(wn," "):" ")){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=it.trim(r),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,r,i,a,o,s=0,u=this.length,c=0===arguments.length||"string"==typeof e&&e;if(it.isFunction(e))return this.each(function(t){it(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(Ct)||[];u>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(wn," "):"")){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");o=e?it.trim(r):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):it.isFunction(e)?this.each(function(n){it(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=it(this),a=e.match(Ct)||[];t=a[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(n===xt||"boolean"===n)&&(this.className&&it._data(this,"__className__",this.className),this.className=this.className||e===!1?"":it._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(wn," ").indexOf(t)>=0)return!0;return!1}}),it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){it.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),it.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Tn=it.now(),Bn=/\?/,An=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;it.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=it.trim(t+"");return i&&!it.trim(i.replace(An,function(e,t,i,a){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!a-!i,"")}))?Function("return "+i)():it.error("Invalid JSON: "+t)},it.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||it.error("Invalid XML: "+t),n};var Kn,jn,Nn=/#.*$/,Ln=/([?&])_=[^&]*/,Un=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,On=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fn=/^(?:GET|HEAD)$/,Hn=/^\/\//,Rn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,qn={},$n={},Wn="*/".concat("*");try{jn=location.href}catch(Vn){jn=pt.createElement("a"),jn.href="",jn=jn.href}Kn=Rn.exec(jn.toLowerCase())||[],it.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jn,type:"GET",isLocal:On.test(Kn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":it.parseJSON,"text xml":it.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?H(H(e,it.ajaxSettings),t):H(it.ajaxSettings,e)},ajaxPrefilter:O(qn),ajaxTransport:O($n),ajax:function(e,t){function n(e,t,n,r){var i,l,y,v,k,b=t;2!==C&&(C=2,s&&clearTimeout(s),c=void 0,o=r||"",S.readyState=e>0?4:0,i=e>=200&&300>e||304===e,n&&(v=R(d,S,n)),v=q(d,v,S,i),i?(d.ifModified&&(k=S.getResponseHeader("Last-Modified"),k&&(it.lastModified[a]=k),k=S.getResponseHeader("etag"),k&&(it.etag[a]=k)),204===e||"HEAD"===d.type?b="nocontent":304===e?b="notmodified":(b=v.state,l=v.data,y=v.error,i=!y)):(y=b,(e||!b)&&(b="error",0>e&&(e=0))),S.status=e,S.statusText=(t||b)+"",i?p.resolveWith(f,[l,b,S]):p.rejectWith(f,[S,b,y]),S.statusCode(m),m=void 0,u&&g.trigger(i?"ajaxSuccess":"ajaxError",[S,d,i?l:y]),h.fireWith(f,[S,b]),u&&(g.trigger("ajaxComplete",[S,d]),--it.active||it.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,a,o,s,u,c,l,d=it.ajaxSetup({},t),f=d.context||d,g=d.context&&(f.nodeType||f.jquery)?it(f):it.event,p=it.Deferred(),h=it.Callbacks("once memory"),m=d.statusCode||{},y={},v={},C=0,k="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2===C){if(!l)for(l={};t=Un.exec(o);)l[t[1].toLowerCase()]=t[2];t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===C?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return C||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return C||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>C)for(t in e)m[t]=[m[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||k;return c&&c.abort(t),n(0,t),this}};if(p.promise(S).complete=h.add,S.success=S.done,S.error=S.fail,d.url=((e||d.url||jn)+"").replace(Nn,"").replace(Hn,Kn[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=it.trim(d.dataType||"*").toLowerCase().match(Ct)||[""],null==d.crossDomain&&(r=Rn.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===Kn[1]&&r[2]===Kn[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Kn[3]||("http:"===Kn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=it.param(d.data,d.traditional)),F(qn,d,t,S),2===C)return S;u=it.event&&d.global,u&&0===it.active++&&it.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Fn.test(d.type),a=d.url,d.hasContent||(d.data&&(a=d.url+=(Bn.test(a)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Ln.test(a)?a.replace(Ln,"$1_="+Tn++):a+(Bn.test(a)?"&":"?")+"_="+Tn++)),d.ifModified&&(it.lastModified[a]&&S.setRequestHeader("If-Modified-Since",it.lastModified[a]),it.etag[a]&&S.setRequestHeader("If-None-Match",it.etag[a])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&S.setRequestHeader("Content-Type",d.contentType),S.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Wn+"; q=0.01":""):d.accepts["*"]);for(i in d.headers)S.setRequestHeader(i,d.headers[i]);if(d.beforeSend&&(d.beforeSend.call(f,S,d)===!1||2===C))return S.abort();k="abort";for(i in{success:1,error:1,complete:1})S[i](d[i]);if(c=F($n,d,t,S)){S.readyState=1,u&&g.trigger("ajaxSend",[S,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){S.abort("timeout")},d.timeout));try{C=1,c.send(y,n)}catch(b){if(!(2>C))throw b;n(-1,b)}}else n(-1,"No Transport");return S},getJSON:function(e,t,n){return it.get(e,t,n,"json")},getScript:function(e,t){return it.get(e,void 0,t,"script")}}),it.each(["get","post"],function(e,t){it[t]=function(e,n,r,i){return it.isFunction(n)&&(i=i||r,r=n,n=void 0),it.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),it._evalUrl=function(e){return it.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},it.fn.extend({wrapAll:function(e){if(it.isFunction(e))return this.each(function(t){it(this).wrapAll(e.call(this,t))});if(this[0]){var t=it(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return it.isFunction(e)?this.each(function(t){it(this).wrapInner(e.call(this,t))}):this.each(function(){var t=it(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=it.isFunction(e);return this.each(function(n){it(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){it.nodeName(this,"body")||it(this).replaceWith(this.childNodes)}).end()}}),it.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||it.css(e,"display"))},it.expr.filters.visible=function(e){return!it.expr.filters.hidden(e)};var zn=/%20/g,Qn=/\[\]$/,Gn=/\r?\n/g,Jn=/^(?:submit|button|image|reset|file)$/i,Xn=/^(?:input|select|textarea|keygen)/i;it.param=function(e,t){var n,r=[],i=function(e,t){t=it.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=it.ajaxSettings&&it.ajaxSettings.traditional),it.isArray(e)||e.jquery&&!it.isPlainObject(e))it.each(e,function(){i(this.name,this.value)});else for(n in e)$(n,e[n],t,i);return r.join("&").replace(zn,"+")},it.fn.extend({serialize:function(){return it.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=it.prop(this,"elements");return e?it.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!it(this).is(":disabled")&&Xn.test(this.nodeName)&&!Jn.test(e)&&(this.checked||!wt.test(e))}).map(function(e,t){var n=it(this).val();return null==n?null:it.isArray(n)?it.map(n,function(e){return{name:t.name,value:e.replace(Gn,"\r\n")}}):{name:t.name,value:n.replace(Gn,"\r\n")}}).get()}}),it.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&W()||V()}:W;var Yn=0,Zn={},er=it.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Zn)Zn[e](void 0,!0)}),nt.cors=!!er&&"withCredentials"in er,er=nt.ajax=!!er,er&&it.ajaxTransport(function(e){if(!e.crossDomain||nt.cors){var t;return{send:function(n,r){var i,a=e.xhr(),o=++Yn;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)a[i]=e.xhrFields[i];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&a.setRequestHeader(i,n[i]+"");a.send(e.hasContent&&e.data||null),t=function(n,i){var s,u,c;if(t&&(i||4===a.readyState))if(delete Zn[o],t=void 0,a.onreadystatechange=it.noop,i)4!==a.readyState&&a.abort();else{c={},s=a.status,"string"==typeof a.responseText&&(c.text=a.responseText);try{u=a.statusText}catch(l){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&r(s,u,c,a.getAllResponseHeaders())},e.async?4===a.readyState?setTimeout(t):a.onreadystatechange=Zn[o]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),it.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return it.globalEval(e),e}}}),it.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),it.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=pt.head||it("head")[0]||pt.documentElement;return{send:function(r,i){t=pt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var tr=[],nr=/(=)\?(?=&|$)|\?\?/;it.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tr.pop()||it.expando+"_"+Tn++;return this[e]=!0,e}}),it.ajaxPrefilter("json jsonp",function(t,n,r){var i,a,o,s=t.jsonp!==!1&&(nr.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&nr.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=it.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(nr,"$1"+i):t.jsonp!==!1&&(t.url+=(Bn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||it.error(i+" was not called"),o[0]},t.dataTypes[0]="json",a=e[i],e[i]=function(){o=arguments},r.always(function(){e[i]=a,t[i]&&(t.jsonpCallback=n.jsonpCallback,tr.push(i)),o&&it.isFunction(a)&&a(o[0]),o=a=void 0}),"script"):void 0}),it.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||pt;var r=dt.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=it.buildFragment([e],t,i),i&&i.length&&it(i).remove(),it.merge([],r.childNodes))};var rr=it.fn.load;it.fn.load=function(e,t,n){if("string"!=typeof e&&rr)return rr.apply(this,arguments);var r,i,a,o=this,s=e.indexOf(" ");return s>=0&&(r=it.trim(e.slice(s,e.length)),e=e.slice(0,s)),it.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(a="POST"),o.length>0&&it.ajax({url:e,type:a,dataType:"html",data:t}).done(function(e){i=arguments,o.html(r?it("<div>").append(it.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,i||[e.responseText,t,e])}),this},it.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){it.fn[t]=function(e){return this.on(t,e)}}),it.expr.filters.animated=function(e){return it.grep(it.timers,function(t){return e===t.elem}).length};var ir=e.document.documentElement;it.offset={setOffset:function(e,t,n){var r,i,a,o,s,u,c,l=it.css(e,"position"),d=it(e),f={};"static"===l&&(e.style.position="relative"),s=d.offset(),a=it.css(e,"top"),u=it.css(e,"left"),c=("absolute"===l||"fixed"===l)&&it.inArray("auto",[a,u])>-1,c?(r=d.position(),o=r.top,i=r.left):(o=parseFloat(a)||0,i=parseFloat(u)||0),it.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+o),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):d.css(f)}},it.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){it.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],a=i&&i.ownerDocument;if(a)return t=a.documentElement,it.contains(t,i)?(typeof i.getBoundingClientRect!==xt&&(r=i.getBoundingClientRect()),n=z(a),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===it.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),it.nodeName(e[0],"html")||(n=e.offset()),n.top+=it.css(e[0],"borderTopWidth",!0),n.left+=it.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-it.css(r,"marginTop",!0),left:t.left-n.left-it.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ir;e&&!it.nodeName(e,"html")&&"static"===it.css(e,"position");)e=e.offsetParent;return e||ir})}}),it.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);it.fn[e]=function(r){return It(this,function(e,r,i){var a=z(e);return void 0===i?a?t in a?a[t]:a.document.documentElement[r]:e[r]:(a?a.scrollTo(n?it(a).scrollLeft():i,n?i:it(a).scrollTop()):e[r]=i,void 0)},e,r,arguments.length,null)}}),it.each(["top","left"],function(e,t){it.cssHooks[t]=E(nt.pixelPosition,function(e,n){return n?(n=tn(e,t),rn.test(n)?it(e).position()[t]+"px":n):void 0})}),it.each({Height:"height",Width:"width"},function(e,t){it.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){it.fn[r]=function(r,i){var a=arguments.length&&(n||"boolean"!=typeof r),o=n||(r===!0||i===!0?"margin":"border");return It(this,function(t,n,r){var i;return it.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?it.css(t,n,o):it.style(t,n,r,o)
},t,a?r:void 0,a,null)}})}),it.fn.size=function(){return this.length},it.fn.andSelf=it.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return it});var ar=e.jQuery,or=e.$;return it.noConflict=function(t){return e.$===it&&(e.$=or),t&&e.jQuery===it&&(e.jQuery=ar),it},typeof t===xt&&(e.jQuery=e.$=it),it}),function(e,t){"use strict";var n=function(e){if("object"!=typeof e.document)throw new Error("Cookies.js requires a `window` with a `document` object");var n=function(e,t,r){return 1===arguments.length?n.get(e):n.set(e,t,r)};return n._document=e.document,n._cacheKeyPrefix="cookey.",n._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),n.defaults={path:"/",secure:!1},n.get=function(e){return n._cachedDocumentCookie!==n._document.cookie&&n._renewCache(),n._cache[n._cacheKeyPrefix+e]},n.set=function(e,r,i){return i=n._getExtendedOptions(i),i.expires=n._getExpiresDate(r===t?-1:i.expires),n._document.cookie=n._generateCookieString(e,r,i),n},n.expire=function(e,r){return n.set(e,t,r)},n._getExtendedOptions=function(e){return{path:e&&e.path||n.defaults.path,domain:e&&e.domain||n.defaults.domain,expires:e&&e.expires||n.defaults.expires,secure:e&&e.secure!==t?e.secure:n.defaults.secure}},n._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},n._getExpiresDate=function(e,t){if(t=t||new Date,"number"==typeof e?e=1/0===e?n._maxExpireDate:new Date(t.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!n._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},n._generateCookieString=function(e,t,n){e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),n=n||{};var r=e+"="+t;return r+=n.path?";path="+n.path:"",r+=n.domain?";domain="+n.domain:"",r+=n.expires?";expires="+n.expires.toUTCString():"",r+=n.secure?";secure":""},n._getCacheFromString=function(e){for(var r={},i=e?e.split("; "):[],a=0;a<i.length;a++){var o=n._getKeyValuePairFromCookieString(i[a]);r[n._cacheKeyPrefix+o.key]===t&&(r[n._cacheKeyPrefix+o.key]=o.value)}return r},n._getKeyValuePairFromCookieString=function(e){var t,n,r=e.indexOf("=");r=0>r?e.length:r;try{t=decodeURIComponent(e.substr(0,r))}catch(i){t=e.substr(0,r)}try{n=decodeURIComponent(e.substr(r+1))}catch(i){n=e.substr(r+1),console.log(n)}return{key:t,value:n}},n._renewCache=function(){n._cache=n._getCacheFromString(n._document.cookie),n._cachedDocumentCookie=n._document.cookie},n._areEnabled=function(){var e="cookies.js",t="1"===n.set(e,1).get(e);return n.expire(e),t},n.enabled=n._areEnabled(),n},r="object"==typeof e.document?n(e):n;"function"==typeof define&&define.amd?define(function(){return r}):"object"==typeof exports?("object"==typeof module&&"object"==typeof module.exports&&(exports=module.exports=r),exports.Cookies=r):e.Cookies=r}("undefined"==typeof window?this:window),function(e){e.MakeArg=function(){var t=function(){return t.get.apply(e,arguments)};return t.version="1.2.0",t.parse=function(e){if(!e)return{};if(-1===e.indexOf("=")&&-1===e.indexOf("&"))return{};e=t._cleanParamStr(e);var n={},r=e.split("&");for(var i in r)if(r.hasOwnProperty(i)){var a=r[i].split("="),o=decodeURIComponent(a[0]),s=t.__decode(a[1]);t._access(n,o,s)}return n},t.__decode=function(e){for(;e&&e.indexOf("+")>-1;)e=e.replace("+"," ");return e=decodeURIComponent(e)},t._access=function(e,n,r){var i="undefined"!=typeof r,a=-1,o={"true":!0,"false":!1,"null":null};if(("string"==typeof n||"[object String]"==toString.call(n))&&(a=n.search(/[\.\[]/)),-1===a)return t.coerceMode&&(r=r&&!isNaN(r)?+r:"undefined"===r?void 0:void 0!==o[r]?o[r]:r),i?e[n]=r:e[n];var s=n.substr(0,a),u=n.substr(a+1);switch(n.charAt(a)){case"[":return e[s]=e[s]||[],u=u.replace("]",""),-1===u.search(/[\.\[]/)&&(u=parseInt(u,10)),t._access(e[s],u,r);case".":return e[s]=e[s]||{},t._access(e[s],u,r)}return e},t.stringify=function(e,n){switch(typeof e){case"object":var r,i=[];for(var a in e)if(e.hasOwnProperty(a)){var o=e[a];"undefined"!=typeof a&&0!==a.length&&"undefined"!=typeof o&&0!==o.length&&(r=n?n+"."+a:a,"undefined"!=typeof e.length&&(r=n?n+"["+a+"]":a),"object"==typeof o?i.push(t.stringify(o,r)):i.push(encodeURIComponent(r)+"="+encodeURIComponent(o)))}return i.join("&")}return encodeURIComponent(e)},t.url=function(){var e=t.urlUseHash?t.hashQuerySeperator:t.querySeperator,n=[location.pathname,e],r={};switch(arguments.length){case 1:n.push(t.stringify(arguments[0]));break;case 2:n[0]=t._cleanPath(arguments[0]),r=t.parse(arguments[0]),r=t.merge(r,arguments[1]),n.push(t.stringify(r));break;case 3:n[0]=t._cleanPath(arguments[0]),n[1]=t.querySeperator,n.push(t.stringify(arguments[1])),"string"==typeof arguments[2]?n.push(t.hashSeperator):n.push(t.hashQuerySeperator),n.push(t.stringify(arguments[2]))}var i=n.join("");return i.indexOf(e)==i.length-e.length&&(i=i.substr(0,i.length-e.length)),i},t.urlUseHash=!1,t.querySeperator="?",t.hashSeperator="#",t.hashQuerySeperator="#?",t.coerceMode=!0,t.all=function(){var e=t.parse(t.querystring()+"&"+t.hashstring());return t._all?t._all:t._all=e},t.get=function(e,n){var r=t._access(t.all(),e);return"undefined"==typeof r?n:r},t.query=function(){return t._query?t._query:t._query=t.parse(t.querystring())},t.hash=function(){return t._hash?t._hash:t._hash=t.parse(t.hashstring())},t.querystring=function(){return t._cleanParamStr(location.search)},t.hashstring=function(){return t._cleanParamStr(location.hash)},t._cleanParamStr=function(e){if(e.indexOf(t.querySeperator)>-1&&(e=e.split(t.querySeperator)[1]),e.indexOf(t.hashSeperator)>-1&&(e=e.split(t.hashSeperator)[1]),-1===e.indexOf("=")&&-1===e.indexOf("&"))return"";for(;0==e.indexOf(t.hashSeperator)||0==e.indexOf(t.querySeperator);)e=e.substr(1);return e},t._cleanPath=function(e){return e.indexOf(t.querySeperator)>-1&&(e=e.substr(0,e.indexOf(t.querySeperator))),e.indexOf(t.hashSeperator)>-1&&(e=e.substr(0,e.indexOf(t.hashSeperator))),e},t.merge=function(){var e={};for(var t in arguments)if(arguments.hasOwnProperty(t))for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e},t},e.Arg=MakeArg()}(window),function(){function e(e){function t(t,n,r,i,a,o){for(;a>=0&&o>a;a+=e){var s=i?i[a]:a;r=n(r,t[s],s,t)}return r}return function(n,r,i,a){r=C(r,a,4);var o=!E(n)&&v.keys(n),s=(o||n).length,u=e>0?0:s-1;return arguments.length<3&&(i=n[o?o[u]:u],u+=e),t(n,r,i,o,u,s)}}function t(e){return function(t,n,r){n=k(n,r);for(var i=M(t),a=e>0?0:i-1;a>=0&&i>a;a+=e)if(n(t[a],a,t))return a;return-1}}function n(e,t,n){return function(r,i,a){var o=0,s=M(r);if("number"==typeof a)e>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(n&&a&&s)return a=n(r,i),r[a]===i?a:-1;if(i!==i)return a=t(l.call(r,o,s),v.isNaN),a>=0?a+o:-1;for(a=e>0?o:s-1;a>=0&&s>a;a+=e)if(r[a]===i)return a;return-1}}function r(e,t){var n=T.length,r=e.constructor,i=v.isFunction(r)&&r.prototype||s,a="constructor";for(v.has(e,a)&&!v.contains(t,a)&&t.push(a);n--;)a=T[n],a in e&&e[a]!==i[a]&&!v.contains(t,a)&&t.push(a)}var i=this,a=i._,o=Array.prototype,s=Object.prototype,u=Function.prototype,c=o.push,l=o.slice,d=s.toString,f=s.hasOwnProperty,g=Array.isArray,p=Object.keys,h=u.bind,m=Object.create,y=function(){},v=function(e){return e instanceof v?e:this instanceof v?(this._wrapped=e,void 0):new v(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):i._=v,v.VERSION="1.8.3";var C=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return function(){return e.apply(t,arguments)}},k=function(e,t,n){return null==e?v.identity:v.isFunction(e)?C(e,t,n):v.isObject(e)?v.matcher(e):v.property(e)};v.iteratee=function(e,t){return k(e,t,1/0)};var S=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var a=arguments[i],o=e(a),s=o.length,u=0;s>u;u++){var c=o[u];t&&void 0!==n[c]||(n[c]=a[c])}return n}},b=function(e){if(!v.isObject(e))return{};if(m)return m(e);y.prototype=e;var t=new y;return y.prototype=null,t},x=function(e){return function(t){return null==t?void 0:t[e]}},D=Math.pow(2,53)-1,M=x("length"),E=function(e){var t=M(e);return"number"==typeof t&&t>=0&&D>=t};v.each=v.forEach=function(e,t,n){t=C(t,n);var r,i;if(E(e))for(r=0,i=e.length;i>r;r++)t(e[r],r,e);else{var a=v.keys(e);for(r=0,i=a.length;i>r;r++)t(e[a[r]],a[r],e)}return e},v.map=v.collect=function(e,t,n){t=k(t,n);for(var r=!E(e)&&v.keys(e),i=(r||e).length,a=Array(i),o=0;i>o;o++){var s=r?r[o]:o;a[o]=t(e[s],s,e)}return a},v.reduce=v.foldl=v.inject=e(1),v.reduceRight=v.foldr=e(-1),v.find=v.detect=function(e,t,n){var r;return r=E(e)?v.findIndex(e,t,n):v.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},v.filter=v.select=function(e,t,n){var r=[];return t=k(t,n),v.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},v.reject=function(e,t,n){return v.filter(e,v.negate(k(t)),n)},v.every=v.all=function(e,t,n){t=k(t,n);for(var r=!E(e)&&v.keys(e),i=(r||e).length,a=0;i>a;a++){var o=r?r[a]:a;if(!t(e[o],o,e))return!1}return!0},v.some=v.any=function(e,t,n){t=k(t,n);for(var r=!E(e)&&v.keys(e),i=(r||e).length,a=0;i>a;a++){var o=r?r[a]:a;if(t(e[o],o,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,n,r){return E(e)||(e=v.values(e)),("number"!=typeof n||r)&&(n=0),v.indexOf(e,t,n)>=0},v.invoke=function(e,t){var n=l.call(arguments,2),r=v.isFunction(t);return v.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,n){var r,i,a=-1/0,o=-1/0;if(null==t&&null!=e){e=E(e)?e:v.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],r>a&&(a=r)}else t=k(t,n),v.each(e,function(e,n,r){i=t(e,n,r),(i>o||i===-1/0&&a===-1/0)&&(a=e,o=i)});return a},v.min=function(e,t,n){var r,i,a=1/0,o=1/0;if(null==t&&null!=e){e=E(e)?e:v.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],a>r&&(a=r)}else t=k(t,n),v.each(e,function(e,n,r){i=t(e,n,r),(o>i||1/0===i&&1/0===a)&&(a=e,o=i)});return a},v.shuffle=function(e){for(var t,n=E(e)?e:v.values(e),r=n.length,i=Array(r),a=0;r>a;a++)t=v.random(0,a),t!==a&&(i[a]=i[t]),i[t]=n[a];return i},v.sample=function(e,t,n){return null==t||n?(E(e)||(e=v.values(e)),e[v.random(e.length-1)]):v.shuffle(e).slice(0,Math.max(0,t))},v.sortBy=function(e,t,n){return t=k(t,n),v.pluck(v.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var P=function(e){return function(t,n,r){var i={};return n=k(n,r),v.each(t,function(r,a){var o=n(r,a,t);e(i,r,o)}),i}};v.groupBy=P(function(e,t,n){v.has(e,n)?e[n].push(t):e[n]=[t]}),v.indexBy=P(function(e,t,n){e[n]=t}),v.countBy=P(function(e,t,n){v.has(e,n)?e[n]++:e[n]=1}),v.toArray=function(e){return e?v.isArray(e)?l.call(e):E(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:E(e)?e.length:v.keys(e).length},v.partition=function(e,t,n){t=k(t,n);var r=[],i=[];return v.each(e,function(e,n,a){(t(e,n,a)?r:i).push(e)}),[r,i]},v.first=v.head=v.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},v.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},v.compact=function(e){return v.filter(e,v.identity)};var _=function(e,t,n,r){for(var i=[],a=0,o=r||0,s=M(e);s>o;o++){var u=e[o];if(E(u)&&(v.isArray(u)||v.isArguments(u))){t||(u=_(u,t,n));var c=0,l=u.length;for(i.length+=l;l>c;)i[a++]=u[c++]}else n||(i[a++]=u)}return i};v.flatten=function(e,t){return _(e,t,!1)},v.without=function(e){return v.difference(e,l.call(arguments,1))},v.uniq=v.unique=function(e,t,n,r){v.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=k(n,r));for(var i=[],a=[],o=0,s=M(e);s>o;o++){var u=e[o],c=n?n(u,o,e):u;t?(o&&a===c||i.push(u),a=c):n?v.contains(a,c)||(a.push(c),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=function(){return v.uniq(_(arguments,!0,!0))},v.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=M(e);i>r;r++){var a=e[r];if(!v.contains(t,a)){for(var o=1;n>o&&v.contains(arguments[o],a);o++);o===n&&t.push(a)}}return t},v.difference=function(e){var t=_(arguments,!0,!0,1);return v.filter(e,function(e){return!v.contains(t,e)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(e){for(var t=e&&v.max(e,M).length||0,n=Array(t),r=0;t>r;r++)n[r]=v.pluck(e,r);return n},v.object=function(e,t){for(var n={},r=0,i=M(e);i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},v.findIndex=t(1),v.findLastIndex=t(-1),v.sortedIndex=function(e,t,n,r){n=k(n,r,1);for(var i=n(t),a=0,o=M(e);o>a;){var s=Math.floor((a+o)/2);n(e[s])<i?a=s+1:o=s}return a},v.indexOf=n(1,v.findIndex,v.sortedIndex),v.lastIndexOf=n(-1,v.findLastIndex),v.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),a=0;r>a;a++,e+=n)i[a]=e;return i};var I=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var a=b(e.prototype),o=e.apply(a,i);return v.isObject(o)?o:a};v.bind=function(e,t){if(h&&e.bind===h)return h.apply(e,l.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var n=l.call(arguments,2),r=function(){return I(e,r,t,this,n.concat(l.call(arguments)))};return r},v.partial=function(e){var t=l.call(arguments,1),n=function(){for(var r=0,i=t.length,a=Array(i),o=0;i>o;o++)a[o]=t[o]===v?arguments[r++]:t[o];for(;r<arguments.length;)a.push(arguments[r++]);return I(e,n,this,this,a)};return n},v.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=v.bind(e[n],e);return e},v.memoize=function(e,t){var n=function(r){var i=n.cache,a=""+(t?t.apply(this,arguments):r);return v.has(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return n.cache={},n},v.delay=function(e,t){var n=l.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,n){var r,i,a,o=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:v.now(),o=null,a=e.apply(r,i),o||(r=i=null)};return function(){var c=v.now();s||n.leading!==!1||(s=c);var l=t-(c-s);return r=this,i=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),s=c,a=e.apply(r,i),o||(r=i=null)):o||n.trailing===!1||(o=setTimeout(u,l)),a}},v.debounce=function(e,t,n){var r,i,a,o,s,u=function(){var c=v.now()-o;t>c&&c>=0?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(a,i),r||(a=i=null)))};return function(){a=this,i=arguments,o=v.now();var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(s=e.apply(a,i),a=i=null),s}},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},v.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},v.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},v.once=v.partial(v.before,2);var w=!{toString:null}.propertyIsEnumerable("toString"),T=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];v.keys=function(e){if(!v.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)v.has(e,n)&&t.push(n);return w&&r(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var n in e)t.push(n);return w&&r(e,t),t},v.values=function(e){for(var t=v.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},v.mapObject=function(e,t,n){t=k(t,n);for(var r,i=v.keys(e),a=i.length,o={},s=0;a>s;s++)r=i[s],o[r]=t(e[r],r,e);return o},v.pairs=function(e){for(var t=v.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},v.invert=function(e){for(var t={},n=v.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},v.functions=v.methods=function(e){var t=[];for(var n in e)v.isFunction(e[n])&&t.push(n);return t.sort()},v.extend=S(v.allKeys),v.extendOwn=v.assign=S(v.keys),v.findKey=function(e,t,n){t=k(t,n);for(var r,i=v.keys(e),a=0,o=i.length;o>a;a++)if(r=i[a],t(e[r],r,e))return r},v.pick=function(e,t,n){var r,i,a={},o=e;if(null==o)return a;v.isFunction(t)?(i=v.allKeys(o),r=C(t,n)):(i=_(arguments,!1,!1,1),r=function(e,t,n){return t in n},o=Object(o));for(var s=0,u=i.length;u>s;s++){var c=i[s],l=o[c];r(l,c,o)&&(a[c]=l)}return a},v.omit=function(e,t,n){if(v.isFunction(t))t=v.negate(t);else{var r=v.map(_(arguments,!1,!1,1),String);t=function(e,t){return!v.contains(r,t)}}return v.pick(e,t,n)},v.defaults=S(v.allKeys,!0),v.create=function(e,t){var n=b(e);return t&&v.extendOwn(n,t),n},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var n=v.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),a=0;r>a;a++){var o=n[a];if(t[o]!==i[o]||!(o in i))return!1}return!0};var B=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var i=d.call(e);if(i!==d.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!(v.isFunction(o)&&o instanceof o&&v.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),a){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!B(e[u],t[u],n,r))return!1}else{var c,l=v.keys(e);if(u=l.length,v.keys(t).length!==u)return!1;for(;u--;)if(c=l[u],!v.has(t,c)||!B(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0};v.isEqual=function(e,t){return B(e,t)},v.isEmpty=function(e){return null==e?!0:E(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=g||function(e){return"[object Array]"===d.call(e)},v.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){v["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),v.isArguments(arguments)||(v.isArguments=function(e){return v.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&e!==+e},v.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===d.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){return null!=e&&f.call(e,t)},v.noConflict=function(){return i._=a,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=x,v.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,n){var r=Array(Math.max(0,e));t=C(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},v.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},K=v.invert(A),j=function(e){var t=function(t){return e[t]},n="(?:"+v.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};v.escape=j(A),v.unescape=j(K),v.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),v.isFunction(r)?r.call(e):r};var N=0;v.uniqueId=function(e){var t=++N+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},O=/\\|'|\r|\n|\u2028|\u2029/g,F=function(e){return"\\"+U[e]};v.template=function(e,t,n){!t&&n&&(t=n),t=v.defaults({},t,v.templateSettings);var r=RegExp([(t.escape||L).source,(t.interpolate||L).source,(t.evaluate||L).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(r,function(t,n,r,o,s){return a+=e.slice(i,s).replace(O,F),i=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(t.variable||"obj","_",a)}catch(s){throw s.source=a,s}var u=function(e){return o.call(this,e,v)},c=t.variable||"obj";return u.source="function("+c+"){\n"+a+"}",u},v.chain=function(e){var t=v(e);return t._chain=!0,t};var H=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){v.each(v.functions(e),function(t){var n=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),H(this,n.apply(v,e))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];v.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],H(this,n)}}),v.each(["concat","join","slice"],function(e){var t=o[e];v.prototype[e]=function(){return H(this,t.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return v})}.call(this),function(e){var t="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,r,i){t.Backbone=e(t,i,n,r)});else if("undefined"!=typeof exports){var n,r=require("underscore");try{n=require("jquery")}catch(i){}e(t,exports,r,n)}else t||(t=window),window.bkUnderScore=t._.noConflict(),t.Backbone=e(t,{},bkUnderScore,t.jQuery||t.Zepto||t.ender||t.$)}(function(e,t,n,r){var i=e.Backbone,a=Array.prototype.slice;t.VERSION="1.2.2",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o=function(e,t,r){switch(e){case 1:return function(){return n[t](this[r])};case 2:return function(e){return n[t](this[r],e)};case 3:return function(e,i){return n[t](this[r],u(e,this),i)};case 4:return function(e,i,a){return n[t](this[r],u(e,this),i,a)};default:return function(){var e=a.call(arguments);return e.unshift(this[r]),n[t].apply(n,e)}}},s=function(e,t,r){n.each(t,function(t,i){n[i]&&(e.prototype[i]=o(t,i,r))})},u=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?c(e):n.isString(e)?function(t){return t.get(e)}:e},c=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},l=t.Events={},d=/\s+/,f=function(e,t,r,i,a){var o,s=0;if(r&&"object"==typeof r){void 0!==i&&"context"in a&&void 0===a.context&&(a.context=i);for(o=n.keys(r);s<o.length;s++)t=f(e,t,o[s],r[o[s]],a)}else if(r&&d.test(r))for(o=r.split(d);s<o.length;s++)t=e(t,o[s],i,a);else t=e(t,r,i,a);return t};l.on=function(e,t,n){return g(this,e,t,n)};var g=function(e,t,n,r,i){if(e._events=f(p,e._events||{},t,n,{context:r,ctx:e,listening:i}),i){var a=e._listeners||(e._listeners={});a[i.id]=i}return e};l.listenTo=function(e,t,r){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),a=this._listeningTo||(this._listeningTo={}),o=a[i];if(!o){var s=this._listenId||(this._listenId=n.uniqueId("l"));o=a[i]={obj:e,objId:i,id:s,listeningTo:a,count:0}}return g(e,t,r,this,o),this};var p=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]),a=r.context,o=r.ctx,s=r.listening;s&&s.count++,i.push({callback:n,context:a,ctx:a||o,listening:s})}return e};l.off=function(e,t,n){return this._events?(this._events=f(h,this._events,e,t,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(e,t,r){var i=this._listeningTo;if(!i)return this;for(var a=e?[e._listenId]:n.keys(i),o=0;o<a.length;o++){var s=i[a[o]];if(!s)break;s.obj.off(t,r,this)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var h=function(e,t,r,i){if(e){var a,o=0,s=i.context,u=i.listeners;if(t||r||s){for(var c=t?[t]:n.keys(e);o<c.length;o++){t=c[o];var l=e[t];if(!l)break;for(var d=[],f=0;f<l.length;f++){var g=l[f];r&&r!==g.callback&&r!==g.callback._callback||s&&s!==g.context?d.push(g):(a=g.listening,a&&0===--a.count&&(delete u[a.id],delete a.listeningTo[a.objId]))}d.length?e[t]=d:delete e[t]}return n.size(e)?e:void 0}for(var p=n.keys(u);o<p.length;o++)a=u[p[o]],delete u[a.id],delete a.listeningTo[a.objId]}};l.once=function(e,t,r){var i=f(m,{},e,t,n.bind(this.off,this));return this.on(i,void 0,r)},l.listenToOnce=function(e,t,r){var i=f(m,{},t,r,n.bind(this.stopListening,this,e));return this.listenTo(e,i)};var m=function(e,t,r,i){if(r){var a=e[t]=n.once(function(){i(t,a),r.apply(this,arguments)});a._callback=r}return e};l.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),r=0;t>r;r++)n[r]=arguments[r+1];return f(y,this._events,e,void 0,n),this};var y=function(e,t,n,r){if(e){var i=e[t],a=e.all;i&&a&&(a=a.slice()),i&&v(i,r),a&&v(a,[t].concat(r))}return e},v=function(e,t){var n,r=-1,i=e.length,a=t[0],o=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a,o);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a,o,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}};l.bind=l.on,l.unbind=l.off,n.extend(t,l);var C=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(C.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(null==e)return this;var i;if("object"==typeof e?(i=e,r=t):(i={})[e]=t,r||(r={}),!this._validate(i,r))return!1;var a=r.unset,o=r.silent,s=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,l=this.changed,d=this._previousAttributes;for(var f in i)t=i[f],n.isEqual(c[f],t)||s.push(f),n.isEqual(d[f],t)?delete l[f]:l[f]=t,a?delete c[f]:c[f]=t;if(this.id=this.get(this.idAttribute),!o){s.length&&(this._pending=r);for(var g=0;g<s.length;g++)this.trigger("change:"+s[g],this,c[s[g]],r)}if(u)return this;if(!o)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t=this._changing?this._previousAttributes:this.attributes,r={};for(var i in e){var a=e[i];n.isEqual(t[i],a)||(r[i]=a)}return n.size(r)?r:!1},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;return t.set(i,e)?(r&&r.call(e.context,t,n,e),t.trigger("sync",t,n,e),void 0):!1},H(this,e),this.sync("read",this,e)},save:function(e,t,r){var i;null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0,parse:!0},r);var a=r.wait;if(i&&!a){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var o=this,s=r.success,u=this.attributes;r.success=function(e){o.attributes=u;var t=r.parse?o.parse(e,r):e;return a&&(t=n.extend({},i,t)),t&&!o.set(t,r)?!1:(s&&s.call(r.context,o,e,r),o.trigger("sync",o,e,r),void 0)},H(this,r),i&&a&&(this.attributes=n.extend({},u,i));var c=this.isNew()?"create":r.patch?"patch":"update";"patch"!==c||r.attrs||(r.attrs=i);var l=this.sync(c,this,r);return this.attributes=u,l},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=e.wait,a=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&a(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var o=!1;return this.isNew()?n.defer(e.success):(H(this,e),o=this.sync("delete",this,e)),i||a(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var k={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};s(C,k,"attributes");var S=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},b={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},D=function(e,t,n){for(var r=Array(e.length-n),i=t.length,a=0;a<r.length;a++)r[a]=e[a+n];for(a=0;i>a;a++)e[a+n]=t[a];for(a=0;a<r.length;a++)e[a+i+n]=r[a]};n.extend(S.prototype,l,{model:C,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,x))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:n.clone(e);var i=this._removeModels(e,t);return!t.silent&&i&&this.trigger("update",this,t),r?i[0]:i},set:function(e,t){if(null!=e){t=n.defaults({},t,b),t.parse&&!this._isModel(e)&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?[e]:e.slice();var i=t.at;null!=i&&(i=+i),0>i&&(i+=this.length+1);for(var a,o=[],s=[],u=[],c={},l=t.add,d=t.merge,f=t.remove,g=!1,p=this.comparator&&null==i&&t.sort!==!1,h=n.isString(this.comparator)?this.comparator:null,m=0;m<e.length;m++){a=e[m];var y=this.get(a);if(y){if(d&&a!==y){var v=this._isModel(a)?a.attributes:a;t.parse&&(v=y.parse(v,t)),y.set(v,t),p&&!g&&(g=y.hasChanged(h))}c[y.cid]||(c[y.cid]=!0,o.push(y)),e[m]=y}else l&&(a=e[m]=this._prepareModel(a,t),a&&(s.push(a),this._addReference(a,t),c[a.cid]=!0,o.push(a)))
}if(f){for(m=0;m<this.length;m++)a=this.models[m],c[a.cid]||u.push(a);u.length&&this._removeModels(u,t)}var C=!1,k=!p&&l&&f;if(o.length&&k?(C=this.length!=o.length||n.some(this.models,function(e,t){return e!==o[t]}),this.models.length=0,D(this.models,o,0),this.length=this.models.length):s.length&&(p&&(g=!0),D(this.models,s,null==i?this.length:i),this.length=this.models.length),g&&this.sort({silent:!0}),!t.silent){for(m=0;m<s.length;m++)null!=i&&(t.index=i+m),a=s[m],a.trigger("add",a,this,t);(g||C)&&this.trigger("sort",this,t),(s.length||u.length)&&this.trigger("update",this,t)}return r?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return a.apply(this.models,arguments)},get:function(e){if(null==e)return void 0;var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]},at:function(e){return 0>e&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===r||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=n.extend({parse:!0},e);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},H(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var r=t.wait;if(e=this._prepareModel(e,t),!e)return!1;r||this.add(e,t);var i=this,a=t.success;return t.success=function(e,t,n){r&&i.add(e,n),a&&a.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=this.get(e[r]);if(i){var a=this.indexOf(i);this.models.splice(a,1),this.length--,t.silent||(t.index=a,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}}return n.length?n:!1},_isModel:function(e){return e instanceof C},_addReference:function(e){this._byId[e.cid]=e;var t=this.modelId(e.attributes);null!=t&&(this._byId[t]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e){delete this._byId[e.cid];var t=this.modelId(e.attributes);null!=t&&delete this._byId[t],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if("add"!==e&&"remove"!==e||n===this){if("destroy"===e&&this.remove(t,r),"change"===e){var i=this.modelId(t.previousAttributes()),a=this.modelId(t.attributes);i!==a&&(null!=i&&delete this._byId[i],null!=a&&(this._byId[a]=t))}this.trigger.apply(this,arguments)}}});var M={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};s(S,M,"models");var E=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,_)),this._ensureElement(),this.initialize.apply(this,arguments)},P=/^(\S+)\s*(.*)$/,_=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;this.undelegateEvents();for(var t in e){var r=e[t];if(n.isFunction(r)||(r=this[r]),r){var i=t.match(P);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,r,i){var a=I[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:a,dataType:"json"};if(i.url||(o.url=n.result(r,"url")||F()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){o.type="POST",i.emulateJSON&&(o.data._method=a);var s=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",a),s?s.apply(this,arguments):void 0}}"GET"===o.type||i.emulateJSON||(o.processData=!1);var u=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,u&&u.call(i.context,e,t,n)};var c=i.xhr=t.ajax(n.extend(o,i));return r.trigger("request",r,c,i),c};var I={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var w=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,B=/(\(\?)?:\w+/g,A=/\*\w+/g,K=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(w.prototype,l,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var a=this;return t.history.route(e,function(n){var o=a._extractParameters(e,n);a.execute(i,o,r)!==!1&&(a.trigger.apply(a,["route:"+r].concat(o)),a.trigger("route",r,o),t.history.trigger("route",a,r,o))}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(K,"\\$&").replace(T,"(?:$1)?").replace(B,function(e,t){return t?e:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var j=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,U=/#.*$/;j.started=!1,n.extend(j.prototype,l,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(N,"")},start:function(e){if(j.started)throw new Error("Backbone.history has already been started");if(j.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(L,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var a=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};return this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),j.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl(),void 0)},loadUrl:function(e){return this.matchRoot()?(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})):!1},navigate:function(e,t){if(!j.started)return!1;t&&t!==!0||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;(""===e||"?"===e.charAt(0))&&(n=n.slice(0,-1)||"/");var r=n+e;if(e=this.decodeFragment(e.replace(U,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;t.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new j;var O=function(e,t){var r,i=this;r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t);var a=function(){this.constructor=r};return a.prototype=i.prototype,r.prototype=new a,e&&n.extend(r.prototype,e),r.__super__=i.prototype,r};C.extend=S.extend=w.extend=E.extend=j.extend=O;var F=function(){throw new Error('A "url" property or function must be specified')},H=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t});var bkRoot=window,bkWindow=function(){if("object"==typeof window.parent&&window.parent)try{return window.parent.document,window.parent}catch(e){}return bkRoot}(),BeeketingSDK=function(BeeketingSDK){BeeketingSDK.apiKey=null,BeeketingSDK.apiBaseUrl=null,BeeketingSDK.entityType="defaults",BeeketingSDK.init=function(e,t){BeeketingSDK.apiKey=e,BeeketingSDK.apiBaseUrl=t},BeeketingSDK.setPlatform=function(e){return BeeketingSDK.Util.Console.log("Set platform "+e),e=BeeketingSDK.Util.String.ucfirst(e),BeeketingSDK.Util.Setting.setSetting("platform",e),BeeketingSDK.getPlatform()},BeeketingSDK.getPlatform=function(){return BeeketingSDK.Util.Setting.getSetting("platform")},BeeketingSDK.isPlatform=function(e){return BeeketingSDK.Util.Setting.checkSetting("platform",e)},BeeketingSDK.setDependency=function(e,t){BeeketingSDK[e]=t},BeeketingSDK.getDependency=function(e){return BeeketingSDK[e]},BeeketingSDK.defer=function(e,t,n){var r=this,i=1e4,a=e();n||(n=1),a?t(a):i/10>n&&(n++,setTimeout(function(){r.defer(e,t,n)},10))};var __module={},__alias={},__countModuleLoaded=0,__countModuleRegistered=0;BeeketingSDK.module=function(e,t,n,r){"undefined"==typeof __module[e]&&(__module[e]=[]),__module[e].push({factory:t,dependency:r}),__countModuleRegistered++,"undefined"==typeof __alias[e]&&(__alias[e]=[]),"undefined"!=typeof n&&n&&__alias[e].push(n)},BeeketingSDK.module.loaded=function(){return __countModuleLoaded==__countModuleRegistered},BeeketingSDK.module.setup=function(){var e,t,n,r;for(n in __module){e=__module[n];for(r in e)e.hasOwnProperty(r)&&(t=e[r],"function"==typeof t.dependency?BeeketingSDK.module.defer(t,n):__runFactory(t.factory,n))}},BeeketingSDK.module.defer=function(e,t){BeeketingSDK.defer(e.dependency,function(){__runFactory(e.factory,t)})};var __runFactory=function(e,t){void 0!==e&&("object"!=typeof BeeketingSDK[t]&&(BeeketingSDK[t]={}),BeeketingSDK[t]=e(BeeketingSDK[t],BeeketingSDK),__countModuleLoaded++,__runAlias(t))},__runAlias=function(moduleName){var alias=__alias[moduleName];if("undefined"!=typeof alias&&alias)for(var i in alias)BeeketingSDK[alias[i].to]=eval(alias[i].source)};return BeeketingSDK.App=BeeketingSDK.App||{},BeeketingSDK.App.register=function(e,t){"object"!=typeof BeeketingSDK.App[e]&&(BeeketingSDK.App[e]=new(BeeketingSDK.App.AbstractClass.extend({}))),BeeketingSDK.App[e]=t(BeeketingSDK.App[e],Beeketing)},BeeketingSDK.App.run=function(){for(var e in BeeketingSDK.App)if("AbstractClass"!=e){var t=BeeketingSDK.App[e];"function"!=typeof t&&t.canAppInit()&&(BeeketingSDK.Util.Console.log(t.getAppCode()+" starts constructor."),t.init(),t.canAppStart()?(BeeketingSDK.Util.Console.log(t.getAppCode()+" starts."),t.isInit=!0,t.start()):BeeketingSDK.Util.Console.log(t.getAppCode()+" doesn't start"))}},BeeketingSDK}(BeeketingSDK||{}),Beeketing=function(e,t){var n=e.jQuery.noConflict(!0),r=e.Cookies,i=e.Arg,a=e._,o=e.JSON;t.init=function(e,t){BeeketingSDK.setDependency("$",e.SDKjQuery?e.SDKjQuery:n),BeeketingSDK.setDependency("Cookies",e.SDKCookies?e.SDKCookies:r),BeeketingSDK.setDependency("Underscore",e.SDKUnderscore?e.SDKUnderscore:a),BeeketingSDK.setDependency("Arg",e.SDKArg?e.SDKArg:i),BeeketingSDK.setDependency("JSON",e.SDKJson?e.SDKJson:o),"undefined"==typeof BeeketingSDK.getDependency("$")().on&&s(),BeeketingSDK.module.setup(),BeeketingSDK.defer(BeeketingSDK.module.loaded,function(){BeeketingSDK.Util.Console.setEnable(e.debug?e.debug:!1),BeeketingSDK.View.Engine.setEngine(BeeketingSDK.View.Engine.default.HANDLEBARS),BeeketingSDK.Event.Dispatcher=new BeeketingSDK.Event.Dispatcher,BeeketingSDK.Tracker.Cart=new BeeketingSDK.Tracker.Cart,BeeketingSDK.setPlatform(c()),u(),"function"==typeof t&&t()})},t.isPlatform=function(e){return BeeketingSDK.isPlatform(e)},t.getDependency=function(e){return BeeketingSDK.getDependency(e)};var s=function(){BeeketingSDK.getDependency("$").fn.extend({on:function(e,t,n,r,i){var a,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=returnFalse;else if(!r)return this;return 1===i&&(a=r,r=function(e){return jQuery().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,e,r,n,t)})}})},u=function(){BeeketingSDK.Platform=BeeketingSDK.Platform[BeeketingSDK.getPlatform()],BeeketingSDK.Platform.Main=new BeeketingSDK.Platform.MainClass,BeeketingSDK.Platform.PageManager=new BeeketingSDK.Platform.PageManagerClass,BeeketingSDK.Platform.ElementManager=new BeeketingSDK.Platform.ElementManagerClass,BeeketingSDK.Platform.AjaxManager=new BeeketingSDK.Platform.AjaxManagerClass,BeeketingSDK.Platform.Listener.CartListener=new BeeketingSDK.Platform.Listener.CartListenerClass,BeeketingSDK.Platform.Listener.TrackerListener=new BeeketingSDK.Platform.Listener.TrackerListenerClass,BeeketingSDK.Platform.EntityManager.CartManager=new BeeketingSDK.Platform.EntityManager.CartManagerClass,BeeketingSDK.Platform.EntityManager.CartItemManager=new BeeketingSDK.Platform.EntityManager.CartItemManagerClass,BeeketingSDK.Platform.EntityManager.ProductManager=new BeeketingSDK.Platform.EntityManager.ProductManagerClass,BeeketingSDK.Platform.EntityManager.VariantManager=new BeeketingSDK.Platform.EntityManager.VariantManagerClass,BeeketingSDK.Platform.Listener.CartListener.startListen(),BeeketingSDK.Platform.Listener.TrackerListener.startListen(),t.Dispatcher=BeeketingSDK.Event.Dispatcher,t.Cart=BeeketingSDK.Platform.EntityManager.CartManager,t.CartItem=BeeketingSDK.Platform.EntityManager.CartItemManager,t.CartListener=BeeketingSDK.Platform.Listener.CartListener,t.Product=BeeketingSDK.Platform.EntityManager.ProductManager,t.Variant=BeeketingSDK.Platform.EntityManager.VariantManager,t.Page=BeeketingSDK.Platform.PageManager,t.Element=BeeketingSDK.Platform.ElementManager,t.Ajax=BeeketingSDK.Platform.AjaxManager,t.App=BeeketingSDK.App,t.Tracker=BeeketingSDK.Tracker,t.Hook=BeeketingSDK.Hook,t.Entity=BeeketingSDK.Entity,t.Array=BeeketingSDK.Util.Array,t.Browser=BeeketingSDK.Util.Browser,t.Console=BeeketingSDK.Util.Console,t.Cookie=BeeketingSDK.Util.Cookie,t.Crypt=BeeketingSDK.Util.Crypt,t.JSON=BeeketingSDK.Util.JSON,t.Money=BeeketingSDK.Util.Money,t.Setting=BeeketingSDK.Util.Setting,t.Social=BeeketingSDK.Util.Social,t.String=BeeketingSDK.Util.String,BeeketingSDK.Util.Console.log("Update & init platform manager done.")},c=function(){return"undefined"!=typeof bkWindow.__st&&"undefined"!=typeof bkWindow.Shopify?"Shopify":"undefined"!=typeof SCN&&"undefined"!=typeof SCN.Config&&"undefined"!=typeof SCN.Config.platform?SCN.Config.platform:"undefined"!=typeof currentPlatform?currentPlatform:(BeeketingSDK.Util.Console.alert("Platform undefined. The SDK will not work."),void 0)};return t}(bkRoot,Beeketing||{});BeeketingSDK.module("App",function(e,t){var n={};return n.appCode="app-code",n.params={},n.isInit=!1,n.canAppInit=function(){try{if("app-code"==this.getAppCode())throw new Error("Please configure AppCode.");return!0}catch(e){return t.Util.Console.alert("Exception: "+e.message),!1}},n.init=function(){t.Util.Console.alert("AbstractClass@init needs implement.")},n.canAppStart=function(){t.Util.Console.alert("AbstractClass@canAppStart needs implement.")},n.start=function(){t.Util.Console.alert("AbstractClass@start needs implement.")},n.setAppCode=function(e){return this.appCode=e},n.getAppCode=function(){return this.appCode},n.isPurchased=function(){var e=this.getParam("isPurchased");return"undefined"!=typeof e?e:!1},n.isExpired=function(){var e=this.getParam("isExpired");return"undefined"!=typeof e?e:!0},n.setParams=function(e){return this.params=e},n.getParam=function(e){return"undefined"==typeof this.params[e]?null:this.params[e]},n.getSetting=function(e){return"undefined"==typeof this.params.settings[e]?null:this.params.settings[e]},n.getTranslation=function(e){return"undefined"==typeof this.params.translation[e]?null:this.params.translation[e]},n.getPhrase=function(e){return"undefined"==typeof this.params.settings.phrase[e]?null:this.params.settings.phrase[e]},n.setPhrase=function(e,t){return this.params.settings.phrase[e]=t},n.getVar=function(e){return e=this.getAppCode()+"__"+e,t.Util.Setting.getSetting(e)},n.setVar=function(e,n){return e=this.getAppCode()+"__"+e,t.Util.Setting.setSetting(e,n)},e.AbstractClass=Backbone.Model.extend(n),e}),BeeketingSDK.module("Element",function(e,t){var n=[],r={};return r.initialize=function(){t.Util.Console.log("Init Element.Manager"),this.$=t.getDependency("$")},r.setRenderContainter=function(e){this.renderContainer=e},r.getVariantIdFromFormData=function(){t.Util.Console.alert("AbstractClass@getVariantIdFromFormData needs implement.")},r.getProductId=function(){t.Util.Console.alert("AbstractClass@getProductId needs implement.")},r.getCollectionId=function(){t.Util.Console.alert("AbstractClass@getCollectionId needs implement.")},r.getCheckoutButton=function(){t.Util.Console.alert("AbstractClass@getCheckoutButton needs implement.")},r.getAddCartForm=function(){t.Util.Console.alert("AbstractClass@getAddCartForm needs implement.")},r.getCurrentCustomerId=function(){t.Util.Console.alert("AbstractClass@getCurrentCustomerId needs implement.")},r.appendToElement=function(e,t){this.$(e).append(t)},r.prependToElement=function(e,t){this.$(e).prepend(t)},r.include=function(e,t){if(-1===n.indexOf(e)){n.push(e);var r=null;"js"==t?(r=document.createElement("script"),r.setAttribute("type","text/javascript"),r.setAttribute("src",e)):"css"==t&&(r=document.createElement("link"),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href",e)),null!==r&&document.getElementsByTagName("head")[0].appendChild(r)}},e.AbstractClass=Backbone.Model.extend(r),e}),BeeketingSDK.module("Entity",function(e,t){var n={};return n.apiKey=t.apiKey,n.apiBaseUrl=t.apiBaseUrl,n.entityType=t.entityType,n.initialize=function(e){("number"==typeof e||"string"==typeof e)&&this.set("id",e)},n.url=function(){return this.apiBaseUrl+"/"+this.entityType+".json?ref_id="+this.get("id")},n.setApiKey=function(e){return this.apiKey=e},n.getApiKey=function(){return this.apiKey},n.setApiBaseUrl=function(e){return this.apiBaseUrl=e},n.getApiBaseUrl=function(){return this.apiBaseUrl},n.getId=function(){return this.get("id")},n.setId=function(e){return this.set("id",e)},n.getEntity=function(){return this.get("entity")},n.setEntity=function(e){return this.set("entity",e)},n.getSourceData=function(){return this.get("sourceData")},n.setSourceData=function(e){return this.set("sourceData",e)},e.AbstractClass=Backbone.Model.extend(n),e}),BeeketingSDK.module("Entity",function(e,t){var n={};return n.getId=function(){return this.get("cid")},n.isFake=function(){return this.get("fake")},n.setFake=function(e){return this.set("fake",e)},n.getToken=function(){return this.get("token")},n.setToken=function(e){return this.set("token",e)},n.getTotalPrice=function(){return this.get("totalPrice")},n.getFormatTotalPrice=function(){return t.Util.Money.formatMoney(this.getTotalPrice())},n.setTotalPrice=function(e){return this.set("totalPrice",e)},n.getItemCount=function(){return this.get("itemCount")},n.setItemCount=function(e){return this.set("itemCount",e)},n.getItemsManager=function(){return this.get("itemsManager")},n.setItemsManager=function(e){return this.set("itemsManager",e)},e.Cart=t.Entity.AbstractClass.extend(n),e}),BeeketingSDK.module("Entity",function(e,t){var n={};return n.getAddedBy=function(){return this.get("addedBy")},n.setAddedBy=function(e){return this.set("addedBy",e)},n.getVariantId=function(){return this.get("variantId")},n.setVariantId=function(e){return this.set("variantId",e)},n.getProductId=function(){return this.get("productId")},n.setProductId=function(e){return this.set("productId",e)},n.setQuantity=function(e){return this.set("quantity",e)},n.getQuantity=function(){return this.get("quantity")},n.getPrice=function(){return this.get("price")},n.setPrice=function(e){return this.set("price",e)},n.getLinePrice=function(){return this.get("linePrice")},n.setLinePrice=function(e){return this.set("linePrice",e)},n.getHandle=function(){return this.get("handle")},n.setHandle=function(e){return this.set("handle",e)},n.getSku=function(){return this.get("sku")},n.setSku=function(e){return this.set("sku",e)},n.getTitle=function(){return this.get("title")},n.setTitle=function(e){return this.set("title",e)},n.getProductTitle=function(){return this.get("productTitle")},n.setProductTitle=function(e){return this.set("productTitle",e)},n.getProductRefId=function(){return this.get("productRefId")},n.setProductRefId=function(e){return this.set("productRefId",e)},n.getVariantTitle=function(){return this.get("variantTitle")},n.setVariantTitle=function(e){return this.set("variantTitle",e)},n.getImage=function(){return this.get("image")},n.setImage=function(e){return this.set("image",e)},n.getItemUrl=function(){return this.get("itemUrl")},n.setItemUrl=function(e){return this.set("itemUrl",e)},n.getCustomOptions=function(){return this.get("customOptions")},n.setCustomOptions=function(e){return this.set("customOptions",e)},n.getMediumImage=function(){return t.Platform.AjaxManager.Image.getSizedImageUrl(this.getImage(),"medium")},n.getFormatPrice=function(){return t.Util.Money.formatMoney(this.getPrice())},e.CartItem=t.Entity.AbstractClass.extend(n),e}),BeeketingSDK.module("Entity",function(e,t){var n={};return n.entityType="products",n.parse=function(e){return e.product},n.getHandle=function(){return this.get("handle")},n.setHandle=function(e){return this.set("handle",e)},n.getTitle=function(){return this.get("title")},n.setTitle=function(e){return this.set("title",e)},n.getRefId=function(){return this.get("refId")},n.setRefId=function(e){return this.set("refId",e)},n.getShopId=function(){return this.get("shopId")},n.setShopId=function(e){return this.set("shopId",e)},n.getImageSourceUrl=function(){return this.get("imageSourceUrl")},n.setImageSourceUrl=function(e){return this.set("imageSourceUrl",e)},n.getVariantsManager=function(){return this.get("variantsManager")},e.Product=t.Entity.AbstractClass.extend(n),e}),BeeketingSDK.module("Entity",function(e,t){var n={};return n.entityType="shops",n.parse=function(e){return e.shop},n.getDomain=function(){return this.get("domain")},n.getPublicDomain=function(){return this.get("public_domain")},n.getRefId=function(){return this.get("ref_id")},n.getName=function(){return this.get("name")},n.getAddress=function(){return this.get("address")},n.getCountry=function(){return this.get("country")},n.getLatitude=function(){return this.get("latitude")},n.getLongitude=function(){return this.get("longitude")},n.getPhone=function(){return this.get("phone")},n.getProvince=function(){return this.get("province")},n.getOwnerTitle=function(){return this.get("owner_title")},n.getOwnerEmail=function(){return this.get("owner_email")},n.getZip=function(){return this.get("zip")},n.getTimeZone=function(){return this.get("timezone")},n.getPlatform=function(){return this.get("platform")},e.Shop=t.Entity.AbstractClass.extend(n),e}),BeeketingSDK.module("Entity",function(e,t){var n={};return n.getRefId=function(){return this.get("refId")},n.setRefId=function(e){return this.set("refId",e)},n.getImageRefId=function(){return this.get("imageRefId")},n.setImageRefId=function(e){return this.set("imageRefId",e)},n.getProductId=function(){return this.get("productId")},n.setProductId=function(e){return this.set("productId",e)},n.getProductRefId=function(){return this.get("productRefId")},n.setProductRefId=function(e){return this.set("productRefId",e)},n.getBarcode=function(){return this.get("barcode")},n.getTitle=function(){return this.get("title")},n.setTitle=function(e){return this.set("title",e)},n.getPrice=function(){return this.get("price")},n.setPrice=function(e){return this.set("price",e)},n.getSku=function(){return this.get("sku")},n.setSku=function(e){return this.set("sku",e)},n.getQuantity=function(){return this.get("quantity")},n.setQuantity=function(e){return this.set("quantity",e)},n.getLinePrice=function(){return this.get("linePrice")},n.setLinePrice=function(e){return this.get("linePrice",e)},e.Variant=t.Entity.AbstractClass.extend(n),e}),BeeketingSDK.module("Event",function(e,t){var n={};return n.events={CART:{READY:"cart.ready",ADD_ITEM:"cart.addItem",REMOVE_ITEM:"cart.removeItem",UPDATE:"cart.update",CLICK_BUTTON:"cart.clickButton",CHECKOUT:"cart.checkout"}},n.listenEvent=function(e,n){t.Util.Console.log("Listen event "+e),t.getDependency("$")(document).on(e,n)},n.triggerEvent=function(e,n,r){var i=!0;return t.Hook.hasHook("canTriggerEvent")&&(i=t.Hook.Function("canTriggerEvent",{eventName:e})),i?(t.Util.Console.log("Trigger event "+e),t.getDependency("$")(document).trigger(e,n),"undefined"!=typeof r&&r(),void 0):(t.Util.Console.log("Do not have privilege to trigger event "+e),!1)},e.Dispatcher=Backbone.Model.extend(n),e}),BeeketingSDK.module("Manager",function(e,t){var n={};return n.apiKey=t.apiKey,n.apiBaseUrl=t.apiBaseUrl,n.entityType=t.entityType,n.url=function(){return this.apiBaseUrl+"/"+this.entityType+".json?api_key="+this.apiKey},n.setApiKey=function(e){return this.apiKey=e},n.getApiKey=function(){return this.apiKey},n.setApiBaseUrl=function(e){return this.apiBaseUrl=e},n.getApiBaseUrl=function(){return this.apiBaseUrl},n.findById=function(e){var t=new this.model(e);return t.fetch(),t},n.convertDataToInstance=function(){t.Util.Console.alert("Abstract@convertDataToInstance needs implement.")},e.AbstractClass=Backbone.Collection.extend(n),e}),BeeketingSDK.module("Manager",function(e,t){var n={};return n.queue=[],n.addQueueToCart=function(){if(this.queue.length){var e=this.queue.shift();this.addItem(e.variantId,e.quantity,this.addQueueToCart)}else t.Platform.PageManager.forceGoToCartPage()},n.removeQueueFromCart=function(e){var t=this,n="correct_cart_items";if(this.queue.length){var r=this.queue.shift();this.customRemoveItem("id",r.variantId,function(){t.removeQueueFromCart(e,n)},n)}else"function"==typeof e&&e()},n.itemAddedBy=null,n.resetItemAddedBy=function(){setTimeout(function(){n.itemAddedBy=null},100)},n.addItem=function(){t.Util.Console.alert("AjaxManager@addItem needs implement.")},n.addItems=function(){t.Util.Console.alert("AjaxManager@addItems needs implement.")},n.addItemFromForm=function(){t.Util.Console.alert("AjaxManager@addItemFromForm needs implement.")},n.changeItem=function(){t.Util.Console.alert("AjaxManager@changeItem needs implement.")},n.removeItem=function(){t.Util.Console.alert("AjaxManager@removeItem needs implement.")},n.customRemoveItem=function(){t.Util.Console.alert("AjaxManager@customRemoveItem needs implement.")},n.updateCartFromForm=function(){t.Util.Console.alert("AjaxManager@updateCartFromForm needs implement.")},n.Image={getSizedImageUrl:function(){t.Util.Console.alert("AjaxManager@Image@getSizedImageUrl needs implement.")}},n.onError=function(){t.Util.Console.alert("AjaxManager@onError needs implement.")},n.onCartUpdate=function(e){t.Util.Console.log("There are now "+e.getItemCount()+" items in the cart.")},n.onItemAdded=function(){t.Util.Console.alert("AjaxManager@onItemAdded needs implement.")},e.AjaxManager=Backbone.Model.extend(n),e}),BeeketingSDK.module("Manager",function(e,t){var n={};return n.model=t.Entity.CartItem,n.hiddenVariants={},n.findCartItemById=function(e){var t=this.findWhere({id:e});
return t?t:null},n.convertDataToInstance=function(){t.Util.Console.alert("CartItemManager@convertDataToInstance needs implement.")},n.convertVariantToInstance=function(e){var n=new t.Entity.CartItem(e.getId());return n.set({entity:"cartItem",srcEntity:"variant",variantId:e.getId(),productId:e.getProductId(),productRefId:e.getProductRefId(),price:e.getPrice(),quantity:e.getQuantity(),sku:e.getSku(),linePrice:e.getLinePrice()}),n.setSourceData(e.getSourceData()),n},n.isFreeVariant=function(){t.Util.Console.alert("CartItemManager@isFreeVariant needs implement.")},e.CartItemManager=Backbone.Collection.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Entity&&"undefined"!=typeof BeeketingSDK.Entity.CartItem}),BeeketingSDK.module("Manager",function(e,t){var n={};n.model=t.Entity.Cart,n.setCurrentCart=function(e,r){"undefined"==typeof r&&(r=!0),r&&n.setOldCart(e);var i="platform_"+t.getPlatform()+"_current_cart";return t.Util.Setting.setSetting(i,e)},n.getCurrentCart=function(){var e="platform_"+t.getPlatform()+"_current_cart";return t.Util.Setting.getSetting(e)},n.getOldCart=function(){var e="platform_"+t.getPlatform()+"_old_cart",n=t.Util.Cookie.getCookie(e);if(!n)return null;var r,i=t.Util.JSON.parse(n),a=new t.Entity.Cart(i),o=new t.Platform.EntityManager.CartItemManagerClass;for(r in i.itemsManager)if(i.itemsManager.hasOwnProperty(r)){var s=i.itemsManager[r],u=new t.Entity.CartItem(s);u.setId(s.id),o.add(u)}return a.setItemsManager(o),a},n.setOldCart=function(e){var n=e.clone(),r="platform_"+t.getPlatform()+"_old_cart";return n.setItemsManager(n.getItemsManager().toJSON()),t.Util.Cookie.setCookie(r,t.Util.JSON.stringify(n.toJSON()))},n.addItem=function(e,n,r){e=e.clone();var i=e.getItemsManager().clone(),a=i.findCartItemById(n.getId());if(a){var o=a.clone();i.remove(a);var s;s="equal"==r?n.getQuantity():o.getQuantity()+n.getQuantity(),o.setQuantity(s);var u;u="equal"==r?n.getLinePrice():o.getLinePrice()+n.getLinePrice(),o.setLinePrice(u),i.add(o)}else"variant"==n.getEntity()&&(n=t.Platform.EntityManager.CartItemManager.convertVariantToInstance(n)),i.add(n);e.setItemsManager(i);var c=0,l=0;return i.each(function(e){c+=e.getQuantity(),l+=e.getQuantity()*e.getPrice()}),e.setItemCount(c),e.setTotalPrice(l),e};var r=!1;return n.compareCurrentCartAndNewCart=function(e,n,i){t.Util.Console.log("Cart.js | start compare cart to track & trigger event.");var a=n.getToken();a!=e.getToken()&&(t.Util.Console.log("Cart.js | Token changes, reset all items."),e.getItemsManager().reset(),e.setToken(a)),t.Platform.EntityManager.CartManager.setCurrentCart(n,!1),n.getItemsManager().each(function(r){var a=e.getItemsManager().findCartItemById(r.getId()),o=a?a.getQuantity():0,s=r.getQuantity(),u=Math.abs(o-s),c=null;s>o?c=t.Event.Dispatcher.events.CART.ADD_ITEM:o>s&&(c=t.Event.Dispatcher.events.CART.REMOVE_ITEM),c&&i&&(t.Event.Dispatcher.triggerEvent(c,{addedItem:i,deltaQuantity:u,currentCart:e,newCart:n}),SCN.customCartEvent={type:c,data:{addedItem:i,deltaQuantity:u,currentCart:e,newCart:n}})}),t.Event.Dispatcher.triggerEvent(t.Event.Dispatcher.events.CART.UPDATE,{addedItem:i,currentCart:e,newCart:n}),0==r&&(t.Platform.EntityManager.ProductManager.getNewProductByAjax(function(){SCN.cartReady=!0,t.Event.Dispatcher.triggerEvent(t.Event.Dispatcher.events.CART.READY)}),r=!0)},n.correctInvalidItemQuantityInCart=function(e,n){var r=!0,i=n.getItemsManager();i.each(function(n){var i=!0;return t.Hook.hasHook("isValidVariant")&&(i=t.Hook("isValidVariant",{item:n})),!i&&n.getQuantity()>1?(t.Util.Console.log("Item:"+n.getId()+" quantity:"+n.getQuantity()+" is invalid, update cart"),t.Platform.AjaxManager.changeItem(n.getId(),1,e(!0),"correct_cart_items"),r=!1,!1):void 0}),e(r)},n.getListByVariantId=function(e){var t=e.getItemsManager(),n=[];return t.each(function(e){n.push(e.getVariantId())}),n},n.getListByProductId=function(e){var t=e.getItemsManager(),n=[];return t.each(function(e){n.push(e.getProductId())}),n},n.getNewCartByAjax=function(){t.Util.Console.alert("CartManager@getNewCartByAjax needs implement.")},n.convertDataToInstance=function(){t.Util.Console.alert("CartManager@convertDataToInstance needs implement.")},n.__lockAndCorrectProductQuantity=function(){t.Util.Console.alert("CartManager@__lockAndCorrectProductQuantity needs implement.")},n.__xhrCall=function(){t.Util.Console.alert("CartManager@__lockAndCorrectProductQuantity needs implement.")},e.CartManager=Backbone.Collection.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Entity&&"undefined"!=typeof BeeketingSDK.Entity.Cart}),BeeketingSDK.module("Manager",function(e,t){var n={};return n.model=t.Entity.Product,n.entityType="products",n.isInShop=function(e,t){return e.getShopid()==t.getId()},n.setCurrentProduct=function(e){var n="platform_"+t.getPlatform()+"_current_product";return t.Util.Setting.setSetting(n,e)},n.getCurrentProduct=function(){var e="platform_"+t.getPlatform()+"_current_product";return t.Util.Setting.getSetting(e)},n.getNewProductByAjax=function(e){var n=t.Platform.ElementManager.getProductId();n?this.getProductByRefId(n,function(n){n?(t.Platform.EntityManager.ProductManager.setCurrentProduct(n),e(n)):e(!1)}):e(!1)},n.getProductDataUrl=function(){return""},n.getProductByRefId=function(e,n){var r=new t.Entity.Product(e);r.fetch().complete(function(e){var r=t.Util.JSON.parse(e.responseText);if(0==r.products.length)return!1;var i=t.Platform.EntityManager.ProductManager.convertDataToInstance(r.products[0]);return n(i)})},n.convertProductData=function(e){return e},e.ProductManager=t.Manager.AbstractClass.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Entity&&"undefined"!=BeeketingSDK.Entity.Product}),BeeketingSDK.module("Manager",function(e,t){var n={};return n.model=t.Entity.Shop,n.entityType="shops",e.ShopManager=t.Manager.AbstractClass.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Entity&&"undefined"!=BeeketingSDK.Entity.Shop}),BeeketingSDK.module("Manager",function(e,t){var n={};return n.findVariantById=function(e){var t=this.findWhere({id:e});return t?t:null},e.VariantManager=t.Manager.AbstractClass.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Entity&&"undefined"!=BeeketingSDK.Entity.Variant}),BeeketingSDK.module("Page",function(e,t){var n={};return n.CHECKOUT_PAGE="checkout",n.CART_PAGE="cart",n.HOME_PAGE="home",n.COLLECTION_PAGE="collection",n.PRODUCT_PAGE="product",n.getCurrentPage=function(){return this.isCheckoutPage()?this.CHECKOUT_PAGE:this.isCartPage()?this.CART_PAGE:this.isHomePage()?this.HOME_PAGE:this.isProductPage()?this.PRODUCT_PAGE:this.isCollectionPage()?this.COLLECTION_PAGE:void 0},n.isCheckoutPage=function(){return t.Util.Console.alert("Abstract@isCheckoutPage needs implement."),!1},n.isCartPage=function(){return t.Util.Console.alert("Abstract@isCartPage needs implement."),!1},n.isHomePage=function(){return t.Util.Console.alert("Abstract@isHomePage needs implement."),!1},n.isProductPage=function(){return t.Util.Console.alert("Abstract@isProductPage needs implement."),!1},n.isCollectionPage=function(){return t.Util.Console.alert("Abstract@isCollectionPage needs implement."),!1},n.isAjaxCart=function(){t.Util.Console.alert("Abstract@isAjaxCart needs implement.")},n.forceGoToCheckoutPage=function(){return t.Util.Console.alert("Abstract@forceGoToCheckoutPage needs implement."),!1},n.forceGoToCartPage=function(){return t.Util.Console.alert("Abstract@forceGoToCartPage needs implement."),!1},n.forceGoToHomePage=function(){return t.Util.Console.alert("Abstract@forceGoToHomePage needs implement."),!1},n.forceGoToProductPage=function(){return t.Util.Console.alert("Abstract@forceGoToProductPage needs implement."),!1},e.AbstractManager=Backbone.Model.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.init=function(){},n.getSetting=function(e){return e="platform_"+t.getPlatform()+"_"+e,t.Util.Setting.getSetting(e)},n.setSetting=function(e,n){return e="platform_"+t.getPlatform()+"_"+e,t.Util.Setting.setSetting(e,n)},e.AbstractMain=Backbone.Model.extend(n),e}),BeeketingSDK.module("Util",function(e){var t={};return t.diff=function(e,t){return e.filter(function(e){return t.indexOf(e)<0})},t.unique=function(e){return"undefined"!=typeof e.uniq?e.uniq():e.filter(function(e,t,n){return n.indexOf(e)===t})},t.isEmpty=function(e){var t=!0;return $.each(e,function(){t=!1}),t},t.intersection=function(){for(var e,t,n,r=[],i={},a=0;a<arguments.length;a++){e=arguments[a];for(var o=0;o<e.length;o++)t="-"+e[o],n=i[t]||0,n==a&&(i[t]=n+1)}for(t in i)i.hasOwnProperty(t)&&i[t]===arguments.length&&r.push(t.substring(1));return r},t.arraysEqual=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},t.inArray=function(e,t){return Beeketing.getDependency("$").inArray(e,t)},e.Array=t,e}),BeeketingSDK.module("Util",function(e){var t={};return t.isMobile=function(){return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase())},t.isSmallScreen=function(){return window.innerWidth<=480},t.isIE=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");return!!(t>0||navigator.userAgent.match(/Trident.*rv\:11\./))},t.getHost=function(){return window.location.host},t.getHash=function(){return window.location.hash},t.isInIframe=function(){return!(window.location===window.parent.location||window.location.host!==window.parent.location.host)},t.getWebUrl=function(e){return location.protocol+"//"+location.host+e},t.reload=function(){window.location.reload()},t.redirect=function(e){window.location.href=e},e.Browser=t,e}),"undefined"==typeof console&&(console={log:function(){}}),BeeketingSDK.module("Util",function(e){var t={};return t.enable=!1,t.log=function(e){this.isEnable()&&(e="BeeketingSDK says: "+e,console.log(e))},t.alert=function(){console.log("Warning! ".msg)},t.setEnable=function(e){t.enable=e,this.log("Console enabled: "+e)},t.isEnable=function(){return t.enable},e.Console=t,e}),BeeketingSDK.module("Util",function(e,t){var n={};return n.prefix="",n.setPrefix=function(e){return this.prefix=e},n.getPrefix=function(){return this.prefix},n.getCookie=function(e){return e=this.getPrefix()+e,t.getDependency("Cookies").get(e)},n.setCookie=function(e,n,r,i){e=this.getPrefix()+e;var a={};return a.expires=r?r:null,a.path=i?i:"/",t.getDependency("Cookies").set(e,n,a)},n.checkCookie=function(e,t){return this.getCookie(e)==t},n.removeCookie=function(e){return t.getDependency("Cookies").expire(e)},n.eraseCookie=function(e){return this.removeCookie(e)},n.deleteCookie=function(e){return this.removeCookie(e)},n.cacheTimeByMinute=function(e){return 60*e},n.cacheTimeByHour=function(e){return 3600*e},n.cacheTimeByDay=function(e){return 86400*e},n.cacheForever=function(){return n.cacheTimeByDay(365)},e.Cookie=n,e}),BeeketingSDK.module("Util",function(e,t){var n={};return n.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var n,r,i,a,o,s,u,c="",l=0;for(e=t.Util.Crypt.Base64._utf8_encode(e);l<e.length;)n=e.charCodeAt(l++),r=e.charCodeAt(l++),i=e.charCodeAt(l++),a=n>>2,o=(3&n)<<4|r>>4,s=(15&r)<<2|i>>6,u=63&i,isNaN(r)?s=u=64:isNaN(i)&&(u=64),c=c+this._keyStr.charAt(a)+this._keyStr.charAt(o)+this._keyStr.charAt(s)+this._keyStr.charAt(u);return c},decode:function(e){var n,r,i,a,o,s,u,c="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)a=this._keyStr.indexOf(e.charAt(l++)),o=this._keyStr.indexOf(e.charAt(l++)),s=this._keyStr.indexOf(e.charAt(l++)),u=this._keyStr.indexOf(e.charAt(l++)),n=a<<2|o>>4,r=(15&o)<<4|s>>2,i=(3&s)<<6|u,c+=String.fromCharCode(n),64!=s&&(c+=String.fromCharCode(r)),64!=u&&(c+=String.fromCharCode(i));return c=t.Util.Crypt.Base64._utf8_decode(c)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);128>r?t+=String.fromCharCode(r):r>127&&2048>r?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},_utf8_decode:function(e){for(var t="",n=0,r=c1=c2=0;n<e.length;)r=e.charCodeAt(n),128>r?(t+=String.fromCharCode(r),n++):r>191&&224>r?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&c2),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&c2)<<6|63&c3),n+=3);return t}},e.Crypt=n,e}),BeeketingSDK.module("Util",function(e,t){var n={};return n.stringifyThenParse=function(e){return e=this.stringify(e),this.parse(e)},n.stringify=function(e){return t.getDependency("JSON").stringify(e)},n.parse=function(e){return t.getDependency("JSON").parse(e)},e.JSON=n,e}),BeeketingSDK.module("Util",function(e,t){function n(e,t){var n=e.toFixed(t).toString();return n.match(/^\.\d+/)?"0"+n:n}var r={},i="$ {{amount}}";return r.formatMoney=function(e,t){var r="",a=/\{\{\s*(\w+)\s*\}\}/,o=t||i;switch(o.match(a)[1]){case"amount":r=n(e/100,2).replace(/(\d+)(\d{3}[\.,]?)/,"$1 $2");break;case"amount_no_decimals":r=n(e/100,0).replace(/(\d+)(\d{3}[\.,]?)/,"$1 $2");break;case"amount_with_comma_separator":r=n(e/100,2).replace(/\./,",").replace(/(\d+)(\d{3}[\.,]?)/,"$1.$2");break;case"amount_no_decimals_with_comma_separator":r=n(e/100,0).replace(/\./,",").replace(/(\d+)(\d{3}[\.,]?)/,"$1.$2");break;case"amount_no_decimals_with_space_separator":r=n(e/100,0).replace(/\./," ").replace(/(\d+)(\d{3}[\.,]?)/,"$1.$2")}return o.replace(a,r)},e.Money=r,e}),BeeketingSDK.module("Util",function(e){var t={};return t.setting=[],t.init=function(){},t.setSetting=function(e,t){this.setting[e]=t},t.checkSetting=function(e,t){var n=this.getSetting(e);return n==t},t.getSetting=function(e){return"undefined"==typeof this.setting[e]?null:this.setting[e]},t.deleteSetting=function(e){delete this.setting[e]},e.Setting=t,e}),BeeketingSDK.module("Util",function(e){var t={};return t.loadTwitter=function(){(!window.twttr||window.twttr&&"function"!=typeof window.twttr.ready)&&(window.twttr=function(e,t,n){var r,i=e.getElementsByTagName(t)[0],a=window.twttr||{};return e.getElementById(n)?a:(r=e.createElement(t),r.id=n,r.src="https://platform.twitter.com/widgets.js",i.parentNode.insertBefore(r,i),a._e=[],a.ready=function(e){a._e.push(e)},a)}(document,"script","twitter-wjs"))},t.loadFacebook=function(){!function(e,t,n){var r,i=e.getElementsByTagName(t)[0];e.getElementById(n)||(r=e.createElement(t),r.id=n,r.src="//connect.facebook.net/en_US/sdk.js",i.parentNode.insertBefore(r,i))}(document,"script","facebook-jssdk")},t.loadGooglePlus=function(){!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://apis.google.com/js/plusone.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()},t.callbackGoogle=function(e,t){"on"==data.state?"function"==typeof e&&e():"function"==typeof t&&t()},t.callbackFacebook=function(e,t){FB.Event.subscribe("edge.create",function(){"function"==typeof e&&e()}),FB.Event.subscribe("edge.remove",function(){"function"==typeof t&&t()})},t.callbackTwitter=function(e,t){twttr.ready(function(){twttr.events.bind("follow",function(t){(t.data.user_id||t.data.screen_name)&&"function"==typeof e&&e()}),twttr.events.bind("unfollow",function(e){(e.data.user_id||e.data.screen_name)&&"function"==typeof t&&t()})})},e.Social=t,e}),BeeketingSDK.module("Util",function(e){var t={};return t.ucfirst=function(e){e+="";var t=e.charAt(0).toUpperCase();return t+e.substr(1)},t.isEmpty=function(e){return!e||0===e.length},e.String=t,e}),BeeketingSDK.module("Event",function(e,t){var n={},r=!1;return n.startListen=function(){return"undefined"==typeof SCN||"undefined"==typeof SCN.Config||"undefined"==typeof SCN.Config.apps?(t.Util.Console.log("Stop cart listener"),void 0):(t.Util.Console.log("Init cart listener & start listen."),this.getNewCartAndTrack(),this.listenAjaxFormAddToCart(),this.listenButtonAddToCart(),this.listenButtonCheckout(),void 0)},n.getNewCartAndTrack=function(){t.Util.Console.log("Cart.js | get new cart and track.");var e=t.Platform.EntityManager.CartManager;e.getNewCartByAjax(function(t){var n=e.getOldCart();n||(n=t),e.setCurrentCart(t,!1),e.__lockAndCorrectProductQuantity(),e.compareCurrentCartAndNewCart(n,t,null)},null)},n.listenButtonAddToCart=function(){return t.Platform.PageManager.isProductPage()?(t.Event.Dispatcher.listenEvent(t.Event.Dispatcher.events.CART.UPDATE,function(){t.Util.Console.log("Cart Ready. Find submit button to listen.");var e=t.getDependency("$");if(!e)return t.Util.Console.log("No jquery dependency found"),void 0;var n,r=t.Platform.ElementManager.getAddCartForm();e(r).each(function(){n=e(this).find('input[type="submit"], button[type="submit"], #add-to-cart, .btn-cart'),t.overrideAddCart&&e(this).find('input[type="submit"], button[type="submit"], #add-to-cart, .btn-cart').unbind("click"),t.Event.Dispatcher.triggerEvent(t.Event.Dispatcher.events.CART.CLICK_BUTTON,{$button:n})})}),void 0):!1},n.listenAjaxFormAddToCart=function(){var e=t.getDependency("$");e(document).ajaxComplete(t.Platform.Listener.CartListener.handleAjaxComplete)},n.listenButtonCheckout=function(){var e=t.Platform.ElementManager.getCheckoutButton();t.getDependency("$")(e).on("click",function(){var e=$(this);if(0==r){r=!0;var n=t.Platform.EntityManager.CartManager;n.__lockAndCorrectProductQuantity(),t.Event.Dispatcher.triggerEvent(t.Event.Dispatcher.events.CART.CHECKOUT,{$button:e},function(){})}})},n.handleAjaxComplete=function(){t.Util.Console.alert("CartListener@handleAjaxComplete needs implement.")},e.Listener=e.Listener||{},e.Listener.CartListener=Backbone.Model.extend(n),e}),BeeketingSDK.module("Event",function(e){var t={};return t.startListen=function(){},e.Listener=e.Listener||{},e.Listener.TrackerListener=Backbone.Model.extend(t),e}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.removeQueueFromCart=function(e){var t=this,r="correct_cart_items";if(this.queue.length){var i=this.queue.shift();n.removeItem("",i.cartItemId,function(){t.removeQueueFromCart(e,r)},r)}else"function"==typeof e&&e()},n.Image={preload:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];this.loadImage(this.getSizedImageUrl(r,t))}},loadImage:function(e){(new Image).src=e},switchImage:function(e,t,n){if(e&&t){var r=this.imageSize(t.src),i=this.getSizedImageUrl(e.src,r);n?n(i,e,t):t.src=i}},imageSize:function(e){var t=e.match(/_(1024x1024|2048x2048|pico|icon|thumb|small|compact|medium|large|grande)\./);return null!=t?t[1]:null},getSizedImageUrl:function(e){return e},removeProtocol:function(e){return e.replace(/http(s)?:/,"")}},n.addItem=function(e,n,r,i,a,o,s){this.itemAddedBy=o||null;var u={action:"add",product_id:n};u.variation_id="",u.currency_id="",u["qty[]"]=i;r&&$.each(r,function(e,t){u["attribute["+e+"]"]=t});var c=this,l={type:"POST",url:"/cart.php",data:u,variant_id:e,customData:s,cache:!1,itemAddedBy:o,success:function(e){"function"==typeof a&&a(e),c.onItemAdded(e)},error:function(e,t){"function"==typeof a&&a(null),c.onError(e,t)}};t.getDependency("$").ajax(l)},n.addItems=function(e,t,r){var i=0,a=e.product_ids.length,o=[],s=function(e){i++,o.push(e),i==a&&t(o)};$.each(e.product_ids,function(t,i){var a=e.attributes[i]?JSON.parse(e.attributes[i]):[],o=e.discount?JSON.parse(e.discount):null;o&&o[i]&&(a[o[i].discount_id]=o[i].discount_value),n.addItem(e.variant_ids[t],i,a,1,s,r,"not_trigger_cart")})},n.addItemFromForm=function(e,t,r){var i,a,o=0;if("object"==typeof e){o=e.find('input[name="product_id[]"]').val(),i=e.find('input[name="qty[]"]').val(),"undefined"==typeof o&&(o=e.find('select[name="id"]').val()),"undefined"==typeof o&&(o=e.find('select[name="id[]"]').val()),"undefined"==typeof i&&(i=e.find('input[name="qty"]').val()),"undefined"==typeof i&&(i=e.find('input[name="quantity"]').val()),i||(i=1),a=e.find(".bk-attributes").val()||null,a=a?JSON.parse(a):[];var s=e.find(".bk-discount").val();s&&(a[s[0]]=s[1])}n.addItem(0,o,a,i,t,r)},n.changeItem=function(){},n.removeItem=function(e,n,r){var i;if(i=n?n:t.Platform.EntityManager.CartItemManager.getItemIdByVariantId(e),!i)return r(t.Platform.EntityManager.CartManager.getCurrentCart()),void 0;var a=this,o={type:"POST",url:"/cart.php",data:"action=remove&item="+i,success:function(){"function"==typeof r?t.Platform.EntityManager.CartManager.getNewCartByAjax(r):t.Platform.EntityManager.CartManager.getNewCartByAjax(a.onCartUpdate),a.resetItemAddedBy()},error:function(e,t){"function"==typeof r&&r(null),a.onError(e,t)}};t.getDependency("$").ajax(o)},n.customRemoveItem=function(){},n.updateCartFromForm=function(){},n.onError=function(e){t.Util.Console.log(e.responseText)},n.onItemAdded=function(e){t.Util.Console.log(e.title+" was added to your shopping cart."),"function"==typeof bigCOnnSuccess&&bigCOnnSuccess()},e.Bigcommerce=e.Bigcommerce||{},e.Bigcommerce.AjaxManagerClass=t.Manager.AjaxManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.AjaxManager}),BeeketingSDK.module("Platform",function(e,t){var n={},r={bk_user:"bk_user"};return n.getDataDom=function(){return t.getDependency("$")("#bk-data")},n.getVariantIdFromFormData=function(e){var n=e.serializeArray(),r=null;return t.getDependency("$").each(n,function(e,t){("variation_id"==t.name||"variation_id[]"==t.name)&&(r=t.value)}),r&&(r=parseInt(r)),r},n.getProductId=function(){return n.getDataDom().data("product-id")},n.getCollectionId=function(){return t.Platform.PageManager.isCollectionPage()?null:!1},n.gotCurrentCustomerData=function(e,n){if(n.success){if("user"==n.tracker_type){var i={email:e,id:n.distinct_id};t.Util.Cookie.setCookie(r.bk_user,t.Util.JSON.stringify(i),t.Util.Cookie.cacheForever())}t.Tracker.setNewUser(n.tracker_type,n.distinct_id)}},n.getCurrentCustomerId=function(){var e=n.getDataDom().data("customer-email"),i=t.Util.Cookie.getCookie(r.bk_user);if(i&&(i=t.Util.JSON.parse(i),i.email==e))return i.id;if(e){var a=Beeketing.Tracker.getUserDistinctId(),o=Beeketing.Tracker.getType();t.Tracker.identifyEmail(e,a,o,function(t){n.gotCurrentCustomerData(e,t)})}return null},n.getCheckoutButton=function(){return'a[href*="/checkout.php"]'},n.getAddCartForm=function(){return'form[action*="/cart.php"]'},e.Bigcommerce=e.Bigcommerce||{},e.Bigcommerce.ElementManagerClass=t.Element.AbstractClass.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Element&&"undefined"!=typeof BeeketingSDK.Element.AbstractClass}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.initialize=function(){window.__st=bkWindow.__st||{p:"",rid:null,pageurl:window.location.href}},e.Bigcommerce=e.Bigcommerce||{},e.Bigcommerce.MainClass=t.Platform.AbstractMain.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getDataDom=function(){return t.getDependency("$")("#bk-data")},n.isCheckoutPage=function(){return"/checkout.php"==window.location.pathname},n.isCartPage=function(){return"/cart.php"==window.location.pathname},n.isHomePage=function(){return"/"==window.location.pathname},n.isProductPage=function(){return n.getDataDom().data("product-id")},n.isCollectionPage=function(){return window.category},n.isAjaxCart=function(){return!0},n.forceGoToCheckoutPage=function(){return t.Util.Browser.redirect("/checkout.php")},n.forceGoToCartPage=function(){return t.Util.Browser.redirect("/cart.php")},n.forceGoToHomePage=function(){return t.Util.Browser.redirect("/")},n.forceGoToProductPage=function(){return t.Util.Console.alert("Function forceGoToProductPage is needed implement"),!1},e.Bigcommerce=e.Bigcommerce||{},e.Bigcommerce.PageManagerClass=t.Page.AbstractManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Page&&"undefined"!=typeof BeeketingSDK.Page.AbstractManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.Image={},n.addItem=function(){},n.addItems=function(){},n.addItemFromForm=function(){},n.changeItem=function(){},n.removeItem=function(){},n.customRemoveItem=function(){},n.updateCartFromForm=function(){},n.onError=function(){},n.onItemAdded=function(){},e.Custom=e.Custom||{},e.Custom.AjaxManagerClass=t.Manager.AjaxManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.AjaxManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getVariantIdFromFormData=function(){},n.getProductId=function(){},n.getCollectionId=function(){},n.getCheckoutButton=function(){},n.getAddCartForm=function(){},e.Custom=e.Custom||{},e.Custom.ElementManagerClass=t.Element.AbstractClass.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Element&&"undefined"!=typeof BeeketingSDK.Element.AbstractClass}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.initialize=function(){var e;e="undefined"!=typeof window.parent?window.parent:window,window.__bkt=e.__bkt||{p:"",rid:null,pageurl:window.location.href},window.__bkt=bkWindow.__bkt||{p:"",rid:null,pageurl:window.location.href}},e.Custom=e.Custom||{},e.Custom.MainClass=t.Platform.AbstractMain.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.isCheckoutPage=function(){},n.isCartPage=function(){},n.isHomePage=function(){},n.isProductPage=function(){},n.isCollectionPage=function(){},n.isAjaxCart=function(){},n.forceGoToCheckoutPage=function(){},n.forceGoToCartPage=function(){},n.forceGoToHomePage=function(){},n.forceGoToProductPage=function(){},e.Custom=e.Custom||{},e.Custom.PageManagerClass=t.Page.AbstractManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Page&&"undefined"!=typeof BeeketingSDK.Page.AbstractManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.Image={},n.addItem=function(){},n.addItems=function(){},n.addItemFromForm=function(){},n.changeItem=function(){},n.removeItem=function(){},n.customRemoveItem=function(){},n.updateCartFromForm=function(){},n.onError=function(){},n.onItemAdded=function(){},e.Haravan=e.Haravan||{},e.Haravan.AjaxManagerClass=t.Manager.AjaxManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.AjaxManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getVariantIdFromFormData=function(){},n.getProductId=function(){},n.getCollectionId=function(){},n.getCheckoutButton=function(){},n.getAddCartForm=function(){},e.Haravan=e.Haravan||{},e.Haravan.ElementManagerClass=t.Element.AbstractClass.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Element&&"undefined"!=typeof BeeketingSDK.Element.AbstractClass}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.initialize=function(){window.__st=bkWindow.__st||{p:"",rid:null,pageurl:window.location.href}},e.Haravan=e.Haravan||{},e.Haravan.MainClass=t.Platform.AbstractMain.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.isCheckoutPage=function(){},n.isCartPage=function(){},n.isHomePage=function(){},n.isProductPage=function(){},n.isCollectionPage=function(){},n.isAjaxCart=function(){},n.forceGoToCheckoutPage=function(){},n.forceGoToCartPage=function(){},n.forceGoToHomePage=function(){},n.forceGoToProductPage=function(){},e.Haravan=e.Haravan||{},e.Haravan.PageManagerClass=t.Page.AbstractManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Page&&"undefined"!=typeof BeeketingSDK.Page.AbstractManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.Image={preload:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];this.loadImage(this.getSizedImageUrl(r,t))}},loadImage:function(e){(new Image).src=e},switchImage:function(e,t,n){if(e&&t){var r=this.imageSize(t.src),i=this.getSizedImageUrl(e.src,r);n?n(i,e,t):t.src=i}},imageSize:function(e){var t=e.match(/_(1024x1024|2048x2048|pico|icon|thumb|small|compact|medium|large|grande)\./);return null!=t?t[1]:null},getSizedImageUrl:function(e){return e},removeProtocol:function(e){return e.replace(/http(s)?:/,"")}},n.addItem=function(e,n,r,i,a,o){this.itemAddedBy=o||null;var s=this,u={product_id:n,id:e,qty:i,attributes:r},c={type:"GET",url:SCN.Config.shopAbsoluteDomain+"beeketing/api_cart/addcart",data:u,dataType:"json",success:function(e){"function"==typeof a&&a(e),s.onItemAdded(e)},error:function(e,t){s.onError(e,t),"function"==typeof a&&a(null)}};t.getDependency("$").ajax(c)},n.addItems=function(e,t,n){for(var r,i=[],a=0;a<e.product_ids.length;a++)i.push("product_id[]="+e.product_ids[a]),i.push("attributes[]="+e.attributes[a]);r=i.join("&"),this.addItemFromForm(encodeURI(r),t,n)},n.addItemFromForm=function(e,n,r,i){this.itemAddedBy=r||null;var a="object"==typeof e?e.serialize():e,o=this,s=t.Platform.EntityManager.CartManager,u=s.getCurrentCart(),c={type:"GET",url:SCN.Config.shopAbsoluteDomain+"beeketing/api_cart/addcart",data:a,dataType:"json",success:function(e){if("undefined"==typeof e.success||!e.success)return"function"==typeof n&&n(null),void 0;var r=e.data;"function"==typeof n&&n(r),o.onItemAdded(r);var a=s.convertDataToInstance(r);s.setCurrentCart(a);var c=t.Util.JSON.stringifyThenParse(t.Platform.AjaxManager.itemAddedBy)||"",l=null;a.getItemsManager().each(function(e){i==e.getProductId()&&(l=e,l.setAddedBy(c))}),t.Event.Dispatcher.triggerEvent(t.Event.Dispatcher.events.CART.ADD_ITEM,{addedItem:l,currentCart:u,newCart:a})},error:function(e,t){"function"==typeof n&&n(null),o.onError(e,t)}};t.getDependency("$").ajax(c)},n.changeItem=function(e,n,r,i){this.itemAddedBy=i||null;var a=this,o={type:"POST",url:"/cart/change.js",data:"quantity="+n+"&id="+e,dataType:"json",success:function(e){"function"==typeof r?r(e):a.onCartUpdate(e),a.resetItemAddedBy()},error:function(e,t){a.onError(e,t),"function"==typeof r&&r(null)}};t.getDependency("$").ajax(o)},n.removeItem=function(e,t,n,r){this.customRemoveItem("id",t,n,r)},n.removeQueueFromCart=function(e){var t=this,n="correct_cart_items";if(this.queue.length){var r=this.queue.shift();this.customRemoveItem("id",r.cartItemId,function(){t.removeQueueFromCart(e,n)},n)}else"function"==typeof e&&e()},n.customRemoveItem=function(e,n,r,i){this.itemAddedBy=i||null;var a=this,o={type:"GET",url:SCN.Config.shopAbsoluteDomain+"beeketing/api_cart/removefromcart?id="+n,data:"",dataType:"json",success:function(e){"function"==typeof r?r(e):a.onCartUpdate(e),a.resetItemAddedBy()},error:function(e,t){"function"==typeof r&&r(null),a.onError(e,t)}};t.getDependency("$").ajax(o)},n.updateCartFromForm=function(e,n){var r=this,i={type:"POST",url:"/cart/update.js",data:e.serialize(),dataType:"json",success:function(e){"function"==typeof n?n(e):r.onCartUpdate(e)},error:function(e,t){"function"==typeof n&&n(!1),r.onError(e,t)}};t.getDependency("$").ajax(i)},n.onError=function(e){t.Util.Console.log(e.responseText),this.resetItemAddedBy()},n.onItemAdded=function(e){t.Util.Console.log(e.title+" was added to your shopping cart."),this.resetItemAddedBy()},e.Magento=e.Magento||{},e.Magento.AjaxManagerClass=t.Manager.AjaxManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.AjaxManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getCurrentCustomerId=function(){var e=null;return"undefined"!=typeof BKCustomer&&BKCustomer.id&&(e=BKCustomer.id),e},n.getVariantIdFromFormData=function(e){var n=e.serializeArray(),r=null;return t.getDependency("$").each(n,function(e,t){("id"==t.name||"id[]"==t.name)&&(r=t.value)}),r&&(r=parseInt(r)),t.Util.Console.log("Product add cart with id: "+r),r},n.getProductId=function(){return t.Platform.PageManager.isProductPage()?"undefined"==typeof __bkt.rid?!1:__bkt.rid:!1},n.getCollectionId=function(){return t.Platform.PageManager.isCollectionPage()?"undefined"==typeof __bkt.rid?!1:__bkt.rid:!1},n.getCheckoutButton=function(){return'button[name="checkout"], input[name="checkout"]'},n.getAddCartForm=function(){return'form[action*="/checkout/cart/add"]'},e.Magento=e.Magento||{},e.Magento.ElementManagerClass=t.Element.AbstractClass.extend(n),e
},null,function(){return"undefined"!=typeof BeeketingSDK.Element&&"undefined"!=typeof BeeketingSDK.Element.AbstractClass}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.initialize=function(){window.__bkt=bkWindow.__bkt||{p:"",rid:null,pageurl:window.location.href}},e.Magento=e.Magento||{},e.Magento.MainClass=t.Platform.AbstractMain.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.isCheckoutPage=function(){return"checkout"==__bkt.p},n.isCartPage=function(){return"cart"==__bkt.p},n.isHomePage=function(){return"home"==__bkt.p},n.isProductPage=function(){return"product"==__bkt.p},n.isCollectionPage=function(){return"collection"==__bkt.p},n.isAjaxCart=function(){return!1},n.forceGoToCheckoutPage=function(){return t.Util.Browser.redirect(bkCartData.checkout_url)},n.forceGoToCartPage=function(){return t.Util.Browser.redirect(bkCartData.cart_url)},n.forceGoToHomePage=function(){return t.Util.Browser.redirect(bkCartData.shop_url)},n.forceGoToProductPage=function(){return t.Util.Console.alert("Function forceGoToProductPage is needed implement"),!0},e.Magento=e.Magento||{},e.Magento.PageManagerClass=t.Page.AbstractManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Page&&"undefined"!=typeof BeeketingSDK.Page.AbstractManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.Image={preload:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];this.loadImage(this.getSizedImageUrl(r,t))}},loadImage:function(e){(new Image).src=e},switchImage:function(e,t,n){if(e&&t){var r=this.imageSize(t.src),i=this.getSizedImageUrl(e.src,r);n?n(i,e,t):t.src=i}},imageSize:function(e){var t=e.match(/_(1024x1024|2048x2048|pico|icon|thumb|small|compact|medium|large|grande)\./);return null!=t?t[1]:null},getSizedImageUrl:function(e,t){var n="https://cdn.shopify.com/s/assets/admin/no-image-grande-dba4c5e9b90e66e8a8429a34ab6f5292.gif";if(null==t||!e)return n;if("master"==t)return this.removeProtocol(e);var r=e.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);if(null!=r){var i=e.split(r[0]),a=r[0];return this.removeProtocol(i[0]+a)}return n},removeProtocol:function(e){return e.replace(/http(s)?:/,"")}},n.addItem=function(e,n,r,i,a,o){this.itemAddedBy=o||null;var s=i||1,u=this,c={type:"POST",url:"/cart/add/"+e+"/",data:"quantity="+s,success:function(){"function"==typeof a&&a(null),u.onItemAdded()},error:function(e,t){"function"==typeof a&&a(null),u.onError(e,t)}};t.getDependency("$").ajax(c)},n.addItems=function(e,n,r){this.itemAddedBy=r||null;var a=[];for(i in e.variant_ids)a.push("product[]="+e.variant_ids[i]);var o=this,s={type:"POST",url:"/cart/addBulk/",data:a.join("&"),success:function(){"function"==typeof n&&n(null),o.onItemAdded()},error:function(e,t){"function"==typeof n&&n(null),o.onError(e,t)}};t.getDependency("$").ajax(s)},n.addItemFromForm=function(e,n,r){this.itemAddedBy=r||null;var i,a=t.Platform.EntityManager.CartManager,o=a.getCurrentCart();if("object"==typeof e){var s=e.find('select[name="id[]"]').val(),u=e.find('input[name="qty[]"]').val();"undefined"==typeof s&&(s=e.find('select[name="id"]').val()),"undefined"==typeof s&&(s=e.find('input[name="id"]').val()),"undefined"==typeof s&&(s=t.Platform.ElementManager.getVariantIdFromFormData(e)),"undefined"==typeof u&&(u=e.find('input[name="qty"]').val()),"undefined"==typeof u&&(u=e.find('input[name="quantity"]').val()),i={quantity:u}}else i=e.replace(/(^\?)/,"").split("&").map(function(e){return e=e.split("="),this[e[0].replace(/(\[\])/,"")]=e[1],this}.bind({}))[0],s=i.id,i={quantity:i.qty};var c=this,l={type:"POST",url:"/cart/add/"+s+"/",data:i,success:function(){"function"==typeof n&&n(!0),c.onItemAdded(),t.getDependency("$").getJSON("/cart/?format=json",function(e){var n=a.convertDataToInstance(e);a.setCurrentCart(n);var r=t.Util.JSON.stringifyThenParse(t.Platform.AjaxManager.itemAddedBy)||"",i=null;n.getItemsManager().each(function(e){s==e.attributes.variantId&&(i=e,i.setAddedBy(r))}),t.Event.Dispatcher.triggerEvent(t.Event.Dispatcher.events.CART.ADD_ITEM,{addedItem:i,currentCart:o,newCart:n})})},error:function(e,t){"function"==typeof n&&n(null),c.onError(e,t)}};t.getDependency("$").ajax(l)},n.changeItem=function(){},n.removeItem=function(e,t,n,r){this.customRemoveItem("id",e,n,r)},n.customRemoveItem=function(e,n,r,i){this.itemAddedBy=i||null,n?t.getDependency("$").getJSON("/cart/?format=json",function(e){if("undefined"!=typeof e.cart.products)for(var i in e.cart.products)e.cart.products[i].vid==n&&t.getDependency("$").get("/cart/delete/"+e.cart.products[i].qid+"/",function(){"function"==typeof r&&r(!0)})}):t.getDependency("$")(".gui-action-delete").each(function(){window.location.href=t.getDependency("$")(this).attr("href")})},n.updateCartFromForm=function(){},n.onError=function(){},n.onItemAdded=function(){t.Util.Console.log("Product was added to your shopping cart."),this.resetItemAddedBy()},e.Seoshop=e.Seoshop||{},e.Seoshop.AjaxManagerClass=t.Manager.AjaxManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.AjaxManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getVariantIdFromFormData=function(e){var n=e.attr("action"),r=null;return n.lastIndexOf("/")==n.length-1&&(n=n.substr(0,n.length-1)),r=n.substr(n.lastIndexOf("/")+1),isNaN(r)&&(submitData=e.serializeArray(),t.getDependency("$").each(submitData,function(e,t){("id"==t.name||"id[]"==t.name)&&(r=t.value)})),r&&(r=parseInt(r)),r},n.getProductId=function(){var e=location.pathname;e.lastIndexOf("/")==e.length-1&&(e=e.substr(0,e.length-1));var t=e.substr(e.lastIndexOf("/")+1,e.indexOf(".html")-1);return t},n.getCollectionId=function(){var e=location.pathname;e.lastIndexOf("/")==e.length-1&&(e=e.substr(0,e.length-1));var t=e.substr(e.lastIndexOf("/")+1);return t},n.getCheckoutButton=function(){return'a[href*="/checkout/"]'},n.getAddCartForm=function(){return"form#product_configure_form"},e.Seoshop=e.Seoshop||{},e.Seoshop.ElementManagerClass=t.Element.AbstractClass.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Element&&"undefined"!=typeof BeeketingSDK.Element.AbstractClass}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.initialize=function(){window.__st=bkWindow.__st||{p:"",rid:null,pageurl:window.location.href}},e.Seoshop=e.Seoshop||{},e.Seoshop.MainClass=t.Platform.AbstractMain.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.isCheckoutPage=function(){return-1!=window.location.pathname.indexOf("/checkout/default")},n.isCartPage=function(){return-1!=window.location.pathname.search(/\/cart\/?$/)},n.isHomePage=function(){return-1!=window.location.pathname.search(/^(\/[a-z]{2})?\/$/)},n.isProductPage=function(){return-1!=window.location.pathname.search(/(.html)$/)},n.isCollectionPage=function(){return!n.isHomePage()&&!n.isProductPage()&&!n.isCartPage()&&-1==window.location.pathname.search(/(.html)$/)&&t.getDependency("$")(".products").length>0},n.isAjaxCart=function(){return!1},n.forceGoToCheckoutPage=function(){return t.Util.Browser.redirect("/checkout/default/")},n.forceGoToCartPage=function(){return t.Util.Browser.redirect("/cart/")},n.forceGoToHomePage=function(){return t.Util.Browser.redirect("/")},n.forceGoToProductPage=function(){return t.Util.Console.alert("Function forceGoToProductPage is needed implement"),!1},e.Seoshop=e.Seoshop||{},e.Seoshop.PageManagerClass=t.Page.AbstractManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Page&&"undefined"!=typeof BeeketingSDK.Page.AbstractManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.Image={preload:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];this.loadImage(this.getSizedImageUrl(r,t))}},loadImage:function(e){(new Image).src=e},switchImage:function(e,t,n){if(e&&t){var r=this.imageSize(t.src),i=this.getSizedImageUrl(e.src,r);n?n(i,e,t):t.src=i}},imageSize:function(e){var t=e.match(/_(1024x1024|2048x2048|pico|icon|thumb|small|compact|medium|large|grande)\./);return null!=t?t[1]:null},getSizedImageUrl:function(e,t){var n="https://cdn.shopify.com/s/assets/admin/no-image-grande-dba4c5e9b90e66e8a8429a34ab6f5292.gif";if(null==t||!e)return n;if("master"==t)return this.removeProtocol(e);var r=e.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);if(null!=r){var i=e.split(r[0]),a=r[0];return this.removeProtocol(i[0]+"_"+t+a)}return n},removeProtocol:function(e){return e.replace(/http(s)?:/,"")}},n.addItem=function(e,n,r,i,a,o){this.itemAddedBy=o||null;var s=i||1,u=this,c={type:"POST",url:"/cart/add.js",data:"quantity="+s+"&id="+e,dataType:"json",success:function(e){"function"==typeof a&&a(e),u.onItemAdded(e)},error:function(e,t){u.onError(e,t),"function"==typeof a&&a(null)}};t.getDependency("$").ajax(c)},n.addItems=function(e,n,r){this.itemAddedBy=r||null;var i,a=[];for(i in e.variant_ids)a.push("updates["+e.variant_ids[i]+"]=1");var o=this,s={type:"POST",url:"/cart/update.js",data:a.join("&"),dataType:"json",success:function(e){"function"==typeof n&&n(e),o.onItemAdded(e)},error:function(e,t){"function"==typeof n&&n(null),o.onError(e,t)}};t.getDependency("$").ajax(s)},n.addItemFromForm=function(e,n,r){this.itemAddedBy=r||null;var i;if("object"==typeof e){var a=e.find('select[name="id[]"]').val(),o=e.find('input[name="qty[]"]').val();"undefined"==typeof a&&(a=e.find('select[name="id"]').val()),"undefined"==typeof a&&(a=e.find('input[name="id"]').val()),"undefined"==typeof o&&(o=e.find('input[name="qty"]').val()),"undefined"==typeof o&&(o=e.find('input[name="quantity"]').val()),i={"id[]":a,"qty[]":o}}else i=e;var s=this,u={type:"POST",url:"/cart/add.js",data:i,dataType:"json",success:function(e){"function"==typeof n&&n(e),s.onItemAdded(e)},error:function(e,t){"function"==typeof n&&n(null),s.onError(e,t)}};t.getDependency("$").ajax(u)},n.changeItem=function(e,n,r,i){this.itemAddedBy=i||null;var a=this,o={type:"POST",url:"/cart/change.js",data:"quantity="+n+"&id="+e,dataType:"json",success:function(e){"function"==typeof r?r(e):a.onCartUpdate(e),a.resetItemAddedBy()},error:function(e,t){a.onError(e,t),"function"==typeof r&&r(null)}};t.getDependency("$").ajax(o)},n.removeItem=function(e,t,n,r){this.customRemoveItem("id",e,n,r)},n.customRemoveItem=function(e,n,r,i){this.itemAddedBy=i||null;var a=this,o={type:"POST",url:"/cart/change.js",data:"quantity=0&"+e+"="+n,dataType:"json",success:function(e){"function"==typeof r?r(e):a.onCartUpdate(e),a.resetItemAddedBy()},error:function(e,t){"function"==typeof r&&r(null),a.onError(e,t)}};t.getDependency("$").ajax(o)},n.updateCartFromForm=function(e,n){var r=this,i={type:"POST",url:"/cart/update.js",data:e.serialize(),dataType:"json",success:function(e){"function"==typeof n?n(e):r.onCartUpdate(e)},error:function(e,t){"function"==typeof n&&n(!1),r.onError(e,t)}};t.getDependency("$").ajax(i)},n.onError=function(e){t.Util.Console.log(e.responseText),this.resetItemAddedBy()},n.onItemAdded=function(e){t.Util.Console.log(e.title+" was added to your shopping cart."),this.resetItemAddedBy(),"function"==typeof Shopify.onSuccess&&Shopify.onSuccess()},e.Shopify=e.Shopify||{},e.Shopify.AjaxManagerClass=t.Manager.AjaxManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.AjaxManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getVariantIdFromFormData=function(e){var n=e.serializeArray(),r=null;return t.getDependency("$").each(n,function(e,t){("id"==t.name||"id[]"==t.name)&&(r=t.value)}),r&&(r=parseInt(r)),r},n.getProductId=function(){if(!t.Platform.PageManager.isProductPage())return!1;var e=!1;if("undefined"!=typeof __st.rid)e=__st.rid;else if("string"==typeof __st.s){var n=__st.s.match(/products-(\d+)/);n&&n[1]&&(e=parseFloat(n[1]))}return e||t.Util.Console.log("BeeketingS SDK: Could not detect product ref id"),e},n.getCollectionId=function(){return t.Platform.PageManager.isCollectionPage()?"undefined"==typeof __st.rid?!1:__st.rid:!1},n.getCurrentCustomerId=function(){var e=null;return"undefined"!=typeof __st.cid&&(e=__st.cid),e},n.getCheckoutButton=function(){return'button[name="checkout"], input[name="checkout"]'},n.getAddCartForm=function(){return'form[action="/cart/add"]'},e.Shopify=e.Shopify||{},e.Shopify.ElementManagerClass=t.Element.AbstractClass.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Element&&"undefined"!=typeof BeeketingSDK.Element.AbstractClass}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.initialize=function(){window.__st=bkWindow.__st||{p:"",rid:null,pageurl:window.location.href}},e.Shopify=e.Shopify||{},e.Shopify.MainClass=t.Platform.AbstractMain.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.isCheckoutPage=function(){return-1!=t.Util.Browser.getHost().indexOf("checkout.shopify.com")},n.isCartPage=function(){var e=window.location.href.split("/"),t=e[e.length-1].substring(0,4);return"cart"!=t&&(t=e[e.length-2].substring(0,4)),"cart"==t},n.isHomePage=function(){return"home"==__st.p},n.isProductPage=function(){return"string"==typeof __st.p&&"product"==__st.p||"string"==typeof __st.s&&__st.s.match(/products-\d+/)},n.isCollectionPage=function(){return"string"==typeof __st.p&&"collection"==__st.p||!n.isProductPage()&&"string"==typeof __st.pageurl&&__st.pageurl.match(/\/collections\//)},n.isAjaxCart=function(){var e=!1;return"undefined"!=typeof window.scn_shopify_ajax_cart?window.scn_shopify_ajax_cart:("object"==typeof Shopify&&Shopify.addItem&&Shopify.addItemFromForm&&(e=!0),"object"==typeof ajaxifyShopify&&(e=!0),"boolean"==typeof window.ajax_cart?e=window.ajax_cart:"undefined"!=typeof Theme&&"boolean"==typeof Theme.disableAjax?e=!Theme.disableAjax:"undefined"!=typeof window.ajaxCart&&(e=!0),e)},n.forceGoToCheckoutPage=function(){return t.Util.Browser.redirect("/checkout")},n.forceGoToCartPage=function(){return t.Util.Browser.redirect("/cart")},n.forceGoToHomePage=function(){return t.Util.Browser.redirect("/")},n.forceGoToProductPage=function(){return t.Util.Console.alert("Function forceGoToProductPage is needed implement"),!1},e.Shopify=e.Shopify||{},e.Shopify.PageManagerClass=t.Page.AbstractManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Page&&"undefined"!=typeof BeeketingSDK.Page.AbstractManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.Image={},n.addItem=function(){},n.addItems=function(){},n.addItemFromForm=function(){},n.changeItem=function(){},n.removeItem=function(){},n.customRemoveItem=function(){},n.updateCartFromForm=function(){},n.onError=function(){},n.onItemAdded=function(){},e.Tictail=e.Tictail||{},e.Tictail.AjaxManagerClass=t.Manager.AjaxManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.AjaxManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getVariantIdFromFormData=function(){},n.getProductId=function(){},n.getCollectionId=function(){},n.getCheckoutButton=function(){},n.getAddCartForm=function(){},e.Tictail=e.Tictail||{},e.Tictail.ElementManagerClass=t.Element.AbstractClass.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Element&&"undefined"!=typeof BeeketingSDK.Element.AbstractClass}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.initialize=function(){window.__st=bkWindow.__st||{p:"",rid:null,pageurl:window.location.href}},e.Tictail=e.Tictail||{},e.Tictail.MainClass=t.Platform.AbstractMain.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.isCheckoutPage=function(){},n.isCartPage=function(){},n.isHomePage=function(){},n.isProductPage=function(){},n.isCollectionPage=function(){},n.isAjaxCart=function(){},n.forceGoToCheckoutPage=function(){},n.forceGoToCartPage=function(){},n.forceGoToHomePage=function(){},n.forceGoToProductPage=function(){},e.Tictail=e.Tictail||{},e.Tictail.PageManagerClass=t.Page.AbstractManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Page&&"undefined"!=typeof BeeketingSDK.Page.AbstractManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.Image={},n.addItem=function(){},n.addItems=function(){},n.addItemFromForm=function(){},n.changeItem=function(){},n.removeItem=function(){},n.customRemoveItem=function(){},n.updateCartFromForm=function(){},n.onError=function(){},n.onItemAdded=function(){},e.Weebly=e.Weebly||{},e.Weebly.AjaxManagerClass=t.Manager.AjaxManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.AjaxManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getVariantIdFromFormData=function(){},n.getProductId=function(){},n.getCollectionId=function(){},n.getCheckoutButton=function(){},n.getAddCartForm=function(){},e.Weebly=e.Weebly||{},e.Weebly.ElementManagerClass=t.Element.AbstractClass.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Element&&"undefined"!=typeof BeeketingSDK.Element.AbstractClass}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.initialize=function(){window.__st=bkWindow.__st||{p:"",rid:null,pageurl:window.location.href}},e.Weebly=e.Weebly||{},e.Weebly.MainClass=t.Platform.AbstractMain.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.isCheckoutPage=function(){},n.isCartPage=function(){},n.isHomePage=function(){},n.isProductPage=function(){},n.isCollectionPage=function(){},n.isAjaxCart=function(){},n.forceGoToCheckoutPage=function(){},n.forceGoToCartPage=function(){},n.forceGoToHomePage=function(){},n.forceGoToProductPage=function(){},e.Weebly=e.Weebly||{},e.Weebly.PageManagerClass=t.Page.AbstractManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Page&&"undefined"!=typeof BeeketingSDK.Page.AbstractManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.Image={preload:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];this.loadImage(this.getSizedImageUrl(r,t))}},loadImage:function(e){(new Image).src=e},switchImage:function(e,t,n){if(e&&t){var r=this.imageSize(t.src),i=this.getSizedImageUrl(e.src,r);n?n(i,e,t):t.src=i}},imageSize:function(e){var t=e.match(/_(1024x1024|2048x2048|pico|icon|thumb|small|compact|medium|large|grande)\./);return null!=t?t[1]:null},getSizedImageUrl:function(e,t){var n="https://cdn.shopify.com/s/assets/admin/no-image-grande-dba4c5e9b90e66e8a8429a34ab6f5292.gif";return null!=t&&e?e:n},removeProtocol:function(e){return e.replace(/http(s)?:/,"")}},n.addItem=function(e,n,r,i,a,o){this.itemAddedBy=o||null;var s=this,u={product_id:n,id:e,qty:i,attributes:r},c={type:"POST",url:"?bk_cart_action=add&access_token="+t.apiKey,data:u,dataType:"json",success:function(e){"function"==typeof a&&a(e),s.onItemAdded(e)},error:function(e,t){s.onError(e,t),"function"==typeof a&&a(null)}};t.getDependency("$").ajax(c)},n.addItems=function(e,t,n){var r,a=[];for(i in e.variant_ids)a.push("id[]="+e.variant_ids[i]),a.push("product_id[]="+e.product_ids[i]),a.push("attributes[]="+e.attributes[i]);r=a.join("&"),this.addItemFromForm(encodeURI(r),t,n)},n.addItemFromForm=function(e,n,r,i){this.itemAddedBy=r||null;var a="object"==typeof e?e.serialize():e,o=this,s=t.Platform.EntityManager.CartManager,u=s.getCurrentCart(),c={type:"POST",url:"?bk_cart_action=add&access_token="+t.apiKey,data:a,dataType:"json",success:function(e){"function"==typeof n&&n(e),o.onItemAdded(e);var r=s.convertDataToInstance(e);s.setCurrentCart(r);var a=t.Util.JSON.stringifyThenParse(t.Platform.AjaxManager.itemAddedBy)||"",c=null;r.getItemsManager().each(function(e){i==e.getProductId()&&(c=e,c.setAddedBy(a))}),t.Event.Dispatcher.triggerEvent(t.Event.Dispatcher.events.CART.ADD_ITEM,{addedItem:c,currentCart:u,newCart:r})},error:function(e,t){"function"==typeof n&&n(null),o.onError(e,t)}};t.getDependency("$").ajax(c)},n.changeItem=function(e,n,r,i){this.itemAddedBy=i||null;var a=this,o={type:"POST",url:"/cart/change.js",data:"quantity="+n+"&id="+e,dataType:"json",success:function(e){"function"==typeof r?r(e):a.onCartUpdate(e),a.resetItemAddedBy()},error:function(e,t){a.onError(e,t),"function"==typeof r&&r(null)}};t.getDependency("$").ajax(o)},n.removeItem=function(e,t,n,r){this.customRemoveItem("id",t,n,r)},n.removeQueueFromCart=function(e){var t=this,n="correct_cart_items";if(this.queue.length){var r=this.queue.shift();this.customRemoveItem("id",r.cartItemId,function(){t.removeQueueFromCart(e,n)},n)}else"function"==typeof e&&e()},n.customRemoveItem=function(e,n,r,i){this.itemAddedBy=i||null;var a=this,o={type:"POST",url:"?bk_cart_action=remove&cart_item_key="+n+"&access_token="+t.apiKey,data:"",dataType:"json",success:function(e){"function"==typeof r?r(e):a.onCartUpdate(e),a.resetItemAddedBy()},error:function(e,t){"function"==typeof r&&r(null),a.onError(e,t)}};t.getDependency("$").ajax(o)},n.updateCartFromForm=function(e,n){var r=this,i={type:"POST",url:"/cart/update.js",data:e.serialize(),dataType:"json",success:function(e){"function"==typeof n?n(e):r.onCartUpdate(e)},error:function(e,t){"function"==typeof n&&n(!1),r.onError(e,t)}};t.getDependency("$").ajax(i)},n.onError=function(e){t.Util.Console.log(e.responseText),this.resetItemAddedBy()},n.onItemAdded=function(e){t.Util.Console.log(e.title+" was added to your shopping cart."),this.resetItemAddedBy()},e.Woocommerce=e.Woocommerce||{},e.Woocommerce.AjaxManagerClass=t.Manager.AjaxManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.AjaxManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getVariantIdFromFormData=function(e){var n=e.serializeArray(),r=null;return t.getDependency("$").each(n,function(e,t){("id"==t.name||"id[]"==t.name)&&(r=t.value)}),r&&(r=parseInt(r)),r},n.getProductId=function(){return t.Platform.PageManager.isProductPage()?"undefined"==typeof __bkt.rid?!1:__bkt.rid:!1},n.getCollectionId=function(){return t.Platform.PageManager.isCollectionPage()?"undefined"==typeof __bkt.rid?!1:__bkt.rid:!1},n.getCurrentCustomerId=function(){var e=null;return"undefined"!=typeof BKCustomer&&BKCustomer.id&&(e=BKCustomer.id),e},n.getCheckoutButton=function(){return'button[name="checkout"], input[name="checkout"]'},n.getAddCartForm=function(){return'form[action="/cart/add"]'},e.Woocommerce=e.Woocommerce||{},e.Woocommerce.ElementManagerClass=t.Element.AbstractClass.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Element&&"undefined"!=typeof BeeketingSDK.Element.AbstractClass}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.initialize=function(){window.__bkt=bkWindow.__bkt||{p:"",rid:null,pageurl:window.location.href}},e.Woocommerce=e.Woocommerce||{},e.Woocommerce.MainClass=t.Platform.AbstractMain.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.isCheckoutPage=function(){return"checkout"==__bkt.p},n.isCartPage=function(){return"cart"==__bkt.p},n.isHomePage=function(){return"home"==__bkt.p},n.isProductPage=function(){return"product"==__bkt.p},n.isCollectionPage=function(){return"collection"==__bkt.p},n.isAjaxCart=function(){return!1},n.forceGoToCheckoutPage=function(){return t.Util.Browser.redirect(bkCartData.checkout_url)},n.forceGoToCartPage=function(){return t.Util.Browser.redirect(bkCartData.cart_url)},n.forceGoToHomePage=function(){return t.Util.Browser.redirect(bkCartData.shop_url)},n.forceGoToProductPage=function(){return t.Util.Console.alert("Function forceGoToProductPage is needed implement"),!1},e.Woocommerce=e.Woocommerce||{},e.Woocommerce.PageManagerClass=t.Page.AbstractManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Page&&"undefined"!=typeof BeeketingSDK.Page.AbstractManager}),BeeketingSDK.module("Hook",function(e,t){var n=function(e,t){return n.hasHook(e)?n[e](t):null};return n.hasHook=function(e){return"function"==typeof n[e]},n.register=function(e,r){return"undefined"!=typeof n[e]?(t.Util.Console.alert("Hook: Function "+e+" has already registered."),!1):(n[e]=r,void 0)},e=n}),BeeketingSDK.module("Tracker",function(e,t){var n=t.getDependency("$"),r=t.Util.Cookie,i=null,a={currentSources:"current_sources",allSources:"current_sources"},o={};return o.setSource=function(e){o.setSourceByKey(a.currentSources,e),o.setSourceByKey(a.allSources,e)},o.setSourceByKey=function(e,a){a&&((i=r.getCookie(e))&&(i=t.Util.JSON.parse(i)),"undefined"!=typeof i&&i||(i=[]),i.push(a),i=n.unique(i),r.setCookie(e,t.Util.JSON.stringify(i),r.cacheForever()))},o.getSources=function(e){var t=e?a.allSources:a.currentSources;return o.getSourcesByKey(t)},o.getSourcesByKey=function(e){var n=[];return(i=r.getCookie(e))&&(n=t.Util.JSON.parse(i)),n},o.clearSources=function(e){o.clearSourcesByKey(a.currentSources),e&&o.clearSources(a.allSources)},o.clearSourcesByKey=function(e){i=null,r.setCookie(e,i,r.cacheForever())},e.Cart=Backbone.Model.extend(o),e},null,function(){return"undefined"!=typeof BeeketingSDK.Tracker&&"undefined"!=typeof BeeketingSDK.Util.JSON}),BeeketingSDK.module("Tracker",function(e,t){var n=t.getDependency("$"),r=t.Util.Cookie,i=new(Backbone.Model.extend({})),a={distinctId:"distinct_id",userParams:"user_params",userType:"user_type",userVisit:"user_visit"},o={anon:0,contact:1,user:2},s="json",u=null,c=null,l=null,d="/bk/api/",f=function(e,t){return"undefined"==typeof t&&(t=s),i.get("host")+d+e+"."+t},g=function(e){return i.get("key")?(e.api_key=i.get("key"),e):(t.Util.Console.alert("Please setup key for tracker."),!1)},p=function(){var e=9999,t=1e3,n=Math.floor(Math.random()*(e-t+1))+t,r=Math.round(+new Date/1e3);return i.get("shopId")+"_"+r+"_"+n};return i.init=function(e,t,n){this.set("shopId",n),this.set("host",e),this.set("key",t),i.getUserDistinctId()},i.getTypeLevel=function(e){return"undefined"!=typeof o[e]?o[e]:0},i.getUserDistinctId=function(){if(u)return u;if(u=r.getCookie(a.distinctId),!u){var e=p();i.setUserDistinctId(e),i.setType("anon")}return u},i.setUserDistinctId=function(e){u=e,r.setCookie(a.distinctId,e,r.cacheForever())},i.getUserParams=function(){return null!=c?c:(c=r.getCookie(a.userParams),c&&(c=t.Util.JSON.parse(c)),c)},i.setUserParams=function(e){c=e,r.setCookie(a.userParams,t.Util.JSON.stringify(e),r.cacheForever())},i.getType=function(){return null!==l?l:l=r.getCookie(a.userType)},i.setType=function(e){l=e,r.setCookie(a.userType,e,r.cacheForever())},i.setNewUser=function(e,r){var a=!0,o=function(e,r){if(t.Util.Console.log("Need to merge data"),e&&r){var i={from_ref_id:e,to_ref_id:r};n.ajax({dataType:"json",method:"GET",url:f("merge_contacts","json"),data:g(i),success:function(e,t,n){"function"==typeof callback&&callback(e,t,n)}})}};i.getUserDistinctId()!=r&&(i.getTypeLevel(i.getType())<i.getTypeLevel(e)?o(i.getUserDistinctId(),r):i.getTypeLevel(i.getType())>i.getTypeLevel(e)&&(o(r,i.getUserDistinctId()),a=!1)),a&&(i.setType(e),i.setUserDistinctId(r),t.Util.Console.log("Updated tracker with new user info"))},i.identify=function(e,r,a,o){if("undefined"==typeof a&&(a={}),a.tracker_type=i.getType()!=e&&i.getUserDistinctId()!=r?e:i.getType(),i.setNewUser(e,r),"undefined"!=typeof a){i.setUserParams(a);var s=i.getUserParams();s.distinct_id=i.getUserDistinctId();var u={content:t.Util.JSON.stringify(s)};t.Util.Console.log("Sending identify with content "+u.content),n.ajax({method:"POST",type:"POST",url:f("contacts"),data:g(u),success:function(e,t,n){"function"==typeof o&&o(e,t,n)}})}},i.track=function(e,r,a){if("undefined"==typeof e)return"function"==typeof a&&a(null),!1;"undefined"==typeof r&&(r=[]);var o={distinct_id:i.getUserDistinctId(),event:e,params:r};t.Util.Console.log("Sending track action with event "+e),n.ajax({method:"GET",url:f("actions"),dataType:"json",data:g(o),success:function(e,t,n){"undefined"!=typeof e.new_distinct_id&&e.new_distinct_id&&i.setUserDistinctId(e.new_distinct_id),"undefined"!=typeof e.new_type&&e.new_type&&i.setType(e.new_type),"function"==typeof a&&a(e,t,n)}})},i.identifyEmail=function(e,r,i,a){var o={distinct_id:r,email:e,user_type:i,subscribe:!0};t.Util.Console.log("Identifying email: "+e),n.ajax({method:"GET",url:f("identify_email"),dataType:"json",data:g(o),success:function(e){a?a(e):window.parent.postMessage(t.Util.JSON.stringify(e),document.referrer)}})},i.countVisitors=function(){var e=r.getCookie(a.userVisit);e||n.ajax({method:"GET",url:f("count_visitor"),dataType:"json",data:g({timeStamp:Date.now().toString()}),success:function(){r.setCookie(a.userVisit,!0,r.cacheTimeByDay(1))}})},e=i},null,function(){return"undefined"!=typeof BeeketingSDK.Util&&"undefined"!=BeeketingSDK.Util.Cookie}),BeeketingSDK.module("View",function(e,t){var n={};return n.default={HANDLEBARS:"HandlebarsClass",PURE:"PureClass"},n._engineName="Handlerbars",n.init=function(){},n.setEngine=function(e){t.Util.Console.log("Set view engine is "+e),"function"==typeof t.View.SupportEngine[e]?this._engine=new t.View.SupportEngine[e]:"object"==typeof e?this._engine=e:t.Util.Console.alert("Exception: Engine error.")},n.getEngine=function(){return"object"!=typeof SDKEngine._engine&&t.Util.Console.alert("Exception: Engine error."),SDKEngine._engine},e.Engine=n,e}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.variantItemMap=[],n.setVariantItemRelation=function(e,t){n.variantItemMap[e]=t},n.getVariantIdByItemId=function(e){var t;for(t in n.variantItemMap)if(n.variantItemMap[t]==e)return t},n.getItemIdByVariantId=function(e){return n.variantItemMap[e]},n.convertDataToInstance=function(e){var n,r,i=e.data("product-price"),a=e.data("price"),o=parseInt(i.match(/\d+/)[0]),s=parseInt(a.match(/\d+/)[0]),u=Math.ceil(s/o),c=e.data("item-attributes"),l=function(e){var t=document.createElement("a");return t.href=e,t},d=new DOMParser,f=d.parseFromString(c,"text/html"),g=t.getDependency("$")(f),p=g.find("tr");$.each(p,function(e,t){var i=t.find("td"),a=i[0].text(),o=i[1].text();if(0===a.indexOf("BKD_")&&"Yes"==o)switch(r=a.substr(4,2),n=a.substr(6),r){case"US":r="up_sell";break;case"CS":r="cross_sell";break;case"FR":r="cboost"}});var h=l(e.data("product-url")).path,m=e.data("product-image").match(/src="(.*)"/)[1],y=new t.Entity.CartItem(e.data("id"));return y.setEntity("cartItem"),y.setVariantId(parseInt(e.data("id"))),y.setVariantTitle(e.data("product-name")),y.setProductId(parseInt(e.data("product-id"))),y.setProductTitle(e.data("product-name")),y.setProductRefId(parseInt(e.data("product-id"))),y.setPrice(a),y.setLinePrice(i),y.setQuantity(u),y.setSku(e.data("product-sku")),y.setTitle(e.data("product-name")),y.setHandle(h),y.setImage(m),y.setItemUrl(e.data("product-url")),y.setSourceData(e),y.set("offerType",r),y.set("offerId",parseInt(n)),y},n.isFreeVariant=function(e){return"string"==typeof e?!1:0===parseInt(e.getPrice().match(/\d+/)[0])},e.Bigcommerce.EntityManager=e.Bigcommerce.EntityManager||{},e.Bigcommerce.EntityManager.CartItemManagerClass=t.Manager.CartItemManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=BeeketingSDK.Manager.CartItemManager}),BeeketingSDK.module("Platform",function(e,t){var n={};n.getNewCartByAjax=function(e){var t=this;this.__xhrCall(function(n){var r=t.convertDataToInstance(n);"undefined"!=typeof e&&e(r)})},n.convertDataToInstance=function(e){var n=new t.Platform.EntityManager.CartItemManagerClass,r=new t.Entity.Cart,i=new DOMParser,a=i.parseFromString(e,"text/html"),o=t.getDependency("$")(a),s=o.find("#bk-data"),u=s.data("price-total"),c=s.data("item-total")||0;c&&(c=parseInt(c.match(/\d+/)[0])),r.setEntity("cart"),r.setToken(t.Tracker.getUserDistinctId()),r.setTotalPrice(u),r.setItemCount(c),r.setFake(!0),r.setSourceData({});var l=o.find(".bk-cart-item");return $.each(l,function(e,t){var r=n.convertDataToInstance($(t));n.add(r)}),r.setItemsManager(n),r},n.__xhrCall=function(e){var n=new Date;t.getDependency("$").ajax({type:"GET",url:"/cart.php?v="+n.getTime(),customData:"not_trigger_cart",cache:!1,success:function(t){e(t)},error:function(t,n){"function"==typeof e&&e(null),self.onError(t,n)
}})};var r=!1;return n.compareCurrentCartAndNewCart=function(e,n,i){t.Util.Console.log("Cart.js | start compare cart to track & trigger event."),t.Platform.EntityManager.CartManager.setCurrentCart(n,!1),n.getItemsManager().each(function(r){if(i&&i.product_id==r.getProductRefId()){i.itemAddedBy&&r.setAddedBy(i.itemAddedBy);var a=e.getItemsManager().findCartItemById(r.getId()),o=a?a.getQuantity():0,s=r.getQuantity(),u=Math.abs(o-s),c=null;s>o?(c=t.Event.Dispatcher.events.CART.ADD_ITEM,t.Platform.EntityManager.CartItemManager.setVariantItemRelation(i.variant_id,r.getId())):o>s&&(c=t.Event.Dispatcher.events.CART.REMOVE_ITEM),c&&(t.Event.Dispatcher.triggerEvent(c,{addedItem:r,deltaQuantity:u,currentCart:e,newCart:n}),SCN.customCartEvent={type:c,data:{addedItem:r,deltaQuantity:u,currentCart:e,newCart:n}},t.Event.Dispatcher.triggerEvent(t.Event.Dispatcher.events.CART.UPDATE,{addedItem:r,currentCart:e,newCart:n}))}}),0==r&&(t.Platform.EntityManager.ProductManager.getNewProductByAjax(function(){SCN.cartReady=!0,t.Event.Dispatcher.triggerEvent(t.Event.Dispatcher.events.CART.READY)}),r=!0)},e.Bigcommerce.EntityManager=e.Bigcommerce.EntityManager||{},e.Bigcommerce.EntityManager.CartManagerClass=t.Manager.CartManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.CartManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getProductDataUrl=function(e){return t.apiBaseUrl+"/products/"+e.data("id")},n.convertDataToInstance=function(e){var n=new t.Platform.EntityManager.VariantManagerClass,r=new t.Entity.Product(e.id);r.setEntity("product"),r.setHandle(e.handle),r.setTitle(e.title),r.setRefId(e.ref_id),r.setShopId(e.shop_id),r.setImageSourceUrl(e.image_source_url),r.setSourceData(e);var i;for(i in e.variants)if(e.variants.hasOwnProperty(i)){var a=e.variants[i];"undefined"==typeof a.id&&(a.id=a.ref_id);var o=n.convertDataToInstance(r,a);n.add(o)}return r.set("variantsManager",n),r},n.convertProductData=function(e){return e=e.product,e.featured_image=e.image_source_url,e.images=[e.image_source_url],e.url="/"+e.handle,e},e.Bigcommerce.EntityManager=e.Bigcommerce.EntityManager||{},e.Bigcommerce.EntityManager.ProductManagerClass=t.Manager.ProductManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.ProductManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.convertDataToInstance=function(e,n){var r=new t.Entity.Variant(n.id);return r.setEntity("variant"),r.setRefId(n.ref_id),r.setImageRefId(n.image_ref_id),r.setProductId(e.getId()),r.setProductRefId(e.getRefId()),r.setTitle(n.title),r.setPrice(n.price),r.setSku(n.sku),r.setQuantity(1),r.setLinePrice(n.price),r.setSourceData(n),r},e.Bigcommerce.EntityManager=e.Bigcommerce.EntityManager||{},e.Bigcommerce.EntityManager.VariantManagerClass=t.Manager.VariantManager.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.handleAjaxCartResponse=function(e){if(e=t.Util.JSON.parse(decodeURIComponent(e)),e.success){var n=e.imodal,r=new DOMParser,i=r.parseFromString(n,"text/html"),a=$(i).find(".fastCartSummaryBox");return{price:a.find(".ProductPrice").text(),item_count:a.find("#fastCartNumItemsTxt").text()}}},n.handleAjaxCart=function(e,n){var r=t.getDependency("Arg").parse(e.data),i=t.Platform.EntityManager.CartManager.getCurrentCart();switch(r.itemAddedBy=e.itemAddedBy,r.action){case"add":var a,o=0;for(a in r.qty)o+=r.qty[a];r.qty_total=o,t.Platform.EntityManager.CartManager.compareCurrentCartAndNewCart(i,n,r)}},n.handleAjaxComplete=function(e,r,i){if("undefined"!=typeof r&&"undefined"!=typeof i){if(-1==i.url.indexOf("cart.php")||"not_trigger_cart"==i.customData)return;if("undefined"!=typeof i.xhr_call){var a=t.Platform.EntityManager.CartManager.convertDataToInstance(r.responseText);n.handleAjaxCart(i,a)}else{var o=function(e){n.handleAjaxCart(i,e)};t.Platform.EntityManager.CartManager.getNewCartByAjax(o)}}},n.getNewCartAndTrack=function(){t.Util.Console.log("Cart.js | get new cart and track.");var e=t.Platform.EntityManager.CartManager;e.getNewCartByAjax(function(t){var n=e.getOldCart();n||(n=t),e.setCurrentCart(t,!1),e.__lockAndCorrectProductQuantity(),e.compareCurrentCartAndNewCart(n,t,null)},null),n.trackSource()},n.trackSource=function(){var e=t.getDependency("$")("#bk-data").data("order-id");if(e){var n={};n.event_type="ADD_CART_TOKEN",n.cart_token="bigC"+t.Tracker.get("shopId")+"_"+e,n.sources=t.Tracker.Cart.getSources(!0),setTimeout(function(){t.Tracker.track(SCN.Config.events.product.UPDATE_CART_SOURCE,n,function(){t.Tracker.Cart.clearSources(!0)})},30)}},e.Bigcommerce.Listener=e.Bigcommerce.Listener||{},e.Bigcommerce.Listener.CartListenerClass=t.Event.Listener.CartListener.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Event&&"undefined"!=typeof BeeketingSDK.Event.Listener&&"undefined"!=typeof BeeketingSDK.Event.Listener.CartListener}),BeeketingSDK.module("Platform",function(e,t){var n={};return e.Bigcommerce.Listener=e.Bigcommerce.Listener||{},e.Bigcommerce.Listener.TrackerListenerClass=t.Event.Listener.TrackerListener.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Event&&"undefined"!=typeof BeeketingSDK.Event.Listener&&"undefined"!=typeof BeeketingSDK.Event.Listener.TrackerListener}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.convertDataToInstance=function(){},n.isFreeVariant=function(){},e.Custom.EntityManager=e.Custom.EntityManager||{},e.Custom.EntityManager.CartItemManagerClass=t.Manager.CartItemManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=BeeketingSDK.Manager.CartItemManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getNewCartByAjax=function(){},n.convertDataToInstance=function(){},e.Custom.EntityManager=e.Custom.EntityManager||{},e.Custom.EntityManager.CartManagerClass=t.Manager.CartManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.CartManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.convertDataToInstance=function(){},e.Custom.EntityManager=e.Custom.EntityManager||{},e.Custom.EntityManager.ProductManagerClass=t.Manager.ProductManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.ProductManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return e.Custom.EntityManager=e.Custom.EntityManager||{},e.Custom.EntityManager.VariantManagerClass=t.Manager.VariantManager.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.handleAjaxComplete=function(){},e.Custom.Listener=e.Custom.Listener||{},e.Custom.Listener.CartListenerClass=t.Event.Listener.CartListener.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Event&&"undefined"!=typeof BeeketingSDK.Event.Listener&&"undefined"!=typeof BeeketingSDK.Event.Listener.CartListener}),BeeketingSDK.module("Platform",function(e,t){var n={};return e.Custom.Listener=e.Custom.Listener||{},e.Custom.Listener.TrackerListenerClass=t.Event.Listener.TrackerListener.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Event&&"undefined"!=typeof BeeketingSDK.Event.Listener&&"undefined"!=typeof BeeketingSDK.Event.Listener.TrackerListener}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.convertDataToInstance=function(){},n.isFreeVariant=function(){},e.Haravan.EntityManager=e.Haravan.EntityManager||{},e.Haravan.EntityManager.CartItemManagerClass=t.Manager.CartItemManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=BeeketingSDK.Manager.CartItemManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getNewCartByAjax=function(){},n.convertDataToInstance=function(){},e.Haravan.EntityManager=e.Haravan.EntityManager||{},e.Haravan.EntityManager.CartManagerClass=t.Manager.CartManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.CartManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.convertDataToInstance=function(){},e.Haravan.EntityManager=e.Haravan.EntityManager||{},e.Haravan.EntityManager.ProductManagerClass=t.Manager.ProductManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.ProductManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return e.Haravan.EntityManager=e.Haravan.EntityManager||{},e.Haravan.EntityManager.VariantManagerClass=t.Manager.VariantManager.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.handleAjaxComplete=function(){},e.Haravan.Listener=e.Haravan.Listener||{},e.Haravan.Listener.CartListenerClass=t.Event.Listener.CartListener.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Event&&"undefined"!=typeof BeeketingSDK.Event.Listener&&"undefined"!=typeof BeeketingSDK.Event.Listener.CartListener}),BeeketingSDK.module("Platform",function(e,t){var n={};return e.Haravan.Listener=e.Haravan.Listener||{},e.Haravan.Listener.TrackerListenerClass=t.Event.Listener.TrackerListener.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Event&&"undefined"!=typeof BeeketingSDK.Event.Listener&&"undefined"!=typeof BeeketingSDK.Event.Listener.TrackerListener}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.convertDataToInstance=function(e){var n=new t.Entity.CartItem(e.id);return n.setEntity("cartItem"),n.setId(e.id),n.setProductId(e.product_id),n.setProductRefId(e.product_id),n.setVariantId(e.variant_id),n.setSku(e.sku),n.setTitle(e.title),n.setPrice(e.price),"undefined"!=typeof e.line_price&&n.setLinePrice(e.line_price),n.setQuantity(e.quantity),n.setItemUrl(e.item_url),n.setImage(e.image),n.setProductTitle(e.title),n.setSourceData(e),"undefined"!=typeof e.custom_options&&n.setCustomOptions(e.custom_options),n},n.isFreeVariant=function(e){if("function"==typeof e.getCustomOptions)for(var t=e.getCustomOptions(),n=0;n<t.length;n++)if(-1!=t[n].value.indexOf("Free Gift"))return!0;return!1},e.Magento.EntityManager=e.Magento.EntityManager||{},e.Magento.EntityManager.CartItemManagerClass=t.Manager.CartItemManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=BeeketingSDK.Manager.CartItemManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getNewCartByAjax=function(e){var t=this;this.__xhrCall(function(n){var r=t.convertDataToInstance(n);"undefined"!=typeof e&&e(r)})},n.convertDataToInstance=function(e){var n=new t.Platform.EntityManager.CartItemManagerClass,r=new t.Entity.Cart;r.setEntity("cart"),r.setToken(e.token),r.setTotalPrice(e.sub_total),r.setItemCount(e.item_count),r.setSourceData(e);var i;for(i in e.items)if(e.items.hasOwnProperty(i)){var a=e.items[i],o=n.convertDataToInstance(a);n.add(o)}return r.setItemsManager(n),r},n.__lockAndCorrectProductQuantity=function(){if(t.Platform.PageManager.isCartPage()){var e=t.Hook("getHiddenItemsInCart");if(e)for(var n in e){var r,i=e[n].toString();r=t.getDependency("$")('input[name="cart['+i+'][qty]"]'),r&&r.length&&(r.val(1),r.prop("readonly",!0),r.on("change",function(){t.getDependency("$")(this).val(1)}))}}},n.__xhrCall=function(e){t.getDependency("$").getJSON(SCN.Config.shopAbsoluteDomain+"beeketing/api_cart/getcart",function(t){"undefined"!=typeof t.success&&t.success&&e(t.data)})},n.getOldCart=function(){var e=this,n="platform_"+t.getPlatform()+"_old_cart",r=t.Util.Cookie.getCookie(n);if(!r)return null;var i=t.Util.JSON.parse(r);return e.convertDataToInstance(i)},n.setOldCart=function(e){t.Util.Cookie.setPrefix("");var n=e.clone(),r="platform_"+t.getPlatform()+"_old_cart",i=n.getSourceData();return t.Util.Cookie.setCookie(r,t.Util.JSON.stringify(i))},e.Magento.EntityManager=e.Magento.EntityManager||{},e.Magento.EntityManager.CartManagerClass=t.Manager.CartManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.CartManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getProductDataUrl=function(e){var t=e.data("ref-id");return t?"/beeketing/api_product/product?id="+t:""},n.convertDataToInstance=function(e){var n=new t.Platform.EntityManager.VariantManagerClass,r=new t.Entity.Product(e.id);r.setEntity("product"),r.setHandle(e.handle),r.setTitle(e.title),r.setRefId(e.ref_id),r.setShopId(e.shop_id),r.setImageSourceUrl(e.image_source_url),r.setSourceData(e);var i;for(i in e.variants)if(e.variants.hasOwnProperty(i)){var a=e.variants[i];"undefined"==typeof a.id&&(a.id=a.ref_id);var o=n.convertDataToInstance(r,a);n.add(o)}return r.set("variantsManager",n),r},e.Magento.EntityManager=e.Magento.EntityManager||{},e.Magento.EntityManager.ProductManagerClass=t.Manager.ProductManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.ProductManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.convertDataToInstance=function(e,n){var r=new t.Entity.Variant(n.id);return r.setEntity("variant"),r.setProductId(e.getId()),r.setRefId(n.ref_id),r.setImageRefId(n.image_ref_id),r.setTitle(n.title),r.setPrice(n.price),r.setSku(n.sku),r.setQuantity(n.quantity),r.setLinePrice(n.linePrice),r.setSourceData(n),r},e.Magento.EntityManager=e.Magento.EntityManager||{},e.Magento.EntityManager.VariantManagerClass=t.Manager.VariantManager.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={},r=function(e){return e.replace(/\.json/g,"").replace(/\.js/g,"")};return n.getNewCartAndTrack=function(){var e=t.Platform.EntityManager.CartManager,n=t.Platform.EntityManager.CartItemManager;e.getNewCartByAjax(function(t){var r=e.getOldCart(),i=null;r||(r=t),"undefined"!=typeof bkLastAddedItem?i=n.convertDataToInstance(bkLastAddedItem):"undefined"!=typeof bkLastDeletedItem&&(i=n.convertDataToInstance(bkLastDeletedItem)),e.setCurrentCart(t,!1),e.setOldCart(t),e.__lockAndCorrectProductQuantity(),e.compareCurrentCartAndNewCart(r,t,i)},null)},n.handleAjaxComplete=function(e,n,i){if(200==n.status&&"undefined"!=typeof i){var a=r(i.url),o=t.Util.JSON.stringifyThenParse(t.Platform.AjaxManager.itemAddedBy)||"";if(-1==a.indexOf("add_to_cart"))return;switch(a=a.substr(a.indexOf("add_to_cart"))){case"add_to_cart":case"/cart/change":var s=null,u=t.Platform.EntityManager.CartManager.getCurrentCart(),c=null,l=null;if(n.responseJSON)s=n.responseJSON;else try{s=t.Util.JSON.parse(n.responseText)}catch(d){t.Util.Console.log("Could not decode response text:"),t.Util.Console.log(n.responseText)}var f=s.fragments.beeketing_cart_data;if("add_to_cart"==a){t.Util.Console.log("cart added");var g=null;if(!f||!i.data)return!1;var p=t.getDependency("Arg").parse(i.data),h=p.product_id;if(c=t.Platform.EntityManager.CartManager.convertDataToInstance(f),t.Platform.EntityManager.CartManager.setCurrentCart(c),c.getItemsManager().each(function(e){h==e.getProductId()&&(g=e)}),!g)return t.Util.Console.log("Cart doesn't find changedItem."),!1;t.Util.Console.log("cart changed"),l=g}t.Util.Cookie.deleteCookie("beeketing-last-added-items"),l.setAddedBy(o),t.Platform.EntityManager.CartManager.correctInvalidItemQuantityInCart(function(e){e&&"correct_cart_items"!=l.getAddedBy()&&t.Platform.EntityManager.CartManager.compareCurrentCartAndNewCart(u,c,l)},c)}}},e.Magento.Listener=e.Magento.Listener||{},e.Magento.Listener.CartListenerClass=t.Event.Listener.CartListener.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Event&&"undefined"!=typeof BeeketingSDK.Event.Listener&&"undefined"!=typeof BeeketingSDK.Event.Listener.CartListener}),BeeketingSDK.module("Platform",function(e,t){var n={};return e.Magento.Listener=e.Magento.Listener||{},e.Magento.Listener.TrackerListenerClass=t.Event.Listener.TrackerListener.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Event&&"undefined"!=typeof BeeketingSDK.Event.Listener&&"undefined"!=typeof BeeketingSDK.Event.Listener.TrackerListener}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.convertDataToInstance=function(e){var n=new t.Entity.CartItem(e.id);n.setEntity("cartItem"),n.setId(e.vid),n.setVariantId(e.vid),n.setVariantTitle(e.variant),n.setProductId(e.id),n.setProductTitle(e.title),n.setProductRefId(e.id);var r=parseFloat(e.base.price_incl);return n.setPrice(r.toFixed(2)),n.setLinePrice(e.price.price_incl),n.setQuantity(e.quantity),n.setSku(e.sku),n.setTitle(e.variant),n.setHandle(e.url),n.setImage("//static.webshopapp.com/shops/"+e.shopId+"/files/0"+e.image+"/120x120x2/file.jpg"),n.setItemUrl(e.url),n.setSourceData(e),n},n.isFreeVariant=function(e){var t;return t="string"==typeof e?e:e.attributes.variantTitle,t&&-1!=t.indexOf("Free Gift")},e.Seoshop.EntityManager=e.Seoshop.EntityManager||{},e.Seoshop.EntityManager.CartItemManagerClass=t.Manager.CartItemManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=BeeketingSDK.Manager.CartItemManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getNewCartByAjax=function(e){var t=this;this.__xhrCall(function(n){var r=t.convertDataToInstance(n);"undefined"!=typeof e&&e(r)})},n.convertDataToInstance=function(e){var n=new t.Platform.EntityManager.CartItemManagerClass,r=new t.Entity.Cart;if(r.setEntity("cart"),e.cart){r.setTotalPrice(e.cart.totals.grand_total),r.setItemCount(e.cart.products.length),r.setToken(e.cart.quote_id);for(var i in e.cart.products)if(e.cart.products.hasOwnProperty(i)){var a=e.cart.products[i];a.shopId=e.shop.id;var o=n.convertDataToInstance(a);n.add(o)}}return r.setSourceData(e),r.setItemsManager(n),r},n.addItem=function(e,n,r){e=e.clone();var i=e.getItemsManager().clone(),a=i.findCartItemById(n.getId());if(a){var o=a.clone();i.remove(a);var s;s="equal"==r?n.getQuantity():o.getQuantity()+n.getQuantity(),o.setQuantity(s);var u;u="equal"==r?n.getLinePrice():o.getLinePrice()+n.getLinePrice(),o.setLinePrice(u),i.add(o)}else"variant"==n.getEntity()&&(n=t.Platform.EntityManager.CartItemManager.convertVariantToInstance(n)),i.add(n);e.setItemsManager(i);var c=0,l=0;return i.each(function(e){c+=e.getQuantity(),l+=e.getQuantity()*e.getPrice()}),e.setItemCount(c),e.setTotalPrice(l/100),e},n.__lockAndCorrectProductQuantity=function(){if(t.Platform.PageManager.isCartPage()){var e=t.Hook("getHiddenItemsInCart");e&&$("#gui-form-cart .cart_variant").each(function(){if(-1!==$(this).text().indexOf("Free Gift")){var e=$(this).closest("tr"),t=e.find("input");t.length&&(t.val(1),t.prop("readonly",!0),t.on("change",function(){$(this).val(1)})),e.find(".gui-handle").remove()}})}},n.__xhrCall=function(e){t.getDependency("$").getJSON("/cart/?format=json",function(t){e(t)})},e.Seoshop.EntityManager=e.Seoshop.EntityManager||{},e.Seoshop.EntityManager.CartManagerClass=t.Manager.CartManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.CartManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.convertDataToInstance=function(e){var n=new t.Platform.EntityManager.VariantManagerClass,r=new t.Entity.Product(e.id);r.setEntity("product"),r.setHandle(e.handle),r.setTitle(e.title),r.setRefId(e.ref_id),r.setShopId(e.shop_id),r.setImageSourceUrl(e.image_url),r.setSourceData(e);var i;for(i in e.variants)if(e.variants.hasOwnProperty(i)){var a=e.variants[i];"undefined"==typeof a.id&&(a.id=a.ref_id);var o=n.convertDataToInstance(r,a);n.add(o)}return r.set("variantsManager",n),r},n.getNewProductByAjax=function(e){var r=t.Platform.ElementManager.getProductId();if(r){var i=window.location.href;i=-1!=i.indexOf("?")?window.location.href+"&format=json":window.location.href+"?format=json",t.getDependency("$").getJSON(i,null,function(r){var i=r.product.id;i?n.getProductByRefId(i,function(n){n?(t.Platform.EntityManager.ProductManager.setCurrentProduct(n),e(n)):e(!1)}):e(!1)})}else e(!1)},n.getProductByRefId=function(e,n){var r=new t.Entity.Product(e);r.fetch().complete(function(e){var r=t.Util.JSON.parse(e.responseText);if(0==r.products.length)return!1;var i=t.Platform.EntityManager.ProductManager.convertDataToInstance(r.products[0]);return n(i)})},n.getProductDataUrl=function(e){var t=e.data("handle");return t?t+".html?format=json":""},n.convertProductData=function(e){return this.convertProduct(e)},n.convertProduct=function(e){var t={};return t.id=e.product.id,t.title=e.product.title,t.description=e.product.description,t.handle=e.product.url,t.published_at="",t.created_at="",t.vendor=e.product.brand,t.price=100*e.product.price.price,t.price_min=100*e.product.price.price,t.price_max=100*e.product.price.price,t.compare_at_price=100*e.product.price.price_old,t.url=e.product.url,t.images=[],t.options=[{name:"Title",position:1}],t.featured_image="//static.webshopapp.com/shops/"+e.shop.id+"/files/0"+e.product.image+"/240x240x2/file.jpg",t.variants=e.product.variants?this.convertVariant(e.product.variants,!0):this.convertVariant(e.product,!1),t},n.convertVariant=function(e,t){var n={};if(t)for(var r in e)n[r]={},n[r].id=e[r].id,n[r].title=e[r].title,n[r].price=100*e[r].price.price,n[r].compare_at_price=100*e[r].price.price_old,n[r].option1=e[r].title,n[r].option2="",n[r].option3="",n[r].options=[e[r].title];else n[0]={},n[0].id=e.vid,n[0].title=e.title,n[0].price=100*e.price.price,n[0].compare_at_price=100*e.price.price_old,n[0].option1=e.title,n[0].option2="",n[0].option3="",n[0].options=[e.title];return n},e.Seoshop.EntityManager=e.Seoshop.EntityManager||{},e.Seoshop.EntityManager.ProductManagerClass=t.Manager.ProductManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.ProductManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.convertDataToInstance=function(e,n){var r=new t.Entity.Variant(n.id);return r.setEntity("variant"),r.setRefId(n.ref_id),r.setImageRefId(n.image_ref_id),r.setProductId(e.getId()),r.setProductRefId(e.getRefId()),r.setTitle(n.title),r.setPrice(n.price),r.setSku(n.sku),r.setQuantity(1),r.setLinePrice(n.price),r.setSourceData(n),r},e.Seoshop.EntityManager=e.Seoshop.EntityManager||{},e.Seoshop.EntityManager.VariantManagerClass=t.Manager.VariantManager.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={},r=function(e){return e=e.replace(/\.json/g,"").replace(/\.js/g,""),-1!=e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),e};return n.handleAjaxComplete=function(e,n,i){if(200==n.status&&"undefined"!=typeof i){var a=r(i.url),o=t.Util.JSON.stringifyThenParse(t.Platform.AjaxManager.itemAddedBy)||"";if(-1!=a.indexOf("/cart/add"))a=a.substr(a.indexOf("/cart/add"));else{if(-1==a.indexOf("/cart/change"))return;a=a.substr(a.indexOf("/cart/change"))}switch(a){case"/cart/add":case"/cart/change":var s=null,u=t.Platform.EntityManager.CartManager.getCurrentCart(),c=null,l=null;if(n.responseJSON)s=n.responseJSON;else try{s=t.Util.JSON.parse(n.responseText)}catch(d){t.Util.Console.log("Could not decode response text:"),t.Util.Console.log(n.responseText)}if("/cart/add"==a)t.Util.Console.log("cart add.js"),l=t.Platform.EntityManager.CartItemManager.convertDataToInstance(s),l&&(c=t.Platform.EntityManager.CartManager.addItem(u,l,"equal"));else{var f=null;if(!s||!i.data)return!1;var g=t.getDependency("Arg").parse(i.data),p=g.id;if(c=t.Platform.EntityManager.CartManager.convertDataToInstance(s),t.Platform.EntityManager.CartManager.setCurrentCart(c),c.getItemsManager().each(function(e){p==e.getId()&&(f=e)}),!f)return t.Util.Console.log("Cart change.js doesn't find changedItem."),!1;t.Util.Console.log("cart change.js"),l=f}l.setAddedBy(o),t.Platform.EntityManager.CartManager.correctInvalidItemQuantityInCart(function(e){e&&"correct_cart_items"!=l.getAddedBy()&&(c.getToken()?t.Platform.EntityManager.CartManager.compareCurrentCartAndNewCart(u,c,l):t.Platform.EntityManager.CartManager.getNewCartByAjax(function(e){t.Platform.EntityManager.CartManager.compareCurrentCartAndNewCart(u,e,l)}))},c)}}},n.listenButtonAddToCart=function(){return t.Platform.PageManager.isProductPage()?(t.Event.Dispatcher.listenEvent(t.Event.Dispatcher.events.CART.UPDATE,function(){t.Util.Console.log("Cart Ready. Find submit button to listen.");var e=t.getDependency("$");if(!e)return t.Util.Console.log("No jquery dependency found"),void 0;var n,r=t.Platform.ElementManager.getAddCartForm();e(r).each(function(){n=e(this).find(".cart a.btn"),t.overrideAddCart&&e(this).find(".cart a.btn").unbind("click"),t.Event.Dispatcher.triggerEvent(t.Event.Dispatcher.events.CART.CLICK_BUTTON,{$button:n})})}),void 0):!1},e.Seoshop.Listener=e.Seoshop.Listener||{},e.Seoshop.Listener.CartListenerClass=t.Event.Listener.CartListener.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Event&&"undefined"!=typeof BeeketingSDK.Event.Listener&&"undefined"!=typeof BeeketingSDK.Event.Listener.CartListener}),BeeketingSDK.module("Platform",function(e,t){var n={};return e.Seoshop.Listener=e.Seoshop.Listener||{},e.Seoshop.Listener.TrackerListenerClass=t.Event.Listener.TrackerListener.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Event&&"undefined"!=typeof BeeketingSDK.Event.Listener&&"undefined"!=typeof BeeketingSDK.Event.Listener.TrackerListener}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.convertDataToInstance=function(e){var n=new t.Entity.CartItem(e.id);return n.setEntity("cartItem"),n.setVariantId(e.variant_id),n.setVariantTitle(e.variant_title),n.setProductId(e.product_id),n.setProductTitle(e.title),n.setProductRefId(e.product_id),n.setPrice(e.price),n.setLinePrice(e.line_price),n.setQuantity(e.quantity),n.setSku(e.sku),n.setTitle(e.title),n.setHandle(e.handle),n.setImage(e.image),n.setItemUrl(e.url),n.setSourceData(e),n},n.isFreeVariant=function(e){var t;return t="string"==typeof e?e:e.getSourceData().variant_options[0],t&&-1!=t.indexOf("Free Gift")},e.Shopify.EntityManager=e.Shopify.EntityManager||{},e.Shopify.EntityManager.CartItemManagerClass=t.Manager.CartItemManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=BeeketingSDK.Manager.CartItemManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getNewCartByAjax=function(e){var t=this;this.__xhrCall(function(n){var r=t.convertDataToInstance(n);"undefined"!=typeof e&&e(r)})},n.convertDataToInstance=function(e){var n=new t.Platform.EntityManager.CartItemManagerClass,r=new t.Entity.Cart;r.setEntity("cart"),r.setToken(e.token),r.setTotalPrice(e.total_price/100),r.setItemCount(e.item_count),r.setSourceData(e);var i;for(i in e.items)if(e.items.hasOwnProperty(i)){var a=e.items[i],o=n.convertDataToInstance(a);n.add(o)}return r.setItemsManager(n),r},n.addItem=function(e,n,r){e=e.clone();var i=e.getItemsManager().clone(),a=i.findCartItemById(n.getId());if(a){var o=a.clone();i.remove(a);var s;s="equal"==r?n.getQuantity():o.getQuantity()+n.getQuantity(),o.setQuantity(s);var u;u="equal"==r?n.getLinePrice():o.getLinePrice()+n.getLinePrice(),o.setLinePrice(u),i.add(o)}else"variant"==n.getEntity()&&(n=t.Platform.EntityManager.CartItemManager.convertVariantToInstance(n)),i.add(n);e.setItemsManager(i);var c=0,l=0;return i.each(function(e){c+=e.getQuantity(),l+=e.getQuantity()*e.getPrice()}),e.setItemCount(c),e.setTotalPrice(l/100),e},n.__lockAndCorrectProductQuantity=function(){if(t.Platform.PageManager.isCartPage()){var e=t.Hook("getHiddenItemsInCart");if(e)for(var n in e){var r,i=e[n].toString();r=$('input[id="updates_'+i+'"]'),r.length&&(r.val(1),r.prop("readonly",!0),r.on("change",function(){$(this).val(1)})),r=$("#cart-item-row-"+i).find('input[name="updates[]"]'),r.length&&(r.val(1),r.prop("readonly",!0))}}},n.__xhrCall=function(e){t.getDependency("$").getJSON("/cart.json",function(t){e(t)})},e.Shopify.EntityManager=e.Shopify.EntityManager||{},e.Shopify.EntityManager.CartManagerClass=t.Manager.CartManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.CartManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getProductDataUrl=function(e){var t=e.data("handle");return t?"/products/"+t+".js":""},n.convertDataToInstance=function(e){var n=new t.Platform.EntityManager.VariantManagerClass,r=new t.Entity.Product(e.id);r.setEntity("product"),r.setHandle(e.handle),r.setTitle(e.title),r.setRefId(e.ref_id),r.setShopId(e.shop_id),r.setImageSourceUrl(e.image_source_url),r.setSourceData(e);var i;for(i in e.variants)if(e.variants.hasOwnProperty(i)){var a=e.variants[i];"undefined"==typeof a.id&&(a.id=a.ref_id);var o=n.convertDataToInstance(r,a);n.add(o)}return r.set("variantsManager",n),r},e.Shopify.EntityManager=e.Shopify.EntityManager||{},e.Shopify.EntityManager.ProductManagerClass=t.Manager.ProductManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.ProductManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.convertDataToInstance=function(e,n){var r=new t.Entity.Variant(n.id);return r.setEntity("variant"),r.setRefId(n.ref_id),r.setImageRefId(n.image_ref_id),r.setProductId(e.getId()),r.setProductRefId(e.getRefId()),r.setTitle(n.title),r.setPrice(n.price),r.setSku(n.sku),r.setQuantity(1),r.setLinePrice(n.price),r.setSourceData(n),r},e.Shopify.EntityManager=e.Shopify.EntityManager||{},e.Shopify.EntityManager.VariantManagerClass=t.Manager.VariantManager.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={},r=function(e){return e=e.replace(/\.json/g,"").replace(/\.js/g,""),-1!=e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),e};return n.handleAjaxComplete=function(e,n,i){if(200==n.status&&"undefined"!=typeof i){var a=r(i.url),o=t.Util.JSON.stringifyThenParse(t.Platform.AjaxManager.itemAddedBy)||"";if(-1!=a.indexOf("/cart/add"))a=a.substr(a.indexOf("/cart/add"));else{if(-1==a.indexOf("/cart/change"))return;a=a.substr(a.indexOf("/cart/change"))}switch(a){case"/cart/add":case"/cart/change":var s=null,u=t.Platform.EntityManager.CartManager.getCurrentCart(),c=null,l=null;if(n.responseJSON)s=n.responseJSON;else try{s=t.Util.JSON.parse(n.responseText)}catch(d){t.Util.Console.log("Could not decode response text:"),t.Util.Console.log(n.responseText)}if("/cart/add"==a)t.Util.Console.log("cart add.js"),l=t.Platform.EntityManager.CartItemManager.convertDataToInstance(s),l&&(c=t.Platform.EntityManager.CartManager.addItem(u,l,"equal"));else{var f=null;if(!s||!i.data)return!1;var g=t.getDependency("Arg").parse(i.data),p=g.id;if(c=t.Platform.EntityManager.CartManager.convertDataToInstance(s),t.Platform.EntityManager.CartManager.setCurrentCart(c),c.getItemsManager().each(function(e){p==e.getId()&&(f=e)}),!f)return t.Util.Console.log("Cart change.js doesn't find changedItem."),!1;t.Util.Console.log("cart change.js"),l=f}l.setAddedBy(o),t.Platform.EntityManager.CartManager.correctInvalidItemQuantityInCart(function(e){e&&"correct_cart_items"!=l.getAddedBy()&&(c.getToken()?t.Platform.EntityManager.CartManager.compareCurrentCartAndNewCart(u,c,l):t.Platform.EntityManager.CartManager.getNewCartByAjax(function(e){t.Platform.EntityManager.CartManager.compareCurrentCartAndNewCart(u,e,l)}))},c)}}},e.Shopify.Listener=e.Shopify.Listener||{},e.Shopify.Listener.CartListenerClass=t.Event.Listener.CartListener.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Event&&"undefined"!=typeof BeeketingSDK.Event.Listener&&"undefined"!=typeof BeeketingSDK.Event.Listener.CartListener}),BeeketingSDK.module("Platform",function(e,t){var n={};return e.Shopify.Listener=e.Shopify.Listener||{},e.Shopify.Listener.TrackerListenerClass=t.Event.Listener.TrackerListener.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Event&&"undefined"!=typeof BeeketingSDK.Event.Listener&&"undefined"!=typeof BeeketingSDK.Event.Listener.TrackerListener}),BeeketingSDK.module("Platform",function(e,t){var n={};
return n.convertDataToInstance=function(){},n.isFreeVariant=function(){},e.Tictail.EntityManager=e.Tictail.EntityManager||{},e.Tictail.EntityManager.CartItemManagerClass=t.Manager.CartItemManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=BeeketingSDK.Manager.CartItemManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getNewCartByAjax=function(){},n.convertDataToInstance=function(){},e.Tictail.EntityManager=e.Tictail.EntityManager||{},e.Tictail.EntityManager.CartManagerClass=t.Manager.CartManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.CartManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.convertDataToInstance=function(){},e.Tictail.EntityManager=e.Tictail.EntityManager||{},e.Tictail.EntityManager.ProductManagerClass=t.Manager.ProductManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.ProductManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return e.Tictail.EntityManager=e.Tictail.EntityManager||{},e.Tictail.EntityManager.VariantManagerClass=t.Manager.VariantManager.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.handleAjaxComplete=function(){},e.Tictail.Listener=e.Tictail.Listener||{},e.Tictail.Listener.CartListenerClass=t.Event.Listener.CartListener.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Event&&"undefined"!=typeof BeeketingSDK.Event.Listener&&"undefined"!=typeof BeeketingSDK.Event.Listener.CartListener}),BeeketingSDK.module("Platform",function(e,t){var n={};return e.Tictail.Listener=e.Tictail.Listener||{},e.Tictail.Listener.TrackerListenerClass=t.Event.Listener.TrackerListener.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Event&&"undefined"!=typeof BeeketingSDK.Event.Listener&&"undefined"!=typeof BeeketingSDK.Event.Listener.TrackerListener}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.convertDataToInstance=function(){},n.isFreeVariant=function(){},e.Weebly.EntityManager=e.Weebly.EntityManager||{},e.Weebly.EntityManager.CartItemManagerClass=t.Manager.CartItemManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=BeeketingSDK.Manager.CartItemManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.getNewCartByAjax=function(){},n.convertDataToInstance=function(){},e.Weebly.EntityManager=e.Weebly.EntityManager||{},e.Weebly.EntityManager.CartManagerClass=t.Manager.CartManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.CartManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.convertDataToInstance=function(){},e.Weebly.EntityManager=e.Weebly.EntityManager||{},e.Weebly.EntityManager.ProductManagerClass=t.Manager.ProductManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.ProductManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return e.Weebly.EntityManager=e.Weebly.EntityManager||{},e.Weebly.EntityManager.VariantManagerClass=t.Manager.VariantManager.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.handleAjaxComplete=function(){},e.Weebly.Listener=e.Weebly.Listener||{},e.Weebly.Listener.CartListenerClass=t.Event.Listener.CartListener.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Event&&"undefined"!=typeof BeeketingSDK.Event.Listener&&"undefined"!=typeof BeeketingSDK.Event.Listener.CartListener}),BeeketingSDK.module("Platform",function(e,t){var n={};return e.Weebly.Listener=e.Weebly.Listener||{},e.Weebly.Listener.TrackerListenerClass=t.Event.Listener.TrackerListener.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Event&&"undefined"!=typeof BeeketingSDK.Event.Listener&&"undefined"!=typeof BeeketingSDK.Event.Listener.TrackerListener}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.convertDataToInstance=function(e){var n=new t.Entity.CartItem(e.product_token);return n.setEntity("cartItem"),"undefined"!=typeof e.variation_id&&n.setVariantId(e.variation_id),n.setProductId(e.product_id),"undefined"!=typeof e.title&&n.setProductTitle(e.title),n.setProductRefId(e.product_id),n.setPrice(e.line_subtotal),n.setLinePrice(e.line_total),n.setQuantity(e.quantity),"undefined"!=typeof e.title&&n.setTitle(e.title),n.setItemUrl(e.url),n.setImage(e.image),n.setSourceData(e),n},n.isFreeVariant=function(e){var t;return t="string"==typeof e?e:e.getTitle(),t&&-1!=t.indexOf("Free Gift")},e.Woocommerce.EntityManager=e.Woocommerce.EntityManager||{},e.Woocommerce.EntityManager.CartItemManagerClass=t.Manager.CartItemManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=BeeketingSDK.Manager.CartItemManager}),BeeketingSDK.module("Platform",function(e,t){var n={};n.getNewCartByAjax=function(e){var t=this;this.__xhrCall(function(n){var r=t.convertDataToInstance(n);"undefined"!=typeof e&&e(r)})};var r=!1;return n.compareCurrentCartAndNewCart=function(e,n,i){t.Util.Console.log("Cart.js | start compare cart to track & trigger event.");var a=n.getToken();a!=e.getToken()&&(t.Util.Console.log("Cart.js | Token changes, reset all items."),e.getItemsManager().reset(),e.setToken(a)),t.Platform.EntityManager.CartManager.setCurrentCart(n),n.getItemsManager().each(function(r){var a=e.getItemsManager().findCartItemById(r.getId()),o=a?a.getQuantity():0,s=r.getQuantity(),u=Math.abs(o-s),c=null;s>o?c=t.Event.Dispatcher.events.CART.ADD_ITEM:o>s&&(c=t.Event.Dispatcher.events.CART.REMOVE_ITEM),c&&i&&(t.Event.Dispatcher.triggerEvent(c,{addedItem:i,deltaQuantity:u,currentCart:e,newCart:n}),SCN.customCartEvent={type:c,data:{addedItem:i,deltaQuantity:u,currentCart:e,newCart:n}})}),t.Event.Dispatcher.triggerEvent(t.Event.Dispatcher.events.CART.UPDATE,{addedItem:i,currentCart:e,newCart:n}),0==r&&(t.Platform.EntityManager.ProductManager.getNewProductByAjax(function(){SCN.cartReady=!0,t.Event.Dispatcher.triggerEvent(t.Event.Dispatcher.events.CART.READY)}),r=!0)},n.convertDataToInstance=function(e){var n=new t.Platform.EntityManager.CartItemManagerClass,r=new t.Entity.Cart;r.setEntity("cart"),r.setToken(e.token),r.setTotalPrice(e.total_price),r.setItemCount(e.item_count),r.setSourceData(e);var i;for(i in e.items)if(e.items.hasOwnProperty(i)){var a=e.items[i],o=n.convertDataToInstance(a);n.add(o)}return r.setItemsManager(n),r},n.__lockAndCorrectProductQuantity=function(){if(t.Platform.PageManager.isCartPage()){var e=t.Hook("getHiddenItemsInCart");if(e)for(var n in e){var r,i=e[n].toString();r=$('input[id="updates_'+i+'"]'),r.length&&(r.val(1),r.prop("readonly",!0),r.on("change",function(){$(this).val(1)})),r=$("#cart-item-row-"+i).find('input[name="updates[]"]'),r.length&&(r.val(1),r.prop("readonly",!0))}}},n.__xhrCall=function(e){"undefined"!=typeof bkCartData&&e(bkCartData)},n.getOldCart=function(){var e=this,n="platform_"+t.getPlatform()+"_old_cart",r=t.Util.Cookie.getCookie(n);if(!r)return null;var i=t.Util.JSON.parse(r);return e.convertDataToInstance(i)},n.setOldCart=function(e){t.Util.Cookie.setPrefix("");var n=e.clone(),r="platform_"+t.getPlatform()+"_old_cart",i=n.getSourceData();for(var a in i)delete i[a].line_tax_data,delete i[a].line_tax,delete i[a].variation,delete i[a].url,delete i[a].title,delete i[a].sub_total,delete i[a].sub_total_tax;return t.Util.Cookie.setCookie(r,t.Util.JSON.stringify(i))},e.Woocommerce.EntityManager=e.Woocommerce.EntityManager||{},e.Woocommerce.EntityManager.CartManagerClass=t.Manager.CartManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.CartManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.convertDataToInstance=function(e){var n=new t.Platform.EntityManager.VariantManagerClass,r=new t.Entity.Product(e.id);r.setEntity("product"),r.setHandle(e.handle),r.setTitle(e.title),r.setRefId(e.ref_id),r.setShopId(e.shop_id),r.setImageSourceUrl(e.image_source_url),r.setSourceData(e);var i;for(i in e.variants)if(e.variants.hasOwnProperty(i)){var a=e.variants[i];"undefined"==typeof a.id&&(a.id=a.ref_id);var o=n.convertDataToInstance(r,a);n.add(o)}return r.set("variantsManager",n),r},e.Woocommerce.EntityManager=e.Woocommerce.EntityManager||{},e.Woocommerce.EntityManager.ProductManagerClass=t.Manager.ProductManager.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Manager&&"undefined"!=typeof BeeketingSDK.Manager.ProductManager}),BeeketingSDK.module("Platform",function(e,t){var n={};return n.convertDataToInstance=function(e,n){var r=new t.Entity.Variant(n.id);return r.setEntity("variant"),r.setRefId(n.ref_id),r.setImageRefId(n.image_ref_id),r.setProductId(e.getId()),r.setTitle(n.title),r.setPrice(n.price),r.setSku(n.sku),r.setQuantity(1),r.setLinePrice(n.price),r.setSourceData(n),r},e.Woocommerce.EntityManager=e.Woocommerce.EntityManager||{},e.Woocommerce.EntityManager.VariantManagerClass=t.Manager.VariantManager.extend(n),e}),BeeketingSDK.module("Platform",function(e,t){var n={},r=function(e){return e.replace(/\.json/g,"").replace(/\.js/g,"")};return n.getNewCartAndTrack=function(){var e=t.Platform.EntityManager.CartManager,n=t.Platform.EntityManager.CartItemManager;e.getNewCartByAjax(function(r){var i=e.getOldCart(),a=null;i||(i=r);var o=t.Util.Cookie.getCookie("beeketing-last-added-items"),s=t.Util.Cookie.getCookie("beeketing-last-removed-items"),u=t.Util.Cookie.getCookie("beeketing-cart-last-deleted-items");o&&(o=t.Util.JSON.parse(o),r.getItemsManager().each(function(e){o.cart_item_key==e.getId()&&(a=e)}),t.Util.Cookie.deleteCookie("beeketing-last-added-items")),s&&(s=t.Util.JSON.parse(s),r.getItemsManager().each(function(e){s.cart_item_key==e.getId()&&(a=e)}),t.Util.Cookie.deleteCookie("beeketing-last-removed-items")),u&&(u=t.Util.JSON.parse(u),a=n.convertDataToInstance(u),console.log(u),SCN.customCartEvent={type:t.Event.Dispatcher.events.CART.REMOVE_ITEM,data:{addedItem:a,deltaQuantity:a.getQuantity(),currentCart:i,newCart:r}},t.Util.Cookie.deleteCookie("beeketing-cart-last-deleted-items")),e.setCurrentCart(r,!1),e.setOldCart(r),e.__lockAndCorrectProductQuantity(),e.compareCurrentCartAndNewCart(i,r,a)},null)},n.handleAjaxComplete=function(e,n,i){if(200==n.status&&"undefined"!=typeof i){var a=r(i.url),o=t.Util.JSON.stringifyThenParse(t.Platform.AjaxManager.itemAddedBy)||"";if(-1==a.indexOf("add_to_cart"))return;switch(a=a.substr(a.indexOf("add_to_cart"))){case"add_to_cart":case"/cart/change":var s=null,u=t.Platform.EntityManager.CartManager.getCurrentCart(),c=null,l=null;if(n.responseJSON)s=n.responseJSON;else try{s=t.Util.JSON.parse(n.responseText)}catch(d){t.Util.Console.log("Could not decode response text:"),t.Util.Console.log(n.responseText)}var f=s.fragments.beeketing_cart_data;if("add_to_cart"==a){t.Util.Console.log("cart added");var g=null;if(!f||!i.data)return!1;var p=t.getDependency("Arg").parse(i.data),h=p.product_id;if(c=t.Platform.EntityManager.CartManager.convertDataToInstance(f),t.Platform.EntityManager.CartManager.setCurrentCart(c),c.getItemsManager().each(function(e){h==e.getProductId()&&(g=e)}),!g)return t.Util.Console.log("Cart doesn't find changedItem."),!1;t.Util.Console.log("cart changed"),l=g}t.Util.Cookie.deleteCookie("beeketing-last-added-items"),l.setAddedBy(o),t.Platform.EntityManager.CartManager.correctInvalidItemQuantityInCart(function(e){e&&"correct_cart_items"!=l.getAddedBy()&&t.Platform.EntityManager.CartManager.compareCurrentCartAndNewCart(u,c,l)},c)}}},e.Woocommerce.Listener=e.Woocommerce.Listener||{},e.Woocommerce.Listener.CartListenerClass=t.Event.Listener.CartListener.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Event&&"undefined"!=typeof BeeketingSDK.Event.Listener&&"undefined"!=typeof BeeketingSDK.Event.Listener.CartListener}),BeeketingSDK.module("Platform",function(e,t){var n={};return e.Woocommerce.Listener=e.Woocommerce.Listener||{},e.Woocommerce.Listener.TrackerListenerClass=t.Event.Listener.TrackerListener.extend(n),e},null,function(){return"undefined"!=typeof BeeketingSDK.Event&&"undefined"!=typeof BeeketingSDK.Event.Listener&&"undefined"!=typeof BeeketingSDK.Event.Listener.TrackerListener}),BeeketingSDK.module("View",function(e,t){var n={};return n.compile=function(){t.Util.Console.alert("Abstract@compile needs implement.")},e.SupportEngine=e.SupportEngine||{},e.SupportEngine.AbstractEngine=Backbone.Model.extend(n),e}),BeeketingSDK.module("View",function(e,t){var n={};return n.compile=function(){},e.SupportEngine=e.SupportEngine||{},e.SupportEngine.HandlebarsClass=t.View.SupportEngine.AbstractEngine.extend(n),e}),BeeketingSDK.module("View",function(e,t){var n={};return n.compile=function(){},e.SupportEngine=e.SupportEngine||{},e.SupportEngine.PureClass=t.View.SupportEngine.AbstractEngine.extend(n),e});