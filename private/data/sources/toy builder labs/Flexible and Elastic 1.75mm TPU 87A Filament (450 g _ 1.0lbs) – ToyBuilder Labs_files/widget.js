Yotpo=function(){function t(t,e){this.appKey=t,this.userSettings=e,this.widgets=[],this.initialized=!1,l.call(this)||c.call(this),d.call(this)}function e(){var e=this;t.forEach(t.widgets,function(o){try{for(var n=t.Widgets[t.camelize(o)]||t.Widgets.Basic,i=document.querySelectorAll(n.selector||".yotpo."+o),r=0;r<i.length;++r)t.Element.get(i[r]).is("new")&&e.addWidget(new n(e,i[r],o));!i.length&&"undefined"!=typeof n.createsElement&&n.createsElement(e.getUserSettings())&&e.addWidget(new n(e))}catch(a){t.safeConsole(a.message)}})}function o(){var t=document.querySelectorAll(".yotpo-user-reference");t.length&&(this.userReference=t[0].getAttribute("data-user-reference"))}function n(){this.analytics=new t.Analytics(this),t.currentAnalytics=this.analytics,this.inview=new t.Inview(this),t.currentInview=this.inview,t.currentAnalytics.trackPageView()}function i(){var e=this,o=[];t.forEach(e.getWidgets(),function(t){t.is("initialized")||t.is("processing")||(t.state("processing"),o.push({method:t.getMethod(),params:t.getSettings()}))}),e.getBatch(function(o){r.call(e,o),s.call(e),t.addEventListener(window,"resize",function(){a.call(e);for(var t=e.getWidgets(),o=0;o<t.length;o++)t[o].trigger("resize")}),e.trigger("ready")},o)}function r(e){var o=[];try{o=JSON.parse(e);for(var n=-1,i=0;i<o.length;i++)if("main_widget"==o[i].method){n=i;break}if(n>=0){var r=document.createElement("div");r.innerHTML=o[n].result,r.getElementsByClassName("yotpo-promoted-product").length>0&&(u(r.getElementsByClassName("yotpo-promoted-product")),o[n].result=r.innerHTML)}}catch(a){t.safeConsole(a.message)}for(var s=this.getWidgets(),i=0;i<s.length;i++){var l=s[i];if(l.getElement()){if(!l.is("initialized")){var c=o.shift();c&&(l.getElement().innerHTML=c.result)}l.is("initialized")&&!l.is("ready")&&(l.trigger("ready"),l.state("ready"))}else t.safeConsole("Div not found in the Dom.")}}function a(){t.forEach(this.getWidgets(),function(e){for(var o,n=e.getElement(),i=n;i&&0==(o=i.offsetWidth);)i=i.parentNode;if("old"==e.getLayout()){t.removeClass(n,"yotpo-medium"),t.removeClass(n,"yotpo-small");var r="";655>=o&&(r="yotpo-medium"),510>=o&&(r="yotpo-small"),""!=r&&t.addClass(n,r),e.trigger("sizeCalculated",r)}else e.trigger("sizeCalculated",o)})}function s(){var e=this,o=document.getElementsByClassName("yotpo-display-wrapper")[0];"undefined"==typeof o||"visible"==t.getVisibilityStyle(o)?a.call(e):setTimeout(function(){s.call(e)},50)}function l(){var t=this.getUserSetting("css_custom_host");if(!t)return!1;for(var e=document.styleSheets,o=0;o<e.length;++o)if(e[o].href){var n=e[o].href.replace(/https?:\/\//,"");if(n.indexOf(t)>-1)return!0}return!1}function c(){var e=t.getWidgetHost(this.getUserSettings().host)+"/"+this.getAppKey()+"/widget.css?widget_version="+this.getUserSetting("version"),o=this.getUserSetting("demo"),n=this.getUserSetting("info");"undefined"!=typeof o&&(e+="&demo=true"),"undefined"!=typeof n&&(e+="&info="+window.encodeURIComponent(n));var i=document.getElementsByTagName("head")[0],r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,i.appendChild(r)}function u(t){for(var e=[],o=0;o<t.length;o++)""!=t[o].dataset.position&&(e[o]=t[o].dataset.position);var n=!1,i=e.reduce(function(t,e){return"undefined"==typeof t[e]?t[e]=1:(t[e]+=1,n=!0),t},{});if(n){var r={};for(var a in i)r[a]=1==i[a]?1:Math.floor(Math.random()*i[a])+1;for(var s=0,o=0;o<t.length;o++)0==o||t[o].dataset.position!=t[o-1].dataset.position?s=1:s+=1,r[t[o].dataset.position]!=s&&(t[o].dataset.to_delete=!0);for(var o=t.length-1;o>=0;o--)t[o].dataset.to_delete&&t[o].parentNode.remove()}}function d(){var e=this.getUserSetting("ads"),o=this.getUserSetting("facebook_ads");e&&o&&"0"!=o.settings.pixel_id&&new t.Libraries.FacebookAds(o.settings.pixel_id)}function g(){var e=this;t.forEach(["ready"],function(t){e.on(t,function(){e.setState(t)})})}return t.hosts={widget:{dynamic:"w2.yotpo.com","static":"staticw2.yotpo.com"},api:{dynamic:"api.yotpo.com"},b2b:{dynamic:"my.yotpo.com"},base:{dynamic:"yotpo.com"}},t.batchType="POST",t.isIE=-1!=navigator.userAgent.indexOf("MSIE"),t.dynamicCreateType="POST",t.maxBatchMethods=50,t.globals={},t.getWidgetHost=function(t){return"//"+(this.hosts.widget[t]||this.hosts.widget["static"])},t.getApiHost=function(t){return"//"+(this.hosts.api[t]||this.hosts.api.dynamic)},t.texts={},t.widgets=["main","testimonials","bottomline","embedded","badge","questions-bottomline","carousels","gallery"],t.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},t.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},t.prototype.setState=function(t){this.state=t},t.prototype.getState=function(){return this.state},t.prototype.getWidgetByName=function(e){var o=null;return t.forEach(this.getWidgets(),function(n){n instanceof t.Widgets[e]&&(o=n)}),o},t.prototype.getWidgetsByNames=function(e){var o=[];return t.forEach(this.getWidgets(),function(n){for(var i=0;i<e.length;i++)n instanceof t.Widgets[e[i]]&&o.push(n)}),o},t.prototype.getAppKey=function(){return this.appKey},t.prototype.getUserSettings=function(){return this.userSettings},t.prototype.getUserSetting=function(t){return this.userSettings[t]},t.prototype.getWidgets=function(){return this.widgets},t.prototype.getTrustedVendorsData=function(){var t={},e={"data-user-name":"display_name","data-user-email":"email","data-signature":"signature","data-time-stamp":"time_stamp","data-reviewer-type":"reviewer_type","data-reviewer-badge":"reviewer_badge"},o=document.querySelectorAll(".yotpo-signed-data")[0];if(o)for(var n in e){var i=o.getAttribute(n);i&&(t[e[n]]=i)}return t},t.prototype.addWidget=function(e){this.widgets.push(e),t.Element.get(e.getElement()).set("state","initialized")},t.prototype.getUserReference=function(){return this.userReference},t.prototype.getBatch=function(e,o){function n(t,o){var n=o.page,i=[];c+=1,l[n]=t.substring(0,t.length-1).substring(1),c==s&&(i="["+l.join(",")+"]",e(i))}if(!o)return t.safeConsole("getBatch: no methods provided"),!1;if(o.length>0)for(var i,r,a=t.maxBatchMethods,s=Math.ceil(o.length/a),l=[],c=0,u=0,d=o.length;d>u;u+=a){var g=t.getWidgetHost(this.getUserSetting("host"))+"/batch";i=o.slice(u,u+a),r={methods:JSON2.stringify(i),app_key:this.getAppKey(),is_mobile:t.isMobil(),widget_version:this.getUserSetting("version")},"undefined"!=typeof this.getUserSetting("demo")&&"undefined"!=typeof this.getUserSetting("info")&&(r.info=this.getUserSetting("info"),r.demo=!0),r=t.convertHashToQueryStringParams(r),"GET"==t.batchType&&(g+="?"+r),t.ajax(g,n,t.batchType,r,{page:u/a})}else e.call(this,"[]")},t.prototype.init=function(){return this.initialized||(this.initialized=!0,t.Element.clear(),n.call(this),g.call(this),this.initWidgets(),o.call(this)),this},t.prototype.initWidgets=function(){e.call(this),i.call(this)},t.prototype.clean=function(){t.forEach(this.getWidgets(),function(t){for(var e=t.getElement();e.hasChildNodes();)e.removeChild(e.firstChild)})},t.prototype.refresh=function(){this.clean(),i.call(this)},t.prototype.trackEvent=function(t,e,o,n){this.analytics.trackEvent(t,e,o,n)},t.prototype.trackPageView=function(){this.analytics.trackPageView()},t}(),Yotpo.Element=function(){function t(t){this.attributes={id:++e,element:t,state:"new"},t.setAttribute("data-yotpo-element-id",this.get("id"))}var e=0,o={};return t.prototype.get=function(t){return this.attributes[t]},t.prototype.set=function(t,e){this.attributes[t]=e},t.prototype.is=function(t){return this.get("state")==t},t.get=function(e){var n=+e.getAttribute("data-yotpo-element-id");if(!o[n]){var i=new t(e);n=i.get("id"),o[n]=i}return o[n]},t.clear=function(){for(var t in o)o.hasOwnProperty(t)&&(o[t].get("element").removeAttribute("data-yotpo-element-id"),delete o[t])},t}(Yotpo),Yotpo.ajax=function(t,e,o,n,i){function r(t,e){var o=a();return o&&"withCredentials"in o?(o.open(t,e,!0),o.withCredentials=!0):"undefined"!=typeof XDomainRequest?(o=new XDomainRequest,o.onprogress=function(){},o.open(t,e)):o=null,o}function a(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(t){return null}}var s=r(o?o:"GET",t);return s?(s.readyState?s.onreadystatechange=function(){if(4==s.readyState){var t=s.responseText;i?e(t,i):e(t)}}:s.onload=function(){var t=s.responseText;i?e(t,i):e(t)},s.onerror=function(){Yotpo.safeConsole("There was an error making the request.","error")},"POST"==o&&"withCredentials"in s&&s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send(n),!0):(Yotpo.safeConsole("CORS not supported","error"),!1)},Yotpo.safeConsole=function(){},Yotpo.convertHashToQueryStringParams=function(t){var e=[];for(var o in t)t.hasOwnProperty(o)&&e.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return e.join("&")},Yotpo.convertComplexObjectToQueryStringParams=function(t){var e=[];for(var o in t)if(t.hasOwnProperty(o)){var n=o,i=t[o];e.push("object"==typeof i?i.constructor===Array?Yotpo.convertArrayToQueryStringParam(n,i):Yotpo.convertComplexObjectToQueryStringParams(i,n):encodeURIComponent(n)+"="+encodeURIComponent(i))}return e.join("&")},Yotpo.convertArrayToQueryStringParam=function(t,e){for(var o=[],n=0;n<e.length;n++)o.push(encodeURIComponent(t+"[]")+"="+encodeURIComponent(e[n]));return o.length?o.join("&"):""},Yotpo.cleanInput=function(t){if(t=t.trim(),""==t)return t;var e=document.createElement("DIV");return e.innerHTML=t,t=Yotpo.getElementText(e),t.replace(/ +(?= )/g,"").replace(/"/g,"&quot;").replace(Yotpo.emojiRegex,"")},Yotpo.validateStringMaxLength=function(t,e){return e=e||150,null==t||t.length>e?!1:!0},Yotpo.validateStringMaxWords=function(t,e){if(e=e||150,"string"!=typeof t)return!1;var o=t.match(/\S+/g);return o=o?o.length:0,e>=o},Yotpo.validateStringMinLength=function(t,e){return e=e||1,null==t||t.length<e?!1:!0},Yotpo.validateEmail=function(t){var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)},Yotpo.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Yotpo.camelize=function(t){for(var e=t.split("-"),o=Yotpo.capitalize(e[0]),n=1;n<e.length;n++)o+=Yotpo.capitalize(e[n]);return o},Yotpo.getIEVersion=function(){var t=navigator.userAgent,e=/MSIE\s?(\d+)(?:\.(\d+))?/i,o=t.match(e);return null!=o?{major:o[1],minor:o[2]}:{major:"-1",minor:"-1"}},Yotpo.ready=function(t){Yotpo.isIE&&10!=Yotpo.getIEVersion().major||"interactive"!==document.readyState?"complete"===document.readyState?setTimeout(function(){t()},1):document.addEventListener?document.addEventListener("DOMContentLoaded",function(){t()},!1):document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&t()}):setTimeout(function(){t()},1)},Yotpo.rotate=function(t){if("WebkitTransform"in document.body.style||"MozTransform"in document.body.style||"OTransform"in document.body.style||"transform"in document.body.style){var e,o,n,i,r=2*Math.PI/360,a=t*r,s=Math.cos(a),l=Math.sin(a);e=parseFloat(s).toFixed(8),o=parseFloat(-l).toFixed(8),n=parseFloat(l).toFixed(8),i=parseFloat(s).toFixed(8);var c="progid:DXImageTransform.Microsoft.Matrix(M11="+e+", M12="+o+", M21="+n+", M22="+i+",sizingMethod='auto expand')";return{filter:c,"-moz-transform":"rotate("+t+"deg)","-webkit-transform":"rotate("+t+"deg)","-o-transform":"rotate("+t+"deg)","-ms-transform":"rotate("+t+"deg)"}}return!1},Yotpo.hasClass=function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},Yotpo.addClass=function(t,e){t.classList?t.classList.add(e):t.className+=" "+e},Yotpo.removeClass=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},Yotpo.removeClassList=function(t,e){for(var o=0;o<e.length;o++)Yotpo.removeClass(t,e[o])},Yotpo.toggleClass=function(t,e){Yotpo.hasClass(t,e)?Yotpo.removeClass(t,e):Yotpo.addClass(t,e)},Yotpo.addEventListener=function(t,e,o){t.addEventListener?t.addEventListener(e,o,!1):t.attachEvent&&t.attachEvent("on"+e,o)},Yotpo.removeEventListener=function(t,e,o){t.removeEventListener?t.removeEventListener(e,o,!1):t.detachEvent&&t.detachEvent("on"+e,o)},Yotpo.copy=function(t,e){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},Yotpo.toggleVisibility=function(t){t.style.display="none"==Yotpo.getDisplayStyle(t)?"inline-block":"none"},Yotpo.getDisplayStyle=function(t){return t.currentStyle?t.currentStyle.display:window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue("display"):null},Yotpo.getVisibilityStyle=function(t){return t?t.currentStyle?t.currentStyle.visibility:window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue("visibility"):null:!1},Yotpo.show=function(t,e){t.style.display=e?e:"inline-block",Yotpo.removeClass(t,"yotpo-hidden")},Yotpo.hide=function(t){t.style.display="none",Yotpo.addClass(t,"yotpo-hidden")},Yotpo.getStyle=function(t,e){if(t.currentStyle)var o=t.currentStyle[e];else if(window.getComputedStyle)var o=document.defaultView.getComputedStyle(t,null).getPropertyValue(e);return o},Yotpo.isHidden=function(t){return!Yotpo.isIE&&t.classList?null===t.offsetParent:"none"==Yotpo.getStyle(t,"display")||"hidden"==Yotpo.getStyle(t,"visibilty")},Yotpo.localStorage=localStorage||{getItem:function(t){return Yotpo.storage=Yotpo.storage||{},Yotpo.storage[t]},setItem:function(t,e){Yotpo.storage=Yotpo.storage||{},Yotpo.storage[t]=e},removeItem:function(t){Yotpo.storage=Yotpo.storage||{},delete Yotpo.storage[t]}},Yotpo.bindAnimation=function(t,e){var o=e||t.getAttribute("data-type"),n=null,i=t.getAttribute("data-target-container");i&&(n=Yotpo.Modules.Helper.findAncestorByClass(t,i)),n||(n=t.parentNode.parentNode.parentNode);var r=n.getElementsByClassName(t.getAttribute("data-target"));0==r.length&&(r=n.querySelectorAll(t.getAttribute("data-target")));for(var a=Math.min(parseInt(t.getAttribute("data-limit")||r.length),r.length),s=0;a>s;++s)Yotpo.Animations[o](r[s]);parseInt(t.getAttribute("data-limit"))>=r.length&&Yotpo.addClass(t,"yotpo-hidden")},Yotpo.supportTouch=function(){return"ontouchstart"in document.documentElement},Yotpo.togglePreLoader=function(t){var e=t.querySelectorAll(".yotpo-preloader-wrapper");if(e.length>0){var o=e[0];Yotpo.toggleVisibility(o)}return!1},Yotpo.scrollTo=function(t,e,o,n,i){var r=n?t.scrollHeight>e&&e>=0:!0;if(r){var a=n?t.scrollTop:t.scrollLeft,s=e-a,l=0,c=20,u=function(){l+=c;var e=Math.easeInOutQuad(l,a,s,o);n?t.scrollTop=e:t.scrollLeft=e,o>l?setTimeout(u,c):"function"==typeof i&&i()};Math.easeInOutQuad=function(t,e,o,n){return t/=n/2,1>t?o/2*t*t+e:(t--,-o/2*(t*(t-2)-1)+e)},u()}},Yotpo.moveTo=function(t,e,o,n,i){var r=0,a=e-r,s=0,l=20,c=function(){s+=l;var e=Math.easeInOutQuad(s,r,a,o);e=parseInt(e),"right"==n?t.style.right=e+"px":t.style.left=e+"px",o>s?setTimeout(c,l):"function"==typeof i&&i()};Math.easeInOutQuad=function(t,e,o,n){return t/=n/2,1>t?o/2*t*t+e:(t--,-o/2*(t*(t-2)-1)+e)},c()},Yotpo.scrollToTop=function(t){if(t.offsetParent&&t.offsetParent.scrollTop>0&&t.offsetParent!==document.body)Yotpo.scrollTo(t.offsetParent,0,1300,!0);else{var e=document.documentElement.scrollTop>0?document.documentElement:document.body;Yotpo.scrollTo(e,t.getBoundingClientRect().top+e.scrollTop,1300,!0)}},Yotpo.isMobil=function(){var t=/ipad|ipad.*mobile|android.*nexus[\s]+(7|10)|^.*android.*nexus(?:(?!mobile).)*$|samsung.*tablet|galaxy.*tab|sc-01c|gt-p1000|gt-p1003|gt-p1010|gt-p3105|gt-p6210|gt-p6800|gt-p6810|gt-p7100|gt-p7300|gt-p7310|gt-p7500|gt-p7510|sch-i800|sch-i815|sch-i905|sgh-i957|sgh-i987|sgh-t849|sgh-t859|sgh-t869|sph-p100|gt-p3100|gt-p3108|gt-p3110|gt-p5100|gt-p5110|gt-p6200|gt-p7320|gt-p7511|gt-n8000|gt-p8510|sgh-i497|sph-p500|sgh-t779|sch-i705|sch-i915|gt-n8013|gt-p3113|gt-p5113|gt-p8110|gt-n8010|gt-n8005|gt-n8020|gt-p1013|gt-p6201|gt-p7501|gt-n5100|gt-n5105|gt-n5110|shv-e140k|shv-e140l|shv-e140s|shv-e150s|shv-e230k|shv-e230l|shv-e230s|shw-m180k|shw-m180l|shw-m180s|shw-m180w|shw-m300w|shw-m305w|shw-m380k|shw-m380s|shw-m380w|shw-m430w|shw-m480k|shw-m480s|shw-m480w|shw-m485w|shw-m486w|shw-m500w|gt-i9228|sch-p739|sch-i925|gt-i9200|gt-i9205|gt-p5200|gt-p5210|gt-p5210x|sm-t311|sm-t310|sm-t310x|sm-t210|sm-t210r|sm-t211|sm-p600|sm-p601|sm-p605|sm-p900|sm-p901|sm-t217|sm-t217a|sm-t217s|sm-p6000|sm-t3100|sgh-i467|xe500|sm-t110|gt-p5220|gt-i9200x|gt-n5110x|gt-n5120|sm-p905|sm-t111|sm-t2105|sm-t315|sm-t320|sm-t320x|sm-t321|sm-t520|sm-t525|sm-t530nu|sm-t230nu|sm-t330nu|sm-t900|xe500t1c|sm-p605v|sm-p905v|sm-p600x|sm-p900x|sm-t210x|sm-t230|sm-t230x|sm-t325|gt-p7503|sm-t531|sm-t330|sm-t530|sm-t705c|sm-t535|sm-t331|kindle|silk.*accelerated|android.*\b(kfot|kftt|kfjwi|kfjwa|kfote|kfsowi|kfthwi|kfthwa|kfapwi|kfapwa|wfjwae)\b|windows nt [0-9.]+; arm;|hp slate 7|hp elitepad 900|hp-tablet|elitebook.*touch|hp 8|^.*padfone((?!mobile).)*$|transformer|tf101|tf101g|tf300t|tf300tg|tf300tl|tf700t|tf700kl|tf701t|tf810c|me171|me301t|me302c|me371mg|me370t|me372mg|me172v|me173x|me400c|slider sl101|\bk00f\b|tx201la|playbook|rim tablet|htc flyer|htc jetstream|htc-p715a|htc evo view 4g|pg41200|xoom|sholest|mz615|mz605|mz505|mz601|mz602|mz603|mz604|mz606|mz607|mz608|mz609|mz615|mz616|mz617|android.*nook|nookcolor|nook browser|bnrv200|bnrv200a|bntv250|bntv250a|bntv400|bntv600|logicpd zoom2|android.*; \b(a100|a101|a110|a200|a210|a211|a500|a501|a510|a511|a700|a701|w500|w500p|w501|w501p|w510|w511|w700|g100|g100w|b1-a71|b1-710|b1-711|a1-810|a1-830)\b|w3-810|\ba3-a10\b|android.*(at100|at105|at200|at205|at270|at275|at300|at305|at1s5|at500|at570|at700|at830)|toshiba.*folio|\bl-06c|lg-v900|lg-v500|lg-v909|lg-v500|lg-v510|lg-vk810\b|android.*\b(f-01d|f-02f|f-05e|f-10d|m532|q572)\b|pmp3170b|pmp3270b|pmp3470b|pmp7170b|pmp3370b|pmp3570c|pmp5870c|pmp3670b|pmp5570c|pmp5770d|pmp3970b|pmp3870c|pmp5580c|pmp5880d|pmp5780d|pmp5588c|pmp7280c|pmp7280c3g|pmp7280|pmp7880d|pmp5597d|pmp5597|pmp7100d|per3464|per3274|per3574|per3884|per5274|per5474|pmp5097cpro|pmp5097|pmp7380d|pmp5297c|pmp5297c_quad|ideatab|thinkpad([ ]+)?tablet|lenovo.*(s2109|s2110|s5000|s6000|k3011|a3000|a1000|a2107|a2109|a1107|b6000|b8000|b8080-f)|android.*\b(tab210|tab211|tab224|tab250|tab260|tab264|tab310|tab360|tab364|tab410|tab411|tab420|tab424|tab450|tab460|tab461|tab464|tab465|tab467|tab468|tab07-100|tab07-101|tab07-150|tab07-151|tab07-152|tab07-200|tab07-201-3g|tab07-210|tab07-211|tab07-212|tab07-214|tab07-220|tab07-400|tab07-485|tab08-150|tab08-200|tab08-201-3g|tab08-201-30|tab09-100|tab09-211|tab09-410|tab10-150|tab10-201|tab10-211|tab10-400|tab10-410|tab13-201|tab274euk|tab275euk|tab374euk|tab462euk|tab474euk|tab9-200)\b|android.*\boyo\b|life.*(p9212|p9514|p9516|s9512)|lifetab|an10g2|an7bg3|an7fg3|an8g3|an8cg3|an7g3|an9g3|an7dg3|an7dg3st|an7dg3childpad|an10bg3|an10bg3dt|inm8002kp|inm1010fp|inm805nd|intenso tab|m702pro|megafon v9|\bzte v9\b|android.*\bmt7a\b|e-boda (supreme|impresspeed|izzycomm|essential)|allview.*(viva|alldro|city|speed|all tv|frenzy|quasar|shine|tx1|ax1|ax2)|\b(101g9|80g9|a101it)\b|qilive 97r|archos 101g10|archos 101 neon|novo7|novo8|novo10|novo7aurora|novo7basic|novo7paladin|novo9-spark|sony.*tablet|xperia tablet|sony tablet s|so-03e|sgpt12|sgpt13|sgpt114|sgpt121|sgpt122|sgpt123|sgpt111|sgpt112|sgpt113|sgpt131|sgpt132|sgpt133|sgpt211|sgpt212|sgpt213|sgp311|sgp312|sgp321|ebrd1101|ebrd1102|ebrd1201|sgp351|sgp341|sgp511|sgp512|sgp521|sgp541|sgp551|android.*(k8gt|u9gt|u10gt|u16gt|u17gt|u18gt|u19gt|u20gt|u23gt|u30gt)|cube u8gt|mid1042|mid1045|mid1125|mid1126|mid7012|mid7014|mid7015|mid7034|mid7035|mid7036|mid7042|mid7048|mid7127|mid8042|mid8048|mid8127|mid9042|mid9740|mid9742|mid7022|mid7010|m9701|m9000|m9100|m806|m1052|m806|t703|mid701|mid713|mid710|mid727|mid760|mid830|mid728|mid933|mid125|mid810|mid732|mid120|mid930|mid800|mid731|mid900|mid100|mid820|mid735|mid980|mid130|mid833|mid737|mid960|mid135|mid860|mid736|mid140|mid930|mid835|mid733|android.*(\bmid\b|mid-560|mtv-t1200|mtv-pnd531|mtv-p1101|mtv-pnd530)|android.*(rk2818|rk2808a|rk2918|rk3066)|rk2738|rk2808a|iq310|fly vision|bq.*(elcano|curie|edison|maxwell|kepler|pascal|tesla|hypatia|platon|newton|livingstone|cervantes|avant)|maxwell.*lite|maxwell.*plus|mediapad|mediapad 7 youth|ideos s7|s7-201c|s7-202u|s7-101|s7-103|s7-104|s7-105|s7-106|s7-201|s7-slim|\bn-06d|\bn-08d|pantech.*p4100|broncho.*(n701|n708|n802|a710)|touchpad.*[78910]|\btouchtab\b|z1000|z99 2g|z99|z930|z999|z990|z909|z919|z900|tb07sta|tb10sta|tb07fta|tb10fta|android.*\bnabi|kobo touch|\bk080\b|\bvox\b build|\barc\b build|dslide.*\b(700|701r|702|703r|704|802|970|971|972|973|974|1010|1012)\b|navipad|tb-772a|tm-7045|tm-7055|tm-9750|tm-7016|tm-7024|tm-7026|tm-7041|tm-7043|tm-7047|tm-8041|tm-9741|tm-9747|tm-9748|tm-9751|tm-7022|tm-7021|tm-7020|tm-7011|tm-7010|tm-7023|tm-7025|tm-7037w|tm-7038w|tm-7027w|tm-9720|tm-9725|tm-9737w|tm-1020|tm-9738w|tm-9740|tm-9743w|tb-807a|tb-771a|tb-727a|tb-725a|tb-719a|tb-823a|tb-805a|tb-723a|tb-715a|tb-707a|tb-705a|tb-709a|tb-711a|tb-890hd|tb-880hd|tb-790hd|tb-780hd|tb-770hd|tb-721hd|tb-710hd|tb-434hd|tb-860hd|tb-840hd|tb-760hd|tb-750hd|tb-740hd|tb-730hd|tb-722hd|tb-720hd|tb-700hd|tb-500hd|tb-470hd|tb-431hd|tb-430hd|tb-506|tb-504|tb-446|tb-436|tb-416|tb-146se|tb-126se|playstation.*(portable|vita)|st10416-1|vt10416-1|st70408-1|st702xx-1|st702xx-2|st80208|st97216|st70104-2|vt10416-2|st10216-2a|\b(ptbl10ceu|ptbl10c|ptbl72bc|ptbl72bceu|ptbl7ceu|ptbl7c|ptbl92bc|ptbl92bceu|ptbl9ceu|ptbl9cuk|ptbl9c)\b|android.* \b(e3a|t3x|t5c|t5b|t3e|t3c|t3b|t1j|t1f|t2a|t1h|t1i|e1c|t1-e|t5-a|t4|e1-b|t2ci|t1-b|t1-d|o1-a|e1-a|t1-a|t3a|t4i)\b |genius tab g3|genius tab s2|genius tab q3|genius tab g4|genius tab q4|genius tab g-ii|genius tab gii|genius tab giii|genius tab s1|android.*\bg1\b|funbook|micromax.*\b(p250|p560|p360|p362|p600|p300|p350|p500|p275)\b|android.*\b(a39|a37|a34|st8|st10|st7|smart tab3|smart tab2)\b|fine7 genius|fine7 shine|fine7 air|fine8 style|fine9 more|fine10 joy|fine11 wide|\b(pem63|plt1023g|plt1041|plt1044|plt1044g|plt1091|plt4311|plt4311pl|plt4315|plt7030|plt7033|plt7033d|plt7035|plt7035d|plt7044k|plt7045k|plt7045kb|plt7071kg|plt7072|plt7223g|plt7225g|plt7777g|plt7810k|plt7849g|plt7851g|plt7852g|plt8015|plt8031|plt8034|plt8036|plt8080k|plt8082|plt8088|plt8223g|plt8234g|plt8235g|plt8816k|plt9011|plt9045k|plt9233g|plt9735|plt9760g|plt9770g)\b|bq1078|bc1003|bc1077|rk9702|bc9730|bc9001|it9001|bc7008|bc7010|bc708|bc728|bc7012|bc7030|bc7027|bc7026|tpc7102|tpc7103|tpc7105|tpc7106|tpc7107|tpc7201|tpc7203|tpc7205|tpc7210|tpc7708|tpc7709|tpc7712|tpc7110|tpc8101|tpc8103|tpc8105|tpc8106|tpc8203|tpc8205|tpc8503|tpc9106|tpc9701|tpc97101|tpc97103|tpc97105|tpc97106|tpc97111|tpc97113|tpc97203|tpc97603|tpc97809|tpc97205|tpc10101|tpc10103|tpc10106|tpc10111|tpc10203|tpc10205|tpc10503|tx-a1301|tx-m9002|q702|kf026|tab-p506|tab-navi-7-3g-m|tab-p517|tab-p-527|tab-p701|tab-p703|tab-p721|tab-p731n|tab-p741|tab-p825|tab-p905|tab-p925|tab-pr945|tab-pl1015|tab-p1025|tab-pi1045|tab-p1325|tab-protab[0-9]+|tab-protab25|tab-protab26|tab-protab27|tab-protab26xl|tab-protab2-ips9|tab-protab30-ips9|tab-protab25xxl|tab-protab26-ips10|tab-protab30-ips10|ov-(steelcore|newbase|basecore|baseone|exellen|quattor|edutab|solution|action|basictab|teddytab|magictab|stream|tb-08|tb-09)|hcl.*tablet|connect-3g-2.0|connect-2g-2.0|me tablet u1|me tablet u2|me tablet g1|me tablet x1|me tablet y2|me tablet sync|dps dream 9|dps dual 7|v97 hd|i75 3g|visture v4( hd)?|visture v5( hd)?|visture v10|ctp(-)?810|ctp(-)?818|ctp(-)?828|ctp(-)?838|ctp(-)?888|ctp(-)?978|ctp(-)?980|ctp(-)?987|ctp(-)?988|ctp(-)?989|\bmt8125|mt8389|mt8135|mt8377\b|concorde([ ]+)?tab|concorde readman|goclever tab|a7goclever|m1042|m7841|m742|r1042bk|r1041|tab a975|tab a7842|tab a741|tab a741l|tab m723g|tab m721|tab a1021|tab i921|tab r721|tab i720|tab t76|tab r70|tab r76.2|tab r106|tab r83.2|tab m813g|tab i721|gcta722|tab i70|tab i71|tab s73|tab r73|tab r74|tab r93|tab r75|tab r76.1|tab a73|tab a93|tab a93.2|tab t72|tab r83|tab r974|tab r973|tab a101|tab a103|tab a104|tab a104.2|r105bk|m713g|a972bk|tab a971|tab r974.2|tab r104|tab r83.3|tab a1042|freetab 9000|freetab 7.4|freetab 7004|freetab 7800|freetab 2096|freetab 7.5|freetab 1014|freetab 1001 |freetab 8001|freetab 9706|freetab 9702|freetab 7003|freetab 7002|freetab 1002|freetab 7801|freetab 1331|freetab 1004|freetab 8002|freetab 8014|freetab 9704|freetab 1003|\b(argus[ _]?s|diamond[ _]?79hd|emerald[ _]?78e|luna[ _]?70c|onyx[ _]?s|onyx[ _]?z|orin[ _]?hd|orin[ _]?s|otis[ _]?s|speedstar[ _]?s|magnet[ _]?m9|primus[ _]?94[ _]?3g|primus[ _]?94hd|primus[ _]?qs|android.*\bq8\b|sirius[ _]?evo[ _]?qs|sirius[ _]?qs|spirit[ _]?s)\b|v07ot2|tm105a|s10ot1|tr10cs1|ezee[_']?(tab|go)[0-9]+|tablc7|looney tunes tab|smarttab([ ]+)?[0-9]+|smarttabii10|smart[ ']?tab[ ]+?[0-9]+|family[ ']?tab2|rm-790|rm-997|rmd-878g|rmd-974r|rmt-705a|rmt-701|rme-601|rmt-501|rmt-711|i-mobile i-note|tolino tab [0-9.]+|tolino shine|\bc-22q|t7-qc|t-17b|t-17p\b|android.* a78 |android.* (skypad|phoenix|cyclops)|tecno p9|android.*\b(f3000|a3300|jxd5000|jxd3000|jxd2000|jxd300b|jxd300|s5800|s7800|s602b|s5110b|s7300|s5300|s602|s603|s5100|s5110|s601|s7100a|p3000f|p3000s|p101|p200s|p1000m|p200m|p9100|p1000s|s6600b|s908|p1000|p300|s18|s6600|s9100)\b|tablet (spirit 7|essentia|galatea|fusion|onix 7|landa|titan|scooby|deox|stella|themis|argon|unique 7|sygnus|hexen|finity 7|cream|cream x2|jade|neon 7|neron 7|kandy|scape|saphyr 7|rebel|biox|rebel|rebel 8gb|myst|draco 7|myst|tab7-004|myst|tadeo jones|tablet boing|arrow|draco dual cam|aurix|mint|amity|revolution|finity 9|neon 9|t9w|amity 4gb dual cam|stone 4gb|stone 8gb|andromeda|silken|x2|andromeda ii|halley|flame|saphyr 9,7|touch 8|planet|triton|unique 10|hexen 10|memphis 4gb|memphis 8gb|onix 10)|fx2 pad7|fx2 pad10|kidspad 701|pad[ ]?712|pad[ ]?714|pad[ ]?716|pad[ ]?717|pad[ ]?718|pad[ ]?720|pad[ ]?721|pad[ ]?722|pad[ ]?790|pad[ ]?792|pad[ ]?900|pad[ ]?9715d|pad[ ]?9716dr|pad[ ]?9718dr|pad[ ]?9719qr|pad[ ]?9720qr|telepad1030|telepad1032|telepad730|telepad731|telepad732|telepad735q|telepad830|telepad9730|telepad795|megapad 1331|megapad 1851|megapad 2151|viewpad 10pi|viewpad 10e|viewpad 10s|viewpad e72|viewpad7|viewpad e100|viewpad 7e|viewsonic vb733|vb100a|loox|xeno10|odys space|captiva pad|nettab|nt-3702|nt-3702s|nt-3702s|nt-3603p|nt-3603p|nt-0704s|nt-0704s|nt-3805c|nt-3805c|nt-0806c|nt-0806c|nt-0909t|nt-0909t|nt-0907s|nt-0907s|nt-0902s|nt-0902s|hudl ht7s3|t-hub2|android.*\b97d\b|tablet(?!.*pc)|bntv250a|mid-wcdma|logicpd zoom2|\ba7eb\b|catnova8|a1_07|ct704|ct1002|\bm721\b|rk30sdk|\bevotab\b|m758a|et904|alumium10|smartfren tab|endeavour 1010|tablet-pc-4/i,e=/\biphone.*(mobile|phonegap)|\bipod|blackberry|\bbb10\b|rim[0-9]+|htc|htc.*(sensation|evo|vision|explorer|6800|8100|8900|a7272|s510e|c110e|legend|desire|t8282)|apx515ckt|qtek9090|apa9292kt|hd_mini|sensation.*z710e|pg86100|z715e|desire.*(a8181|hd)|adr6200|adr6400l|adr6425|001ht|inspire 4g|android.*\bevo\b|t-mobile g1|z520m|nexus one|nexus s|galaxy.*nexus|android.*nexus.*mobile|dell.*streak|dell.*aero|dell.*venue|dell.*venue pro|dell flash|dell smoke|dell mini 3ix|xcd28|xcd35|\b001dl\b|\b101dl\b|\bgs01\b|motorola|droidx|droid bionic|\bdroid\b.*build|android.*xoom|hri39|mot-|a1260|a1680|a555|a853|a855|a953|a955|a956|motorola.*electrify|motorola.*i1|i867|i940|mb200|mb300|mb501|mb502|mb508|mb511|mb520|mb525|mb526|mb611|mb612|mb632|mb810|mb855|mb860|mb861|mb865|mb870|me501|me502|me511|me525|me600|me632|me722|me811|me860|me863|me865|mt620|mt710|mt716|mt720|mt810|mt870|mt917|motorola.*titanium|wx435|wx445|xt300|xt301|xt311|xt316|xt317|xt319|xt320|xt390|xt502|xt530|xt531|xt532|xt535|xt603|xt610|xt611|xt615|xt681|xt701|xt702|xt711|xt720|xt800|xt806|xt860|xt862|xt875|xt882|xt883|xt894|xt901|xt907|xt909|xt910|xt912|xt928|xt926|xt915|xt919|xt925|samsung|sgh-i337|bgt-s5230|gt-b2100|gt-b2700|gt-b2710|gt-b3210|gt-b3310|gt-b3410|gt-b3730|gt-b3740|gt-b5510|gt-b5512|gt-b5722|gt-b6520|gt-b7300|gt-b7320|gt-b7330|gt-b7350|gt-b7510|gt-b7722|gt-b7800|gt-c3010|gt-c3011|gt-c3060|gt-c3200|gt-c3212|gt-c3212i|gt-c3262|gt-c3222|gt-c3300|gt-c3300k|gt-c3303|gt-c3303k|gt-c3310|gt-c3322|gt-c3330|gt-c3350|gt-c3500|gt-c3510|gt-c3530|gt-c3630|gt-c3780|gt-c5010|gt-c5212|gt-c6620|gt-c6625|gt-c6712|gt-e1050|gt-e1070|gt-e1075|gt-e1080|gt-e1081|gt-e1085|gt-e1087|gt-e1100|gt-e1107|gt-e1110|gt-e1120|gt-e1125|gt-e1130|gt-e1160|gt-e1170|gt-e1175|gt-e1180|gt-e1182|gt-e1200|gt-e1210|gt-e1225|gt-e1230|gt-e1390|gt-e2100|gt-e2120|gt-e2121|gt-e2152|gt-e2220|gt-e2222|gt-e2230|gt-e2232|gt-e2250|gt-e2370|gt-e2550|gt-e2652|gt-e3210|gt-e3213|gt-i5500|gt-i5503|gt-i5700|gt-i5800|gt-i5801|gt-i6410|gt-i6420|gt-i7110|gt-i7410|gt-i7500|gt-i8000|gt-i8150|gt-i8160|gt-i8190|gt-i8320|gt-i8330|gt-i8350|gt-i8530|gt-i8700|gt-i8703|gt-i8910|gt-i9000|gt-i9001|gt-i9003|gt-i9010|gt-i9020|gt-i9023|gt-i9070|gt-i9082|gt-i9100|gt-i9103|gt-i9220|gt-i9250|gt-i9300|gt-i9305|gt-i9500|gt-i9505|gt-m3510|gt-m5650|gt-m7500|gt-m7600|gt-m7603|gt-m8800|gt-m8910|gt-n7000|gt-s3110|gt-s3310|gt-s3350|gt-s3353|gt-s3370|gt-s3650|gt-s3653|gt-s3770|gt-s3850|gt-s5210|gt-s5220|gt-s5229|gt-s5230|gt-s5233|gt-s5250|gt-s5253|gt-s5260|gt-s5263|gt-s5270|gt-s5300|gt-s5330|gt-s5350|gt-s5360|gt-s5363|gt-s5369|gt-s5380|gt-s5380d|gt-s5560|gt-s5570|gt-s5600|gt-s5603|gt-s5610|gt-s5620|gt-s5660|gt-s5670|gt-s5690|gt-s5750|gt-s5780|gt-s5830|gt-s5839|gt-s6102|gt-s6500|gt-s7070|gt-s7200|gt-s7220|gt-s7230|gt-s7233|gt-s7250|gt-s7500|gt-s7530|gt-s7550|gt-s7562|gt-s7710|gt-s8000|gt-s8003|gt-s8500|gt-s8530|gt-s8600|sch-a310|sch-a530|sch-a570|sch-a610|sch-a630|sch-a650|sch-a790|sch-a795|sch-a850|sch-a870|sch-a890|sch-a930|sch-a950|sch-a970|sch-a990|sch-i100|sch-i110|sch-i400|sch-i405|sch-i500|sch-i510|sch-i515|sch-i600|sch-i730|sch-i760|sch-i770|sch-i830|sch-i910|sch-i920|sch-i959|sch-lc11|sch-n150|sch-n300|sch-r100|sch-r300|sch-r351|sch-r400|sch-r410|sch-t300|sch-u310|sch-u320|sch-u350|sch-u360|sch-u365|sch-u370|sch-u380|sch-u410|sch-u430|sch-u450|sch-u460|sch-u470|sch-u490|sch-u540|sch-u550|sch-u620|sch-u640|sch-u650|sch-u660|sch-u700|sch-u740|sch-u750|sch-u810|sch-u820|sch-u900|sch-u940|sch-u960|scs-26uc|sgh-a107|sgh-a117|sgh-a127|sgh-a137|sgh-a157|sgh-a167|sgh-a177|sgh-a187|sgh-a197|sgh-a227|sgh-a237|sgh-a257|sgh-a437|sgh-a517|sgh-a597|sgh-a637|sgh-a657|sgh-a667|sgh-a687|sgh-a697|sgh-a707|sgh-a717|sgh-a727|sgh-a737|sgh-a747|sgh-a767|sgh-a777|sgh-a797|sgh-a817|sgh-a827|sgh-a837|sgh-a847|sgh-a867|sgh-a877|sgh-a887|sgh-a897|sgh-a927|sgh-b100|sgh-b130|sgh-b200|sgh-b220|sgh-c100|sgh-c110|sgh-c120|sgh-c130|sgh-c140|sgh-c160|sgh-c170|sgh-c180|sgh-c200|sgh-c207|sgh-c210|sgh-c225|sgh-c230|sgh-c417|sgh-c450|sgh-d307|sgh-d347|sgh-d357|sgh-d407|sgh-d415|sgh-d780|sgh-d807|sgh-d980|sgh-e105|sgh-e200|sgh-e315|sgh-e316|sgh-e317|sgh-e335|sgh-e590|sgh-e635|sgh-e715|sgh-e890|sgh-f300|sgh-f480|sgh-i200|sgh-i300|sgh-i320|sgh-i550|sgh-i577|sgh-i600|sgh-i607|sgh-i617|sgh-i627|sgh-i637|sgh-i677|sgh-i700|sgh-i717|sgh-i727|sgh-i747m|sgh-i777|sgh-i780|sgh-i827|sgh-i847|sgh-i857|sgh-i896|sgh-i897|sgh-i900|sgh-i907|sgh-i917|sgh-i927|sgh-i937|sgh-i997|sgh-j150|sgh-j200|sgh-l170|sgh-l700|sgh-m110|sgh-m150|sgh-m200|sgh-n105|sgh-n500|sgh-n600|sgh-n620|sgh-n625|sgh-n700|sgh-n710|sgh-p107|sgh-p207|sgh-p300|sgh-p310|sgh-p520|sgh-p735|sgh-p777|sgh-q105|sgh-r210|sgh-r220|sgh-r225|sgh-s105|sgh-s307|sgh-t109|sgh-t119|sgh-t139|sgh-t209|sgh-t219|sgh-t229|sgh-t239|sgh-t249|sgh-t259|sgh-t309|sgh-t319|sgh-t329|sgh-t339|sgh-t349|sgh-t359|sgh-t369|sgh-t379|sgh-t409|sgh-t429|sgh-t439|sgh-t459|sgh-t469|sgh-t479|sgh-t499|sgh-t509|sgh-t519|sgh-t539|sgh-t559|sgh-t589|sgh-t609|sgh-t619|sgh-t629|sgh-t639|sgh-t659|sgh-t669|sgh-t679|sgh-t709|sgh-t719|sgh-t729|sgh-t739|sgh-t746|sgh-t749|sgh-t759|sgh-t769|sgh-t809|sgh-t819|sgh-t839|sgh-t919|sgh-t929|sgh-t939|sgh-t959|sgh-t989|sgh-u100|sgh-u200|sgh-u800|sgh-v205|sgh-v206|sgh-x100|sgh-x105|sgh-x120|sgh-x140|sgh-x426|sgh-x427|sgh-x475|sgh-x495|sgh-x497|sgh-x507|sgh-x600|sgh-x610|sgh-x620|sgh-x630|sgh-x700|sgh-x820|sgh-x890|sgh-z130|sgh-z150|sgh-z170|sgh-zx10|sgh-zx20|shw-m110|sph-a120|sph-a400|sph-a420|sph-a460|sph-a500|sph-a560|sph-a600|sph-a620|sph-a660|sph-a700|sph-a740|sph-a760|sph-a790|sph-a800|sph-a820|sph-a840|sph-a880|sph-a900|sph-a940|sph-a960|sph-d600|sph-d700|sph-d710|sph-d720|sph-i300|sph-i325|sph-i330|sph-i350|sph-i500|sph-i600|sph-i700|sph-l700|sph-m100|sph-m220|sph-m240|sph-m300|sph-m305|sph-m320|sph-m330|sph-m350|sph-m360|sph-m370|sph-m380|sph-m510|sph-m540|sph-m550|sph-m560|sph-m570|sph-m580|sph-m610|sph-m620|sph-m630|sph-m800|sph-m810|sph-m850|sph-m900|sph-m910|sph-m920|sph-m930|sph-n100|sph-n200|sph-n240|sph-n300|sph-n400|sph-z400|swc-e100|sch-i909|gt-n7100|gt-n7105|sch-i535|sm-n900a|sgh-i317|sgh-t999l|gt-s5360b|gt-i8262|gt-s6802|gt-s6312|gt-s6310|gt-s5312|gt-s5310|gt-i9105|gt-i8510|gt-s6790n|sm-g7105|sm-n9005|gt-s5301|gt-i9295|gt-i9195|sm-c101|gt-s7392|gt-s7560|gt-b7610|gt-i5510|gt-s7582|gt-s7530e|\blg\b;|lg[- ]?(c800|c900|e400|e610|e900|e-900|f160|f180k|f180l|f180s|730|855|l160|ls840|ls970|lu6200|ms690|ms695|ms770|ms840|ms870|ms910|p500|p700|p705|vm696|as680|as695|ax840|c729|e970|gs505|272|c395|e739bk|e960|l55c|l75c|ls696|ls860|p769bk|p350|p500|p509|p870|un272|us730|vs840|vs950|ln272|ln510|ls670|ls855|lw690|mn270|mn510|p509|p769|p930|un200|un270|un510|un610|us670|us740|us760|ux265|ux840|vn271|vn530|vs660|vs700|vs740|vs750|vs910|vs920|vs930|vx9200|vx11000|ax840a|lw770|p506|p925|p999|e612|d955|d802)|sonyst|sonylt|sonyericsson|sonyericssonlt15iv|lt18i|e10i|lt28h|lt26w|sonyericssonmt27i|asus.*galaxy|padfone.*mobile|micromax.*\b(a210|a92|a88|a72|a111|a110q|a115|a116|a110|a90s|a26|a51|a35|a54|a25|a27|a89|a68|a65|a57|a90)\b|palmsource|palm|vertu|vertu.*ltd|vertu.*ascent|vertu.*ayxta|vertu.*constellation(f|quest)?|vertu.*monika|vertu.*signature|pantech|im-a850s|im-a840s|im-a830l|im-a830k|im-a830s|im-a820l|im-a810k|im-a810s|im-a800s|im-t100k|im-a725l|im-a780l|im-a775c|im-a770k|im-a760s|im-a750k|im-a740s|im-a730s|im-a720l|im-a710k|im-a690l|im-a690s|im-a650s|im-a630k|im-a600s|vega ptl21|pt003|p8010|adr910l|p6030|p6020|p9070|p4100|p9060|p5000|cdm8992|txt8045|adr8995|is11pt|p2030|p6010|p8000|pt002|is06|cdm8999|p9050|pt001|txt8040|p2020|p9020|p2000|p7040|p7000|c790|iq230|iq444|iq450|iq440|iq442|iq441|iq245|iq256|iq236|iq255|iq235|iq245|iq275|iq240|iq285|iq280|iq270|iq260|iq250|i-mobile (iq|i-style|idea|zaa|hitz)|\b(sp-80|xt-930|sx-340|xt-930|sx-310|sp-360|sp60|spt-800|sp-120|spt-800|sp-140|spx-5|spx-8|sp-100|spx-8|spx-12)\b|tapatalk|pda;|sagem|\bmmp\b|pocket|\bpsp\b|symbian|smartphone|smartfon|treo|up.browser|up.link|vodafone|\bwap\b|nokia|series40|series60|s60|sonyericsson|n900|maui.*wap.*browser/i,o=navigator.userAgent||navigator.vendor||window.opera;
return 1==e.test(o)&&0==t.test(o)},Yotpo.compact=function(t){for(var e in t)!t.hasOwnProperty(e)||"undefined"!=typeof t[e]&&null!=t[e]||delete t[e];return t},Yotpo.forEach=function(t,e){if(Array.prototype.forEach)t.forEach(e);else{if("function"!=typeof e)throw new TypeError;for(var o=arguments.length>=2?arguments[1]:void 0,n=0;n<t.length;n++)n in t&&e.call(o,t[n],n,t)}},Yotpo.getElementText=function(t){return t.textContent||t.innerText},Yotpo.origin=function(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},Yotpo.preloadImages=function(t,e,o,n,i){var r=0,a=[];t="[object Array]"===Object.prototype.toString.apply(t)?t:[t];for(var s=function(){r+=1,r===t.length&&e&&e(o)},l=0;l<t.length;l++)a[l]=new Image,n&&(a[l].onabort=a[l].onerror=function(){n(i)}),a[l].onload=s,a[l].src=t[l]},Yotpo.emojiRegex=new RegExp("\ud83c[\udf00-\udfff]|\ud83d[\udc00-\ude4f]|\ud83d[\ude80-\udeff]","g"),Yotpo.Animations=function(t){function e(){}function o(t,e){e=e/1e3+"s",t.style["-webkit-transition-duration"]=e,t.style["-webkit-transition-duration"]=e,t.style["-moz-transition-duration"]=e,t.style["-o-transition-duration"]=e,t.style["-ms-transition-duration"]=e,t.style["transition-duration"]=e}return e.slideDown=function(e){t.removeClass(e,"yotpo-animation-fade");var o=e.parentNode.offsetWidth+"px";e.style.position="absolute",e.style.right="-10000px",e.style.top="-10000px",e.style.display="block",e.style.width=o;var n=e.offsetHeight+"px";e.style.height=0,e.style.width="",e.style.overflow="hidden",e.style.right="0",e.style.top="0",e.style.position="relative",setTimeout(function(){t.addClass(e,"yotpo-animation-slide")},10),setTimeout(function(){e.style.height=n},20),setTimeout(function(){e.style.height="auto",t.removeClass(e,"yotpo-animation-slide")},1e3)},e.slideUp=function(e){t.removeClass(e,"yotpo-animation-fade");var o=e.offsetHeight+"px";t.addClass(e,"yotpo-animation-slide"),e.style.height=o,e.style.overflow="hidden",setTimeout(function(){e.style.height="0px"},10),setTimeout(function(){e.style.height=o,t.removeClass(e,"yotpo-animation-slide"),e.style.display="none"},1e3)},e.toggleSlide=function(e){"block"!=t.getDisplayStyle(e)?t.Animations.slideDown(e):t.Animations.slideUp(e)},e.fadeIn=function(e,n){n=n||"200",t.addClass(e,"yotpo-animation-fade"),t.removeClass(e,"yotpo-hidden"),o(e,n),e.style.opacity=0,e.style.display="inherit",setTimeout(function(){e.style.opacity=1,t.removeClass(e,"yotpo-animation-fade")},1)},e.fadeOut=function(e,n){n=n||"200",t.addClass(e,"yotpo-animation-fade"),o(e,n),setTimeout(function(){e.style.opacity=0},1),setTimeout(function(){e.style.display="none",t.removeClass(e,"yotpo-animation-fade")},n)},e.toggleFade=function(e,o){"none"==t.getDisplayStyle(e)?t.Animations.fadeIn(e,o):t.Animations.fadeOut(e,o)},e}(Yotpo),Yotpo.Session=function(t){function e(){}return e.prototype.get=function(e,o){var n=this,i={token:{route:t.getWidgetHost("dynamic")+"/sessions/login",handler:function(t){return t.token}},user:{route:t.getApiHost("dynamic")+"/users/me?utoken="+n.token,handler:function(t){return t.response.user}}};n[e]?o(n[e]):t.ajax(i[e].route,function(t){try{t=JSON.parse(t),n[e]=i[e].handler(t)}catch(r){}o(n[e])})},e.prototype.init=function(){var e=this;t.ajax(t.getWidgetHost("dynamic")+"/sessions/sign_in_url",function(t){t=JSON.parse(t),e.signInUrl=t.url,e.trigger("init")})},e.prototype.signInNetwork=function(t){return this.signInUrl+"&network="+t},e.prototype.checkLogin=function(t){var e=this;e.get("token",function(){e.trigger("checkLogin",{submit:t||!1})})},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e}(Yotpo),Yotpo.Review=function(t){function e(e){this.params={},t.copy(e,this.params)}function o(){var e=350,o=this.getElementsByClassName("content-review")[0],i=o.innerHTML;if(!(i.length<e)){var r=i.substr(e-10,20),a=r.search(/(<[^>]*>)/);e=a>0?e-10+a:e;var s=i.substring(0,e)+"<span class='yotpo-read-more' data-position='closed'>..."+t.texts.read_more+"</span>",l='<p class="rest-content-collapsed">'+i.substring(e)+"<span class='yotpo-read-more' data-position='opened'>"+t.texts.read_less+"</span></p>";o.innerHTML=s+l,n.call(this)}}function n(){function e(){if("closed"==this.getAttribute("data-position"))this.style.display="none",t.Animations.fadeIn(o,"1000");else{var e=this.parentNode.parentNode.querySelector(".yotpo-read-more[data-position=closed]");t.Animations.fadeOut(o,"500"),setTimeout(function(){e.style.display="inline"},500)}}for(var o=this.getElementsByClassName("rest-content-collapsed")[0],n=this.getElementsByClassName("yotpo-read-more"),i=0;i<n.length;++i)n[i].onclick=function(){e.call(this),t.currentAnalytics.trackEvent("reviews","clicked_on","widget_expand_content")}}function i(t,e,o,n,i){var s=t.querySelector(".yotpo-product-related-fields"),l=2;e&&(l=e%2==1?0:1);var c=s.querySelectorAll(".yotpo-product-related-fields-column")[l];r(c,n),a(c,o,i)}function r(e,o){var n=e.querySelector(".yotpo-product-related-fields-names"),i=n.querySelector(".yotpo-product-related-field-name.yotpo-template-field"),r=i.cloneNode(!0);r.innerHTML=o+":",t.removeClass(r,"yotpo-hidden"),t.removeClass(r,"yotpo-template-field");var a=document.createElement("div");a.appendChild(r),n.insertAdjacentHTML("beforeend",a.innerHTML)}function a(e,o,n){var i=e.querySelector(".yotpo-product-related-fields-bars"),r=i.querySelector(".yotpo-"+o.toLowerCase()+"-bars.yotpo-template-field"),a=r.cloneNode(!0);s(n,a,o),t.removeClass(a,"yotpo-hidden"),t.removeClass(a,"yotpo-template-field");var l=document.createElement("div");l.appendChild(a);var c=document.createElement("div");t.addClass(c,"yotpo-clr"),l.appendChild(c),i.insertAdjacentHTML("beforeend",l.innerHTML)}function s(e,o,n){var i=parseInt(e),r=o.getElementsByClassName("yotpo-product-related-field-score-bar");switch(n.toLowerCase()){case"rating":for(var a=0;a<r.length&&i>=a+1;a++)t.addClass(r[a],"yotpo-rating-bar-full");break;case"size":var s=r[2*(i-1)],l=2==i?"fit":"offset";t.removeClass(s,"yotpo-size-bar-empty"),t.addClass(s,"yotpo-size-bar-"+l)}}return e.load=function(e){var n=new t.Review({id:+e.getAttribute("data-review-id")});return t.Modules.Handle.action.call(e),t.Modules.Handle.tooltip.call(e),t.Modules.Vote.bind.call(e,n),o.call(e),n},e.prototype.get=function(t){return this.params[t]},e.prototype.getType=function(){return"review"},e.prototype.setUser=function(t){this.user=t},e.prototype.save=function(e){e=e||!1;var o=this,n=t.convertComplexObjectToQueryStringParams(this.params),i=t.getApiHost()+(e?"/v1/widget/reviews":"/reviews/dynamic_create.json");"GET"==t.dynamicCreateType&&(i+="?"+n),t.ajax(i,function(t){o.data=JSON.parse(t);var e=o.data.code||o.data.status.code;switch(e){case 200:o.trigger("save");break;default:o.trigger("error")}},t.dynamicCreateType,n)},e.prototype.vote=function(e,o){t.Modules.Vote.perform.call(this,e,o),t.currentAnalytics.trackEvent("reviews","clicked_on","vote_"+e)},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.render=function(e){var o=this.user?this.user.display_name:this.get("display_name"),n=e.cloneNode(!0);n.querySelector(".yotpo-user-letter").innerHTML=o.substr(0,1).toUpperCase(),n.querySelector(".yotpo-user-name").innerHTML=o;var r=n.querySelector(".yotpo-header"),a=r.querySelector(".label-with-tooltip");this.user?(t.addClass(r,"yotpo-verified-user"),t.removeClass(a,"yotpo-hidden")):(t.removeClass(r,"yotpo-verified-user"),t.addClass(a,"yotpo-hidden"));for(var s=n.querySelectorAll(".yotpo-review-stars .yotpo-icon"),l=+this.get("review_score"),c=0;c<s.length;++c)t.removeClass(s[c],l>c?"yotpo-icon-empty-star":"yotpo-icon-star"),t.addClass(s[c],c>=l?"yotpo-icon-empty-star":"yotpo-icon-star");n.querySelector(".content-title").innerHTML=this.get("review_title"),n.querySelector(".content-review").innerHTML=this.get("review_content").replace(/\n/g,"</br>");for(var u=n.querySelectorAll(".social-link"),c=0;c<u.length;++c){var d=this.shareLink(u[c].getAttribute("data-network").toLowerCase()).get("link");u[c].setAttribute("href",d)}var g=yotpo.getUserSettings().custom_fields_info,p=1,m=0,h=0;for(var f in this.params)if(f.indexOf("custom_fields")>-1){var y=f.match(/\[(.*?)\]/).pop(),v=g[y].field_type,w=g[y].title,b=this.get(f);if(["Rating","Size"].indexOf(v)>-1&&b>0)i(n,p,v,w,b),i(n,null,v,w,b),p++,m++;else for(var k=n.querySelectorAll(".yotpo-user-related-fields"),c=0;c<k.length;c++){var S=k[c],A=S.querySelector(".yotpo-user-field.yotpo-template-field").cloneNode(!0);if(b){if(b instanceof Array){if(0==b.length)continue;b=b.join(", ")}h++,A.querySelector(".yotpo-user-field-description").innerHTML=w+":",A.querySelector(".yotpo-user-field-answer").innerHTML=b,t.removeClass(A,"yotpo-hidden"),t.removeClass(A,"yotpo-template-field"),S.appendChild(A)}}}if(!m){var E=n.querySelector(".yotpo-product-related-fields");E&&t.addClass(E,"yotpo-hidden")}if(!h){var _=n.querySelector(".yotpo-user-related-fields");_&&t.addClass(_,"yotpo-hidden")}t.removeClass(n,"yotpo-template"),t.removeClass(n,"yotpo-hidden");var C=document.createElement("div");C.appendChild(n),e.insertAdjacentHTML("afterend",C.innerHTML),t.Modules.Handle.action.call(e.nextSibling)},e.prototype.shareLinks=function(){var e=this;return e._shareLinks||(e._shareLinks={},t.forEach(["facebook","twitter","google","linkedin"],function(o){e._shareLinks[o]=new t.ShareLink(o,e.params)})),e._shareLinks},e.prototype.shareLink=function(t){return this.shareLinks()[t]},e}(Yotpo),Yotpo.Question=function(t){function e(e){this.params={},t.copy(e,this.params)}return e.load=function(e){var o=new t.Question({id:+e.getAttribute("data-question-id")});t.Modules.Handle.action.call(e),t.Modules.Handle.tooltip.call(e);for(var n,i=e.querySelectorAll(".yotpo-comment"),r=0;n=i[r];r++)t.Answer.load(n);return o},e.prototype.setUser=function(t){this.user=t},e.prototype.save=function(){var e=this,o=t.getApiHost()+"/questions/send_confirmation_mail",n=t.convertHashToQueryStringParams(this.params);"GET"==t.dynamicCreateType&&(o+="?"+n),t.ajax(o,function(t){e.data=JSON.parse(t),e.trigger("save")},t.dynamicCreateType,n)},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e}(Yotpo),Yotpo.Answer=function(t){function e(e){this.params={},t.copy(e,this.params)}return e.load=function(e){var o=new t.Answer({id:+e.getAttribute("data-answer-id")});return t.Modules.Vote.bind.call(e,o),o},e.prototype.vote=function(e,o){t.Modules.Vote.perform.call(this,e,o),t.currentAnalytics.trackEvent("answers","clicked_on","vote_"+e)},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.get=function(t){return this.params[t]},e.prototype.getType=function(){return"answer"},e}(Yotpo),Yotpo.Tabs=function(t){function e(t){var e=this;e.element=t,e.tabs=e.element.querySelectorAll("li[data-content]");for(var o=0;o<e.tabs.length;++o)e.tabs[o].onclick=function(t){return e.activate(this)&&e.trigger("changed",{element:this,event:t}),!1}}return e.prototype.getElement=function(){return this.element},e.prototype.getTabs=function(){return this.tabs},e.prototype.getTab=function(t){for(var e=0;e<this.tabs.length;++e)if(this.tabs[e].getAttribute("data-type")==t)return this.tabs[e];return null},e.prototype.getActive=function(){for(var e=0;e<this.tabs.length;++e)if(t.hasClass(this.tabs[e],"yotpo-active"))return this.tabs[e]},e.prototype.activate=function(e){if(t.hasClass(e,"yotpo-active"))return!1;for(var o=0;o<this.tabs.length;++o)t.removeClass(this.tabs[o],"yotpo-active"),t.forEach(this.tabs[o].getAttribute("data-content").split(" "),function(e){t.removeClass(document.getElementById(e),"yotpo-active")});return t.addClass(e,"yotpo-active"),t.forEach(e.getAttribute("data-content").split(" "),function(e){t.addClass(document.getElementById(e),"yotpo-active")}),!0},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e}(Yotpo),Yotpo.Select=function(t){function e(t){this.element=t,this.selected=this.element.getElementsByClassName("selected")[0],this.list=this.element.getElementsByClassName("list-categories")[0];for(var e in n)n.hasOwnProperty(e)&&this.on(e,n[e]);o.call(this)}function o(){var e=this,o=[];o.push({name:"toggle",elements:e.element.querySelectorAll(".yotpo-dropdown-button .selected, .yotpo-dropdown-button .yotpo-icon")}),o.push({name:"change",elements:e.list.getElementsByClassName("list-category")}),t.forEach(o,function(o){for(var n=0;n<o.elements.length;++n)t.addEventListener(o.elements[n],"click",function(t,o){return function(n){e.trigger(t,{element:o},n)}}(o.name,o.elements[n]))}),t.addEventListener(window,"click",function(){e.list.style.display="none"})}var n={};return e.prototype.getElement=function(){return this.element},e.prototype.getType=function(){return this.element.getAttribute("data-type")},e.prototype.getValue=function(){return this.element.getAttribute("data-value")},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o,n){t.Modules.Event.trigger.call(this,e,o,n)},n={toggle:function(e,o){t.toggleVisibility(this.list),o?"undefined"!=typeof o.stopPropagation?o.stopPropagation():o.cancelBubble=!0:window.event.cancelBubble=!0},change:function(e,o){this.element.setAttribute("data-value",e.element.getAttribute("data-value"));for(var i=["property","label","category"],r=0;r<i.length;++r)attrName="data-analytic-"+i[r],e.element.getAttribute(attrName)&&this.element.setAttribute(attrName,e.element.getAttribute(attrName));this.element.getAttribute("data-analytic-category")&&t.currentAnalytics.trackEvent(this.element.getAttribute("data-analytic-category"),"clicked_on",this.element.getAttribute("data-analytic-label"),this.element.getAttribute("data-analytic-property")),this.selected.innerHTML=t.getElementText(e.element.children[0]),n.toggle.call(this,e,o)}},e}(Yotpo),Yotpo.Stars=function(t){function e(t){this.element=t,this.stars=this.element.getElementsByClassName("review-star"),this.score=0,o.call(this)}function o(){for(var t=this,e=0;e<t.stars.length;++e)t.stars[e].onclick=function(){t.setScore(+this.getAttribute("data-score")),t.trigger("changed")},t.stars[e].onmouseover=function(){n.call(t.stars,+this.getAttribute("data-score"))};t.element.onmouseout=function(){n.call(t.stars,t.getScore())}}function n(t){for(var e=0;e<this.length;++e)i.call(this[e],t>e)}function i(e){var o=e?"yotpo-icon-star":"yotpo-icon-empty-star",n=e?"yotpo-icon-empty-star":"yotpo-icon-star";t.hasClass(this,o)||(t.addClass(this,o),t.removeClass(this,n))}return e.prototype.getElement=function(){return this.element},e.prototype.getStars=function(){return this.stars},e.prototype.getScore=function(){return this.score},e.prototype.setScore=function(t){this.score=t,n.call(this.stars,t)},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e}(Yotpo),Yotpo.Messages=function(t){function e(t){this.messages={};for(var e,n=0;e=t[n];n++)for(var i=e.querySelectorAll(".yotpo-thank-you, .yotpo-thankyou-confirmation"),r=0;r<i.length;++r)this.messages[i[r].getAttribute("data-type")]=i[r];o.call(this.messages)}function o(){var e=this;t.forEach(Object.keys(e),function(o){var n=e[o],i=n.querySelectorAll(".yotpo-icon-cross")[0];i&&(i.onclick=function(){t.addClass(n,"yotpo-hidden")})})}return e.prototype.get=function(t){return this.messages[t]},e.prototype.show=function(e){t.removeClass(this.messages[e],"yotpo-hidden")},e.prototype.hide=function(e){t.addClass(this.messages[e],"yotpo-hidden")},e.prototype.hideAll=function(){for(var e in this.messages){var o=this.messages[e];this.messages.hasOwnProperty(e)&&!t.hasClass(o,"yotpo-hidden")&&t.addClass(o,"yotpo-hidden")}},e}(Yotpo),Yotpo.Form=function(t){function e(e,o){this._controller=e,this.element=o,this.submitButton=this.element.getElementsByClassName("yotpo-submit")[0],this.customFields=new t.CustomFields(this.getElement().getElementsByClassName("form-element yotpo-custom-tag-field")),n.call(this),i.call(this),r.call(this),this.getElement().querySelector(".socialize-wrapper")&&a.call(this),l.call(this),c.call(this),t.Modules.Handle.popup.call(this)}function o(e){for(var o in e)if(-1==o.search("custom_fields")&&e.hasOwnProperty(o)){e[o]=t.cleanInput(e[o]);for(var n in d[o])if(d[o].hasOwnProperty(n)&&0==d[o][n](e[o]))throw{message:"FieldNotValid:"+o,field:o,type:n}}}function n(){var e=this,o=this.getElement().getElementsByClassName("stars-wrapper")[0];o&&(e.stars=new t.Stars(o),e.stars.on("changed",function(){t.currentAnalytics.trackEvent(e._controller.analyticsCategory,"clicked_on",e.stars.getScore())}))}function i(){var t=this;t.error={},t.error.box=t.getElement().getElementsByClassName("error-box")[0],t.error.box.getElementsByClassName("yotpo-icon-cross")[0].onclick=function(){t.hideErrorBox()}}function r(){var e=this,o=e.getElement().querySelector(".write-form > .write-review > .yotpo-icon-btn > .yotpo-icon-cross");o&&(o.onclick=function(){t.removeClass(e.getElement(),"visible"),e.getElement().style.display="none"})}function a(){var e=this,o=new t.Session;o.on("checkLogin",function(t){o.token&&o.get("user",function(n){n.token=o.token,s.call(e,n),t.submit&&e.submit()})}),e.on("opened",function(){o.checkLogin()}),o.on("init",function(){for(var n=e.getElement().querySelectorAll(".socialize .yotpo-icon-btn"),i=0;i<n.length;++i)n[i].onclick=function(n){return function(){t.currentAnalytics.trackEvent(e._controller.analyticsCategory,"clicked_on","connect_"+n);var i=window.open(o.signInNetwork(n),"","status=no,toolbar=no,location=no,menubar=no,directories=no,scrollbars=yes,resizeable=yes,width="+g[n][0]+",height="+g[n][1]+",top=200,left=400");window.focus&&i.focus();var r=setInterval(function(){i.closed&&(clearInterval(r),o.checkLogin(!0))},200);return!1}}(n[i].getAttribute("data-network"))}),o.init()}function s(e){this.user=e;var o=this.getElement().querySelector(".socialize-wrapper .username");o&&(o.innerHTML=this.user.name);var n=[];n.push({elements:this.getElement().querySelectorAll(".socialize-wrapper .socialize, .socialize-wrapper .yotpo-or, .connect-wrapper .form-element"),name:"hide"}),n.push({elements:this.getElement().querySelectorAll(".socialize-wrapper .connected, .yotpo-footer"),name:"show"}),t.forEach(n,function(e){for(var o=0;o<e.elements.length;++o)t[e.name](e.elements[o])}),this.activate()}function l(){var e=this;e.submitButton.onclick=function(){t.hasClass(e.submitButton,"yotpo-disabled")||e.submit()}}function c(){var e=this,o=e.getElement().getElementsByClassName("write-review")[0];o.onkeydown=function(o){o=o||event,13!=o.keyCode||t.hasClass(o.srcElement,"yotpo-text-box")||e.submit()}}function u(e){for(var o=this.getElementsByClassName("social-link"),n=0;n<o.length;++n){var i=o[n].getAttribute("data-network");o[n].href=e[i].get("link")}t.Modules.Handle.popup.call(this)}var d={},g={};return e.prototype.getElement=function(){return this.element},e.prototype.getType=function(){var t=this._controller.getActiveSource()?this._controller.getActiveSource().getType():this._controller.get("settings").mode||"reviews";return t=t.substr(0,t.length-1)},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.activate=function(){t.removeClass(this.submitButton,"yotpo-disabled")},e.prototype.submit=function(){t.addClass(this.submitButton,"yotpo-disabled"),this.cleanErrors();var e={};"undefined"!=typeof this.stars&&(e.review_score=this.stars.getScore().toString());for(var o=this.getElement().getElementsByClassName("form-element"),n={},i=0;i<o.length;++i){var r=o[i];if(!t.isHidden(r)){var a=r.getElementsByClassName("y-input");if(a.length){var s=a[0];if(!s.name)continue;n[s.name]=s,e[s.name]=s.value}}}t.copy(this.customFields.getValues(),e);var l=this._controller._controller;l.getUserReference()&&t.hasClass(this.element,"write-review-wrapper")&&(e.user_reference=l.getUserReference());try{this.saveContent(this.getType(),e)}catch(c){t.removeClass(this.submitButton,"yotpo-disabled");var u=n[c.field]||this.customFields.getFieldElement(c.field);u&&(t.hasClass(u,"yotpo-custom-tag-field")?t.addClass(u.querySelector(".yotpo-field-title"),"yotpo-custom-field-error"):t.addClass(u,"error")),"empty"==c.type&&("review_title"==c.field?t.currentAnalytics.trackEvent(this._controller.analyticsCategory,"failure_forgot","title"):"review_content"==c.field&&t.currentAnalytics.trackEvent(this._controller.analyticsCategory,"failure_forgot","body")),"review_score"==c.field&&(u=this.stars.getElement()),this.showError(u,c.type)}},e.prototype.visible=function(){return t.hasClass(this.getElement(),"visible")},e.prototype.clean=function(){function e(e){t.removeClass(e,"visible"),e.style.display="none"}e(this.getElement());for(var o=this.getElement().getElementsByClassName("visible"),n=o.length-1;n>=0;--n)e(o[n]);for(var i=this.getElement().querySelectorAll(".form-element .y-input[name]"),n=0;n<i.length;++n)i[n].value="";this.customFields.reset(),"undefined"!=typeof this.stars&&this.stars.setScore(0),this.submitButton.style.marginTop=null},e.prototype.showError=function(e,o){for(var n=this.error.box.getElementsByClassName("error-text"),i=0;i<n.length;i++)t.hasClass(n[i],o)?t.show(n[i]):t.hide(n[i]);t.removeClass(this.error.box,"yotpo-hidden")},e.prototype.hideErrorBox=function(){t.addClass(this.error.box,"yotpo-hidden")},e.prototype.cleanErrors=function(){this.hideErrorBox(),this.customFields.cleanErrors();for(var e=this.getElement().querySelectorAll(".y-input.error"),o=0;o<e.length;++o)t.removeClass(e[o],"error")},e.prototype.saveContent=function(e,n){var i=this,r=i._controller._controller,a=0!=r.getUserSetting("async_create");if(o(n),i._controller.tabs&&"site"==i._controller.tabs.getActive().getAttribute("data-type")?n.product_tags&&delete n.product_tags:this.customFields.validate(n),n.appkey=i._controller.getAppKey(),"my.yotpo.com"==window.location.host){var s=window.location.pathname;n.review_source="/facebook_testimonials"==s?"widget_v2_facebook_tab":"/site_reviews_landing_page"==s?"widget_v2_dedicated_page":"widget_v2"}else n.review_source="widget_v2";this.user&&(n.utoken=this.user.token),t.copy(i._controller.getProductInfo(),n);var l=!1,c=i._controller._controller.getUserSetting("vendor_review_creation");if(c){var d=i._controller._controller.getTrustedVendorsData();if(Object.keys(d).length>0&&("1"==c.settings.show_name_field&&delete d.display_name,l=!0,t.copy(d,n),i._controller.tabs&&"site"==i._controller.tabs.getActive().getAttribute("data-type"))){var g=i._controller._controller.getWidgetByName("Main");g&&t.copy({page_pid:g.settings.pid},n)}}r.getUserSetting("prevent_duplicate_reviews")&&(n.prevent_duplicate_review=!0);var p=t[t.capitalize(e)];if("undefined"==typeof p)throw"Error resource is undefined - "+p;var m=this.getElement();t.togglePreLoader(m),t.currentAnalytics.trackEvent(i._controller.analyticsCategory,"shown","review_posted");var h=new p(n);h.on("save",function(){t.togglePreLoader(m);var o=i._controller.getActiveSource(),n=o?o.getTemplate():null,a="undefined"!=typeof r.getUserSetting("account_settings").settings.auto_publish&&"review"==e,s=r.getUserSetting("show_social_links"),c=i._controller.get("messages");"function"==typeof h.shareLinks&&u.call(c.get("share"),h.shareLinks()),n?(h.render(n),o.trigger("updated")):(i.clean(),c.show(a||s?"share":"pending-for-"+e+"-approval"),"question"!=e||l||c.show("question-approval"))}),h.on("error",function(){t.togglePreLoader(m),400==this.data.code&&"duplicate_review"==this.data.message&&(t.currentAnalytics.trackEvent(i._controller.analyticsCategory,"shown","duplicate_reviews"),i.showError(m.querySelector("[name=review_content]"),"user-already-reviewed"))}),h.setUser(this.user),h.save(a)},e.prototype.setInputField=function(t,e){var o=this.getInputField(t);o&&(o.value=e)},e.prototype.getInputField=function(t){return this.element.querySelector('input[name="'+t+'"]')},d={appkey:{empty:t.validateStringMinLength,max_length:t.validateStringMaxLength},email:{email:t.validateEmail},display_name:{display_name_empty:t.validateStringMinLength,max_length:function(e){return t.validateStringMaxLength(e,40)}},sku:{empty:t.validateStringMinLength,max_length:t.validateStringMaxLength},product_title:{empty:t.validateStringMinLength,max_length:t.validateStringMaxLength},product_description:{max_length:function(e){return t.validateStringMaxLength(e,1e3)}},product_url:{empty:t.validateStringMinLength,max_length:t.validateStringMaxLength},product_image_url:{max_length:t.validateStringMaxLength},review_score:{score:function(t){return+t>0}},review_title:{empty:t.validateStringMinLength,max_length:t.validateStringMaxLength},review_content:{empty:t.validateStringMinLength,max_length:function(e){return t.validateStringMaxWords(e,5e3)}},content:{empty:t.validateStringMinLength,max_length:function(e){return t.validateStringMaxWords(e,5e3)}}},g={facebook:[984,600],twitter:[680,760],linkedin:[488,577],google_oauth2:[960,531]},e}(Yotpo),Yotpo.Analytics=function(Yotpo){function Analytics(t){this._controller=t;var e=t.getUserSetting("reporting_end_points");e?initYotpoMultiAnalytics.apply(this,[e]):initYotpoAnalytics.apply(this)}function trackYotpoEvent(t,e,o,n,i){_yaq.push(["trackStructEvent",t,e,o,n,i,null])}function initYotpoAnalytics(){_yaq.push(["setCollectorCf","d33im0067v833a"]),_yaq.push(["enableActivityTracking",10,10]),_yaq.push(["setAppId",yotpo_analytics_version])}function initYotpoMultiAnalytics(t){_yaq.push(["setCollectorUrl",t]),_yaq.push(["enableActivityTracking",10,10]),_yaq.push(["setAppId",yotpo_analytics_version])}this.JSON2||(this.JSON2={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function objectToJSON(t,e){var o=Object.prototype.toString.apply(t);return"[object Date]"===o?isFinite(t.valueOf())?t.getUTCFullYear()+"-"+f(t.getUTCMonth()+1)+"-"+f(t.getUTCDate())+"T"+f(t.getUTCHours())+":"+f(t.getUTCMinutes())+":"+f(t.getUTCSeconds())+"Z":null:"[object String]"===o||"[object Number]"===o||"[object Boolean]"===o?t.valueOf():"[object Array]"!==o&&"function"==typeof t.toJSON?t.toJSON(e):t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var o,n,i,r,a,s=gap,l=e[t];switch(l&&"object"==typeof l&&(l=objectToJSON(l,t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,o=0;r>o;o+=1)a[o]=str(o,l)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(r=rep.length,o=0;r>o;o+=1)"string"==typeof rep[o]&&(n=rep[o],i=str(n,l),i&&a.push(quote(n)+(gap?": ":":")+i));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(i=str(n,l),i&&a.push(quote(n)+(gap?": ":":")+i));return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}var cx=new RegExp("[\x00\xad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]","g"),pattern='\\\\\\"\x00--\x9f\xad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]',escapable=new RegExp("["+pattern,"g"),gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON2.stringify&&(JSON2.stringify=function(t,e,o){var n;if(gap="",indent="","number"==typeof o)for(n=0;o>n;n+=1)indent+=" ";else"string"==typeof o&&(indent=o);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON2.parse&&(JSON2.parse=function(text,reviver){function walk(t,e){var o,n,i=t[e];if(i&&"object"==typeof i)for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n=walk(i,o),void 0!==n?i[o]=n:delete i[o]);return reviver.call(t,e,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),new RegExp("^[\\],:{}\\s]*$").test(text.replace(new RegExp('\\\\(?:["\\\\/bfnrt]|u[0-9a-fA-F]{4})',"g"),"@").replace(new RegExp('"[^"\\\\\n\r]*"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?',"g"),"]").replace(new RegExp("(?:^|:|,)(?:\\s*\\[)+","g"),"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),!function(t){var e=function(){"use strict";var t="s",o=function(t){var e=-t.getTimezoneOffset();return null!==e?e:0},n=function(){return o(new Date(2010,0,1,0,0,0,0))},i=function(){return o(new Date(2010,5,1,0,0,0,0))},r=function(t){var e=t.getMonth()>5?i():n(),r=o(t);return e-r!==0},a=function(){var e=n(),o=i(),r=n()-i();return 0>r?e+",1":r>0?o+",1,"+t:e+",0"},s=function(){var t=a();return new e.TimeZone(e.olson.timezones[t])};return{determine_timezone:function(){return"undefined"!=typeof console&&console.log("jstz.determine_timezone() is deprecated and will be removed in an upcoming version. Please use jstz.determine() instead."),s()},determine:s,date_is_dst:r}}();e.TimeZone=function(t){"use strict";var o=null,n=function(){return o},i=function(){for(var t=e.olson.ambiguity_list[o],n=t.length,i=0,r=t[0];n>i;i+=1)if(r=t[i],e.date_is_dst(e.olson.dst_start_dates[r]))return void(o=r)},r=function(){return"undefined"!=typeof e.olson.ambiguity_list[o]};return o=t,r()&&i(),{name:n}},e.olson={},e.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"Etc/GMT+2","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"Etc/UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,1":"Europe/Moscow","180,0":"Asia/Baghdad","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Yerevan","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Tarawa","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},e.olson.dst_start_dates={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"Atlantic/Stanley":new Date(2011,8,4,7,0,0,0),"America/Asuncion":new Date(2011,9,2,3,0,0,0),"America/Santiago":new Date(2011,9,9,3,0,0,0),"America/Campo_Grande":new Date(2011,9,16,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2011,2,13,2,0,0,0),"America/New_York":new Date(2011,2,13,7,0,0,0),"Asia/Gaza":new Date(2011,2,26,23,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Minsk":new Date(2011,2,27,2,0,0,0),"Europe/Helsinki":new Date(2011,2,27,4,0,0,0),"Europe/Istanbul":new Date(2011,2,28,5,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Africa/Cairo":new Date(2010,3,30,4,0,0,0),"Asia/Yerevan":new Date(2011,2,27,4,0,0,0),"Asia/Baku":new Date(2011,2,27,8,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0)},e.olson.ambiguity_list={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Asuncion":["Atlantic/Stanley","America/Asuncion","America/Santiago","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Gaza","Asia/Beirut","Europe/Minsk","Europe/Helsinki","Europe/Istanbul","Asia/Damascus","Asia/Jerusalem","Africa/Cairo"],"Asia/Yerevan":["Asia/Yerevan","Asia/Baku"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"]},"undefined"!=typeof exports?exports.jstz=e:t.jstz=e
}(this);var _yaq=_yaq||[],SnowPlow=SnowPlow||function(){var t=window;return{version:"js-0.13.2",expireDateTime:null,plugins:{},hasLoaded:!1,registeredOnLoadHandlers:[],documentAlias:document,windowAlias:t,navigatorAlias:navigator,screenAlias:screen,encodeWrapper:t.encodeURIComponent,decodeWrapper:t.decodeURIComponent,decodeUrl:unescape,asyncTracker:null}}();SnowPlow.isDefined=function(t){return"undefined"!=typeof t},SnowPlow.isNotNull=function(t){return null!==t},SnowPlow.isFunction=function(t){return"function"==typeof t},SnowPlow.isArray="isArray"in Array?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},SnowPlow.isEmptyArray=function(t){return SnowPlow.isArray(t)&&t.length<1},SnowPlow.isObject=function(t){return"object"==typeof t},SnowPlow.isJson=function(t){return SnowPlow.isDefined(t)&&SnowPlow.isNotNull(t)&&t.constructor==={}.constructor},SnowPlow.isNonEmptyJson=function(t){return SnowPlow.isJson(t)&&t!=={}},SnowPlow.isString=function(t){return"string"==typeof t||t instanceof String},SnowPlow.isNonEmptyString=function(t){return SnowPlow.isString(t)&&""!==t},SnowPlow.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},SnowPlow.encodeUtf8=function(t){return SnowPlow.decodeUrl(SnowPlow.encodeWrapper(t))},SnowPlow.fixupTitle=function(t){if(!SnowPlow.isString(t)){t=t.text||"";var e=SnowPlow.documentAlias.getElementsByTagName("title");e&&SnowPlow.isDefined(e[0])&&(t=e[0].text)}return t},SnowPlow.getHostName=function(t){var e=new RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)"),o=e.exec(t);return o?o[1]:t},SnowPlow.hasSessionStorage=function(){try{return!!SnowPlow.windowAlias.sessionStorage}catch(t){return!0}},SnowPlow.hasLocalStorage=function(){try{return!!SnowPlow.windowAlias.localStorage}catch(t){return!0}},SnowPlow.toTimestamp=function(t,e){return e?t/1:Math.floor(t/1e3)},SnowPlow.toDatestamp=function(t){return Math.floor(t/864e5)},SnowPlow.fixupUrl=function(t,e,o){function n(t,e){var o=new RegExp("^(?:https?|ftp)(?::/*(?:[^?]+)[?])([^#]+)"),n=o.exec(t),i=new RegExp("(?:^|&)"+e+"=([^&]*)"),r=n?i.exec(n[1]):0;return r?SnowPlow.decodeWrapper(r[1]):""}return"translate.googleusercontent.com"===t?(""===o&&(o=e),e=n(e,"u"),t=SnowPlow.getHostName(e)):("cc.bingj.com"===t||"webcache.googleusercontent.com"===t||"74.6."===t.slice(0,5))&&(e=SnowPlow.documentAlias.links[0].href,t=SnowPlow.getHostName(e)),[t,e,o]},SnowPlow.fixupDomain=function(t){var e=t.length;return"."===t.charAt(--e)&&(t=t.slice(0,e)),"*."===t.slice(0,2)&&(t=t.slice(1)),t},SnowPlow.getReferrer=function(){var t="";try{t=SnowPlow.windowAlias.top.document.referrer}catch(e){if(SnowPlow.windowAlias.parent)try{t=SnowPlow.windowAlias.parent.document.referrer}catch(o){t=""}}return""===t&&(t=SnowPlow.documentAlias.referrer),t},SnowPlow.addEventListener=function(t,e,o,n){return t.addEventListener?(t.addEventListener(e,o,n),!0):t.attachEvent?t.attachEvent("on"+e,o):void(t["on"+e]=o)},SnowPlow.getCookie=function(t){var e=new RegExp("(^|;)[ ]*"+t+"=([^;]*)"),o=e.exec(SnowPlow.documentAlias.cookie);return o?SnowPlow.decodeWrapper(o[2]):0},SnowPlow.setCookie=function(t,e,o,n,i,r){var a;o&&(a=new Date,a.setTime(a.getTime()+o)),SnowPlow.documentAlias.cookie=t+"="+SnowPlow.encodeWrapper(e)+(o?";expires="+a.toGMTString():"")+";path="+(n||"/")+(i?";domain="+i:"")+(r?";secure":"")},SnowPlow.executePluginMethod=function(t,e){var o,n,i="";for(o in SnowPlow.plugins)Object.prototype.hasOwnProperty.call(SnowPlow.plugins,o)&&(n=SnowPlow.plugins[o][t],SnowPlow.isFunction(n)&&(i+=n(e)));return i},SnowPlow.sha1=function(t){var e,o,n,i,r,a,s,l,c,u,d=function(t,e){return t<<e|t>>>32-e},g=function(t){var e,o,n="";for(e=7;e>=0;e--)o=t>>>4*e&15,n+=o.toString(16);return n},p=[],m=1732584193,h=4023233417,f=2562383102,y=271733878,v=3285377520,w=[];for(t=SnowPlow.encodeUtf8(t),u=t.length,o=0;u-3>o;o+=4)n=t.charCodeAt(o)<<24|t.charCodeAt(o+1)<<16|t.charCodeAt(o+2)<<8|t.charCodeAt(o+3),w.push(n);switch(3&u){case 0:o=2147483648;break;case 1:o=t.charCodeAt(u-1)<<24|8388608;break;case 2:o=t.charCodeAt(u-2)<<24|t.charCodeAt(u-1)<<16|32768;break;case 3:o=t.charCodeAt(u-3)<<24|t.charCodeAt(u-2)<<16|t.charCodeAt(u-1)<<8|128}for(w.push(o);14!==(15&w.length);)w.push(0);for(w.push(u>>>29),w.push(u<<3&4294967295),e=0;e<w.length;e+=16){for(o=0;16>o;o++)p[o]=w[e+o];for(o=16;79>=o;o++)p[o]=d(p[o-3]^p[o-8]^p[o-14]^p[o-16],1);for(i=m,r=h,a=f,s=y,l=v,o=0;19>=o;o++)c=d(i,5)+(r&a|~r&s)+l+p[o]+1518500249&4294967295,l=s,s=a,a=d(r,30),r=i,i=c;for(o=20;39>=o;o++)c=d(i,5)+(r^a^s)+l+p[o]+1859775393&4294967295,l=s,s=a,a=d(r,30),r=i,i=c;for(o=40;59>=o;o++)c=d(i,5)+(r&a|r&s|a&s)+l+p[o]+2400959708&4294967295,l=s,s=a,a=d(r,30),r=i,i=c;for(o=60;79>=o;o++)c=d(i,5)+(r^a^s)+l+p[o]+3395469782&4294967295,l=s,s=a,a=d(r,30),r=i,i=c;m=m+i&4294967295,h=h+r&4294967295,f=f+a&4294967295,y=y+s&4294967295,v=v+l&4294967295}return c=g(m)+g(h)+g(f)+g(y)+g(v),c.toLowerCase()},SnowPlow.murmurhash3_32_gc=function(t,e){var o,n,i,r,a,s,l,c;for(o=3&t.length,n=t.length-o,i=e,a=3432918353,s=461845907,c=0;n>c;)l=255&t.charCodeAt(c)|(255&t.charCodeAt(++c))<<8|(255&t.charCodeAt(++c))<<16|(255&t.charCodeAt(++c))<<24,++c,l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(65535&l)*s+(((l>>>16)*s&65535)<<16)&4294967295,i^=l,i=i<<13|i>>>19,r=5*(65535&i)+((5*(i>>>16)&65535)<<16)&4294967295,i=(65535&r)+27492+(((r>>>16)+58964&65535)<<16);switch(l=0,o){case 3:l^=(255&t.charCodeAt(c+2))<<16;case 2:l^=(255&t.charCodeAt(c+1))<<8;case 1:l^=255&t.charCodeAt(c),l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(65535&l)*s+(((l>>>16)*s&65535)<<16)&4294967295,i^=l}return i^=t.length,i^=i>>>16,i=2246822507*(65535&i)+((2246822507*(i>>>16)&65535)<<16)&4294967295,i^=i>>>13,i=3266489909*(65535&i)+((3266489909*(i>>>16)&65535)<<16)&4294967295,i^=i>>>16,i>>>0},SnowPlow.base64encode=function(t){if(!t)return t;if("function"==typeof window.btoa)return btoa(t);var e,o,n,i,r,a,s,l,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=0,d=0,g="",p=[];do e=t.charCodeAt(u++),o=t.charCodeAt(u++),n=t.charCodeAt(u++),l=e<<16|o<<8|n,i=l>>18&63,r=l>>12&63,a=l>>6&63,s=63&l,p[d++]=c.charAt(i)+c.charAt(r)+c.charAt(a)+c.charAt(s);while(u<t.length);g=p.join("");var m=t.length%3;return(m?g.slice(0,m-3):g)+"===".slice(m||3)},SnowPlow.base64urlencode=function(t){if(!t)return t;var e=SnowPlow.base64encode(t);return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},SnowPlow.base64decode=function(t){var e,o,n,i,r,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="",l="",c="",u=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do n=a.indexOf(t.charAt(u++)),i=a.indexOf(t.charAt(u++)),r=a.indexOf(t.charAt(u++)),c=a.indexOf(t.charAt(u++)),e=n<<2|i>>4,o=(15&i)<<4|r>>2,l=(3&r)<<6|c,s+=String.fromCharCode(e),64!=r&&(s+=String.fromCharCode(o)),64!=c&&(s+=String.fromCharCode(l)),e=o=l="",n=i=r=c="";while(u<t.length);return unescape(s)},SnowPlow.Tracker=function Tracker(argmap){function constructCollectorUrl(t){return"undefined"==typeof t?null:"cf"in t?collectorUrlFromCfDist(t.cf):"url"in t?asCollectorUrl(t.url):void 0}function ecommerceTransactionTemplate(){return{transaction:{},items:[]}}function purify(t){var e;return configDiscardHashTag?(e=new RegExp("#.*"),t.replace(e,"")):t}function getProtocolScheme(t){var e=new RegExp("^([a-z]+):"),o=e.exec(t);return o?o[1]:null}function resolveRelativeReference(t,e){var o,n=getProtocolScheme(e);return n?e:"/"===e.slice(0,1)?getProtocolScheme(t)+"://"+SnowPlow.getHostName(t)+e:(t=purify(t),(o=t.indexOf("?"))>=0&&(t=t.slice(0,o)),(o=t.lastIndexOf("/"))!==t.length-1&&(t=t.slice(0,o+1)),t+e)}function isSiteHostName(t){var e,o,n;for(e=0;e<configHostsAlias.length;e++){if(o=SnowPlow.fixupDomain(configHostsAlias[e].toLowerCase()),t===o)return!0;if("."===o.slice(0,1)){if(t===o.slice(1))return!0;if(n=t.length-o.length,n>0&&t.slice(n)===o)return!0}}return!1}function getImage(t){if(SnowPlow.isString(configCollectorUrl)){if(null===configCollectorUrl)throw"No SnowPlow collector configured, cannot track";setImage(configCollectorUrl+t)}else if(SnowPlow.isArray(configCollectorUrl))for(var e=0;e<configCollectorUrl.length;e++)setImage(configCollectorUrl[e]+t)}function setImage(t){var e=new Image(1,1);e.onload=function(){},e.src=t}function sendRequest(t,e){var o=new Date;configDoNotTrack||(getImage(t),SnowPlow.expireDateTime=o.getTime()+e)}function getCookieName(t){return configCookieNamePrefix+t+"."+domainHash}function getLegacyCookieName(t){return configCookieNamePrefix+t+"."+configTrackerSiteId+"."+domainHash}function getCookieValue(t){var e=SnowPlow.getCookie(getCookieName(t));return e?e:SnowPlow.getCookie(getLegacyCookieName(t))}function hasCookies(){var t=getCookieName("testcookie");return SnowPlow.isDefined(SnowPlow.navigatorAlias.cookieEnabled)?SnowPlow.navigatorAlias.cookieEnabled?"1":"0":(SnowPlow.setCookie(t,"1"),"1"===SnowPlow.getCookie(t)?"1":"0")}function updateDomainHash(){domainHash=hash((configCookieDomain||domainAlias)+(configCookiePath||"/")).slice(0,4)}function activityHandler(){var t=new Date;lastActivityTime=t.getTime()}function scrollHandler(){updateMaxScrolls(),activityHandler()}function getPageOffsets(){var t=SnowPlow.documentAlias.compatMode&&"BackCompat"!=SnowPlow.documentAlias.compatMode?SnowPlow.documentAlias.documentElement:SnowPlow.documentAlias.body;return[t.scrollLeft||SnowPlow.windowAlias.pageXOffset,t.scrollTop||SnowPlow.windowAlias.pageYOffset]}function resetMaxScrolls(){var t=getPageOffsets(),e=t[0];minXOffset=e,maxXOffset=e;var o=t[1];minYOffset=o,maxYOffset=o}function updateMaxScrolls(){var t=getPageOffsets(),e=t[0];minXOffset>e?minXOffset=e:e>maxXOffset&&(maxXOffset=e);var o=t[1];minYOffset>o?minYOffset=o:o>maxYOffset&&(maxYOffset=o)}function setDomainUserIdCookie(t,e,o,n,i){SnowPlow.setCookie(getCookieName("id"),t+"."+e+"."+o+"."+n+"."+i,configVisitorCookieTimeout,configCookiePath,configCookieDomain)}function loadDomainUserIdCookie(){var t,e=new Date,o=Math.round(e.getTime()/1e3),n=getCookieValue("id");return n?(t=n.split("."),t.unshift("0")):(domainUserId||(domainUserId=hash((SnowPlow.navigatorAlias.userAgent||"")+(SnowPlow.navigatorAlias.platform||"")+JSON2.stringify(browserFeatures)+o).slice(0,16)),t=["1",domainUserId,o,0,o,""]),t}function getTimestamp(){var t=new Date,e=t.getTime();return e}function getRequest(t,e){var o,n,i,r,a,s,l,c,u=new Date,d=Math.round(u.getTime()/1e3),g=getCookieName("id"),p=getCookieName("ses"),m=loadDomainUserIdCookie(),h=getCookieValue("ses"),f=configCustomUrl||locationHrefAlias;if(configDoNotTrack)return SnowPlow.setCookie(g,"",-1,configCookiePath,configCookieDomain),SnowPlow.setCookie(p,"",-1,configCookiePath,configCookieDomain),"";n=m[0],i=m[1],a=m[2],r=m[3],s=m[4],l=m[5],h||(r++,l=s),t.addRaw("dtm",getTimestamp()),t.addRaw("tid",String(Math.random()).slice(2,8)),t.addRaw("vp",detectViewport()),t.addRaw("ds",detectDocumentSize()),t.addRaw("vid",r),t.addRaw("duid",i),t.add("p",configPlatform),t.add("tv",SnowPlow.version),t.add("fp",fingerprint),t.add("aid",configTrackerSiteId),t.add("lang",browserLanguage),t.add("cs",documentCharset),t.add("tz",timezone),t.add("uid",businessUserId),configReferrerUrl.length&&t.add("refr",purify(configReferrerUrl));for(o in browserFeatures)Object.prototype.hasOwnProperty.call(browserFeatures,o)&&(c="res"===o||"cd"===o||"cookie"===o?"":"f_",t.addRaw(c+o,browserFeatures[o]));t.add("url",purify(f));var y=t.build();return setDomainUserIdCookie(i,a,r,d,l),SnowPlow.setCookie(p,"*",configSessionCookieTimeout,configCookiePath,configCookieDomain),y+=SnowPlow.executePluginMethod(e)}function collectorUrlFromCfDist(t){return asCollectorUrl(t+".cloudfront.net")}function asCollectorUrl(t){if(SnowPlow.isString(t))return("https:"==SnowPlow.documentAlias.location.protocol?"https":"http")+"://"+t+"/i";if(SnowPlow.isArray(t)){for(var e=[],o=0;o<t.length;o++)e.push(("https:"==SnowPlow.documentAlias.location.protocol?"https":"http")+"://"+t[o]+"/i");return e}}function requestStringBuilder(t){var e="",o=function(t,o,n){if(void 0!==o&&null!==o&&""!==o){var i=e.length>0?"&":"?";e+=i+t+"="+(n?SnowPlow.encodeWrapper(o):o)}},n=function(t){var e=new RegExp("\\$(.[^\\$]+)$"),o=e.exec(t);return o?o[1]:void 0},i=function(t,e){switch(e){case"tms":return SnowPlow.toTimestamp(t,!0);case"ts":return SnowPlow.toTimestamp(t,!1);case"dt":return SnowPlow.toDatestamp(t);default:return t}},r=function(){function t(e){var o={};for(var r in e){var a=r,s=e[r];e.hasOwnProperty(a)&&(SnowPlow.isDate(s)&&(type=n(a),type||(type="tms",a+="$"+type),s=i(s,type)),SnowPlow.isJson(s)&&(s=t(s))),o[a]=s}return o}return t}(),a=function(t,e){o(t,e,!0)},s=function(t,e){o(t,e,!1)},l=function(e,o,n){if(SnowPlow.isNonEmptyJson(n)){var i=r(n),l=JSON2.stringify(i);t?s(e,SnowPlow.base64urlencode(l)):a(o,l)}};return{add:a,addRaw:s,addJson:l,build:function(){return e}}}function logPageView(t,e,o,n,i,r,a){var s=SnowPlow.fixupTitle(t||configTitle),l=requestStringBuilder(configEncodeBase64);l.add("e","pv"),l.add("page",s),l.add("se_ca",o),l.add("se_ac",n),l.add("se_la",i),l.add("se_pr",r),l.add("se_va",a),l.addJson("cx","co",e);var c=getRequest(l,"pageView");sendRequest(c,configTrackerPause);var u=new Date;configMinimumVisitTime&&configHeartBeatTimer&&!activityTrackingInstalled&&(activityTrackingInstalled=!0,resetMaxScrolls(),SnowPlow.addEventListener(SnowPlow.documentAlias,"click",activityHandler),SnowPlow.addEventListener(SnowPlow.documentAlias,"mouseup",activityHandler),SnowPlow.addEventListener(SnowPlow.documentAlias,"mousedown",activityHandler),SnowPlow.addEventListener(SnowPlow.documentAlias,"mousemove",activityHandler),SnowPlow.addEventListener(SnowPlow.documentAlias,"mousewheel",activityHandler),SnowPlow.addEventListener(SnowPlow.windowAlias,"DOMMouseScroll",activityHandler),SnowPlow.addEventListener(SnowPlow.windowAlias,"scroll",scrollHandler),SnowPlow.addEventListener(SnowPlow.documentAlias,"keypress",activityHandler),SnowPlow.addEventListener(SnowPlow.documentAlias,"keydown",activityHandler),SnowPlow.addEventListener(SnowPlow.documentAlias,"keyup",activityHandler),SnowPlow.addEventListener(SnowPlow.windowAlias,"resize",activityHandler),SnowPlow.addEventListener(SnowPlow.windowAlias,"focus",activityHandler),SnowPlow.addEventListener(SnowPlow.windowAlias,"blur",activityHandler),lastActivityTime=u.getTime(),setInterval(function(){var t=new Date;lastActivityTime+configHeartBeatTimer>t.getTime()&&configMinimumVisitTime<t.getTime()&&logPagePing(s,e,o,n,i,r,a)},configHeartBeatTimer))}function logPagePing(t,e,o,n,i,r,a){var s=requestStringBuilder(configEncodeBase64);s.add("e","pp"),s.add("page",t),s.add("se_ca",o),s.add("se_ac",n),s.add("se_la",i),s.add("se_pr",r),s.add("se_va",a),s.addRaw("pp_mix",parseInt(minXOffset)),s.addRaw("pp_max",parseInt(maxXOffset)),s.addRaw("pp_miy",parseInt(minYOffset)),s.addRaw("pp_may",parseInt(maxYOffset)),s.addJson("cx","co",e),resetMaxScrolls();var l=getRequest(s,"pagePing");sendRequest(l,configTrackerPause)}function logStructEvent(t,e,o,n,i,r){var a=requestStringBuilder(configEncodeBase64);a.add("e","se"),a.add("se_ca",t),a.add("se_ac",e),a.add("se_la",o),a.add("se_pr",n),a.add("se_va",i),a.addJson("cx","co",r);var s=getRequest(a,"structEvent");sendRequest(s,configTrackerPause)}function logUnstructEvent(t,e,o){var n=requestStringBuilder(configEncodeBase64);n.add("e","ue"),n.add("ue_na",t),n.addJson("ue_px","ue_pr",e),n.addJson("cx","co",o);var i=getRequest(n,"unstructEvent");sendRequest(i,configTrackerPause)}function logTransaction(t,e,o,n,i,r,a,s,l,c){var u=requestStringBuilder(configEncodeBase64);u.add("e","tr"),u.add("tr_id",t),u.add("tr_af",e),u.add("tr_tt",o),u.add("tr_tx",n),u.add("tr_sh",i),u.add("tr_ci",r),u.add("tr_st",a),u.add("tr_co",s),u.add("tr_cu",l),u.addJson("cx","co",c);var d=getRequest(u,"transaction");sendRequest(d,configTrackerPause)}function logTransactionItem(t,e,o,n,i,r,a,s){var l=requestStringBuilder(configEncodeBase64);l.add("e","ti"),l.add("ti_id",t),l.add("ti_sk",e),l.add("ti_na",o),l.add("ti_ca",n),l.add("ti_pr",i),l.add("ti_qu",r),l.add("ti_cu",a),l.addJson("cx","co",s);var c=getRequest(l,"transactionItem");sendRequest(c,configTrackerPause)}function logLink(t,e){var o=requestStringBuilder(configEncodeBase64);o.add("e",e),o.add("t_url",purify(t));var n=getRequest(o,"link");sendRequest(n,configTrackerPause)}function logImpression(t,e,o,n,i){var r=requestStringBuilder(configEncodeBase64);r.add("e","ad"),r.add("ad_ba",t),r.add("ad_ca",e),r.add("ad_ad",o),r.add("ad_uid",n),r.addJson("cx","co",i);var a=getRequest(r,"impression");sendRequest(a,configTrackerPause)}function prefixPropertyName(t,e){return""!==t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function trackCallback(t){var e,o,n,i=["","webkit","ms","moz"];if(!configCountPreRendered)for(o=0;o<i.length;o++)if(n=i[o],Object.prototype.hasOwnProperty.call(SnowPlow.documentAlias,prefixPropertyName(n,"hidden"))){"prerender"===SnowPlow.documentAlias[prefixPropertyName(n,"visibilityState")]&&(e=!0);break}return e?void SnowPlow.addEventListener(SnowPlow.documentAlias,n+"visibilitychange",function r(){SnowPlow.documentAlias.removeEventListener(n+"visibilitychange",r,!1),t()}):void t()}function getClassesRegExp(t,e){var o,n="(^| )(piwik[_-]"+e;if(t)for(o=0;o<t.length;o++)n+="|"+t[o];return n+=")( |$)",new RegExp(n)}function getLinkType(t,e,o){if(!o)return"lnk";var n=getClassesRegExp(configDownloadClasses,"download"),i=getClassesRegExp(configLinkClasses,"link"),r=new RegExp("\\.("+configDownloadExtensions+")([?&#]|$)","i");return i.test(t)?"lnk":n.test(t)||r.test(e)?"dl":0}function processClick(t){for(var e,o,n;null!==(e=t.parentNode)&&SnowPlow.isDefined(e)&&"A"!==(o=t.tagName.toUpperCase())&&"AREA"!==o;)t=e;if(SnowPlow.isDefined(t.href)){var i=t.hostname||SnowPlow.getHostName(t.href),r=i.toLowerCase(),a=t.href.replace(i,r),s=new RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto):","i");s.test(a)||(n=getLinkType(t.className,a,isSiteHostName(r)),n&&(a=SnowPlow.decodeUrl(a),logLink(a,n)))}}function clickHandler(t){var e,o;t=t||SnowPlow.windowAlias.event,e=t.which||t.button,o=t.target||t.srcElement,"click"===t.type?o&&processClick(o):"mousedown"===t.type?1!==e&&2!==e||!o?lastButton=lastTarget=null:(lastButton=e,lastTarget=o):"mouseup"===t.type&&(e===lastButton&&o===lastTarget&&processClick(o),lastButton=lastTarget=null)}function addClickListener(t,e){e?(SnowPlow.addEventListener(t,"mouseup",clickHandler,!1),SnowPlow.addEventListener(t,"mousedown",clickHandler,!1)):SnowPlow.addEventListener(t,"click",clickHandler,!1)}function addClickListeners(t){if(!linkTrackingInstalled){linkTrackingInstalled=!0;var e,o=getClassesRegExp(configIgnoreClasses,"ignore"),n=SnowPlow.documentAlias.links;if(n)for(e=0;e<n.length;e++)o.test(n[e].className)||addClickListener(n[e],t)}}function generateFingerprint(){var t=[navigator.userAgent,[screen.height,screen.width,screen.colorDepth].join("x"),(new Date).getTimezoneOffset(),SnowPlow.hasSessionStorage(),SnowPlow.hasLocalStorage()],e=[];if(navigator.plugins)for(var o=0;o<navigator.plugins.length;o++){for(var n=[],i=0;i<navigator.plugins[o].length;i++)n.push([navigator.plugins[o][i].type,navigator.plugins[o][i].suffixes]);e.push([navigator.plugins[o].name+"::"+navigator.plugins[o].description,n.join("~")])}return SnowPlow.murmurhash3_32_gc(t.join("###")+"###"+e.sort().join(";"),123412414)}function detectTimezone(){var t=jstz.determine();return"undefined"==typeof t?"":t.name()}function detectViewport(){var t=SnowPlow.windowAlias,e="inner";return"innerWidth"in SnowPlow.windowAlias||(e="client",t=SnowPlow.documentAlias.documentElement||SnowPlow.documentAlias.body),t[e+"Width"]+"x"+t[e+"Height"]}function detectDocumentSize(){var t=SnowPlow.documentAlias.documentElement,e=Math.max(t.clientWidth,t.offsetWidth,t.scrollWidth),o=Math.max(t.clientHeight,t.offsetHeight,t.scrollHeight);return e+"x"+o}function detectBrowserFeatures(){var t,e,o={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",dir:"application/x-director",fla:"application/x-shockwave-flash",java:"application/x-java-vm",gears:"application/x-googlegears",ag:"application/x-silverlight"},n={};if(SnowPlow.navigatorAlias.mimeTypes&&SnowPlow.navigatorAlias.mimeTypes.length)for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e=SnowPlow.navigatorAlias.mimeTypes[o[t]],n[t]=e&&e.enabledPlugin?"1":"0");return"unknown"!=typeof navigator.javaEnabled&&SnowPlow.isDefined(SnowPlow.navigatorAlias.javaEnabled)&&SnowPlow.navigatorAlias.javaEnabled()&&(n.java="1"),SnowPlow.isFunction(SnowPlow.windowAlias.GearsFactory)&&(n.gears="1"),n.res=SnowPlow.screenAlias.width+"x"+SnowPlow.screenAlias.height,n.cd=screen.colorDepth,n.cookie=hasCookies(),n}function registerHook(hookName,userHook){var hookObj=null;if(SnowPlow.isString(hookName)&&!SnowPlow.isDefined(registeredHooks[hookName])&&userHook){if(SnowPlow.isObject(userHook))hookObj=userHook;else if(SnowPlow.isString(userHook))try{eval("hookObj ="+userHook)}catch(e){}registeredHooks[hookName]=hookObj}return hookObj}var registeredHooks={},locationArray=SnowPlow.fixupUrl(SnowPlow.documentAlias.domain,SnowPlow.windowAlias.location.href,SnowPlow.getReferrer()),domainAlias=SnowPlow.fixupDomain(locationArray[0]),locationHrefAlias=locationArray[1],configReferrerUrl=locationArray[2],configRequestMethod="GET",configPlatform="web",configCollectorUrl=constructCollectorUrl(argmap),configTrackerSiteId="",configCustomUrl,configTitle=SnowPlow.documentAlias.title,configDownloadExtensions="7z|aac|ar[cj]|as[fx]|avi|bin|csv|deb|dmg|doc|exe|flv|gif|gz|gzip|hqx|jar|jpe?g|js|mp(2|3|4|e?g)|mov(ie)?|ms[ip]|od[bfgpst]|og[gv]|pdf|phps|png|ppt|qtm?|ra[mr]?|rpm|sea|sit|tar|t?bz2?|tgz|torrent|txt|wav|wm[av]|wpd||xls|xml|z|zip",configHostsAlias=[domainAlias],configIgnoreClasses=[],configDownloadClasses=[],configLinkClasses=[],configTrackerPause=500,configMinimumVisitTime,configHeartBeatTimer,configDiscardHashTag,configCookieNamePrefix="_sp_",configCookieDomain,configCookiePath,configDoNotTrack,configCountPreRendered,configVisitorCookieTimeout=63072e6,configSessionCookieTimeout=18e5,configReferralCookieTimeout=15768e6,configEncodeBase64=!0,documentCharset=SnowPlow.documentAlias.characterSet||SnowPlow.documentAlias.charset,browserLanguage=SnowPlow.navigatorAlias.userLanguage||SnowPlow.navigatorAlias.language,browserFeatures=detectBrowserFeatures(),timezone=detectTimezone(),fingerprint=generateFingerprint(),linkTrackingInstalled=!1,activityTrackingInstalled=!1,lastActivityTime,minXOffset,maxXOffset,minYOffset,maxYOffset,lastButton,lastTarget,hash=SnowPlow.sha1,domainHash,domainUserId,businessUserId,ecommerceTransaction=ecommerceTransactionTemplate();return updateDomainHash(),SnowPlow.executePluginMethod("run",registerHook),{hook:registeredHooks,getHook:function(t){return registeredHooks[t]},getUserId:function(){return businessUserId},getDomainUserId:function(){return loadDomainUserIdCookie()[1]},getDomainUserInfo:function(){return loadDomainUserIdCookie()},getVisitorId:function(){return"undefined"!=typeof console&&console.log("SnowPlow: getVisitorId() is deprecated and will be removed in an upcoming version. Please use getDomainUserId() instead."),loadVisitorIdCookie()[1]},getVisitorInfo:function(){return"undefined"!=typeof console&&console.log("SnowPlow: getVisitorInfo() is deprecated and will be removed in an upcoming version. Please use getDomainUserInfo() instead."),loadVisitorIdCookie()},setSiteId:function(t){"undefined"!=typeof console&&console.log("SnowPlow: setSiteId() is deprecated and will be removed in an upcoming version. Please use setAppId() instead."),configTrackerSiteId=t},setAppId:function(t){configTrackerSiteId=t},setLinkTrackingTimer:function(t){configTrackerPause=t},setDownloadExtensions:function(t){configDownloadExtensions=t},addDownloadExtensions:function(t){configDownloadExtensions+="|"+t},setDomains:function(t){configHostsAlias=SnowPlow.isString(t)?[t]:t,configHostsAlias.push(domainAlias)},setIgnoreClasses:function(t){configIgnoreClasses=SnowPlow.isString(t)?[t]:t},setReferrerUrl:function(t){configReferrerUrl=t},setCustomUrl:function(t){configCustomUrl=resolveRelativeReference(locationHrefAlias,t)},setDocumentTitle:function(t){configTitle=t},setDownloadClasses:function(t){configDownloadClasses=SnowPlow.isString(t)?[t]:t},setLinkClasses:function(t){configLinkClasses=SnowPlow.isString(t)?[t]:t},discardHashTag:function(t){configDiscardHashTag=t},setCookieNamePrefix:function(t){configCookieNamePrefix=t},setCookieDomain:function(t){configCookieDomain=SnowPlow.fixupDomain(t),updateDomainHash()},setCookiePath:function(t){configCookiePath=t,updateDomainHash()},setVisitorCookieTimeout:function(t){configVisitorCookieTimeout=1e3*t},setSessionCookieTimeout:function(t){configSessionCookieTimeout=1e3*t},setReferralCookieTimeout:function(t){configReferralCookieTimeout=1e3*t},setDoNotTrack:function(t){var e=SnowPlow.navigatorAlias.doNotTrack||SnowPlow.navigatorAlias.msDoNotTrack;configDoNotTrack=t&&("yes"===e||"1"===e)},addListener:function(t,e){addClickListener(t,e)},enableLinkTracking:function(t){SnowPlow.hasLoaded?addClickListeners(t):SnowPlow.registeredOnLoadHandlers.push(function(){addClickListeners(t)})},enableActivityTracking:function(t,e){var o=new Date;configMinimumVisitTime=o.getTime()+1e3*t,configHeartBeatTimer=1e3*e},killFrame:function(){SnowPlow.windowAlias.location!==SnowPlow.windowAlias.top.location&&(SnowPlow.windowAlias.top.location=SnowPlow.windowAlias.location)},redirectFile:function(t){"file:"===SnowPlow.windowAlias.location.protocol&&(SnowPlow.windowAlias.location=t)},setCountPreRendered:function(t){configCountPreRendered=t},setUserId:function(t){businessUserId=t},attachUserId:function(){"undefined"!=typeof console&&console.log("SnowPlow: attachUserId() is deprecated and will be removed in an upcoming version. It no longer does anything (because nuid and duid have been separated out).")},setCollectorCf:function(t){configCollectorUrl=collectorUrlFromCfDist(t)},setCollectorUrl:function(t){configCollectorUrl=asCollectorUrl(t)},setPlatform:function(t){configPlatform=t},encodeBase64:function(t){configEncodeBase64=t},trackPageView:function(t,e,o,n,i,r,a){trackCallback(function(){logPageView(t,e,o,n,i,r,a)})},trackEvent:function(t,e,o,n,i){"undefined"!=typeof console&&console.log("SnowPlow: trackEvent() is deprecated and will be removed in an upcoming version. Please use trackStructEvent() instead."),logStructEvent(t,e,o,n,i)},trackStructEvent:function(t,e,o,n,i,r){logStructEvent(t,e,o,n,i,r)},trackUnstructEvent:function(t,e,o){logUnstructEvent(t,e,o)},addTrans:function(t,e,o,n,i,r,a,s,l,c){ecommerceTransaction.transaction={orderId:t,affiliation:e,total:o,tax:n,shipping:i,city:r,state:a,country:s,currency:l,context:c}},addItem:function(t,e,o,n,i,r,a,s){ecommerceTransaction.items.push({orderId:t,sku:e,name:o,category:n,price:i,quantity:r,currency:a,context:s})},trackTrans:function(){logTransaction(ecommerceTransaction.transaction.orderId,ecommerceTransaction.transaction.affiliation,ecommerceTransaction.transaction.total,ecommerceTransaction.transaction.tax,ecommerceTransaction.transaction.shipping,ecommerceTransaction.transaction.city,ecommerceTransaction.transaction.state,ecommerceTransaction.transaction.country,ecommerceTransaction.transaction.currency,ecommerceTransaction.transaction.context);for(var t=0;t<ecommerceTransaction.items.length;t++){var e=ecommerceTransaction.items[t];logTransactionItem(e.orderId,e.sku,e.name,e.category,e.price,e.quantity,e.currency,e.context)}ecommerceTransaction=ecommerceTransactionTemplate()},trackLink:function(t,e,o){trackCallback(function(){logLink(t,e,o)})},trackImpression:function(t,e,o,n,i){logImpression(t,e,o,n,i)}}},SnowPlow.build=function(){"use strict";function t(){var t,e,o;for(t=0;t<arguments.length;t+=1)o=arguments[t],e=o.shift(),SnowPlow.isString(e)?SnowPlow.asyncTracker[e].apply(SnowPlow.asyncTracker,o):e.apply(SnowPlow.asyncTracker,o)}function e(){var t;if(SnowPlow.executePluginMethod("unload"),SnowPlow.expireDateTime)do t=new Date;while(t.getTimeAlias()<SnowPlow.expireDateTime)}function o(){var t;if(!SnowPlow.hasLoaded)for(SnowPlow.hasLoaded=!0,SnowPlow.executePluginMethod("load"),t=0;t<SnowPlow.registeredOnLoadHandlers.length;t++)SnowPlow.registeredOnLoadHandlers[t]();return!0}function n(){var t;SnowPlow.documentAlias.addEventListener?SnowPlow.addEventListener(SnowPlow.documentAlias,"DOMContentLoaded",function e(){SnowPlow.documentAlias.removeEventListener("DOMContentLoaded",e,!1),o()}):SnowPlow.documentAlias.attachEvent&&(SnowPlow.documentAlias.attachEvent("onreadystatechange",function n(){"complete"===SnowPlow.documentAlias.readyState&&(SnowPlow.documentAlias.detachEvent("onreadystatechange",n),o())}),SnowPlow.documentAlias.documentElement.doScroll&&SnowPlow.windowAlias===SnowPlow.windowAlias.top&&!function i(){if(!SnowPlow.hasLoaded){try{SnowPlow.documentAlias.documentElement.doScroll("left")}catch(t){return void setTimeout(i,0)}o()}}()),new RegExp("WebKit").test(SnowPlow.navigatorAlias.userAgent)&&(t=setInterval(function(){(SnowPlow.hasLoaded||/loaded|complete/.test(SnowPlow.documentAlias.readyState))&&(clearInterval(t),o())},10)),SnowPlow.addEventListener(SnowPlow.windowAlias,"load",o,!1)}function i(){return{push:t}}SnowPlow.addEventListener(SnowPlow.windowAlias,"beforeunload",e,!1),n(),Date.prototype.getTimeAlias=Date.prototype.getTime,SnowPlow.asyncTracker=new SnowPlow.Tracker;for(var r=0;r<_yaq.length;r++)t(_yaq[r]);return _yaq=new i,{addPlugin:function(t,e){SnowPlow.plugins[t]=e},getTrackerCf:function(t){return new SnowPlow.Tracker({cf:t})},getTrackerUrl:function(t){return new SnowPlow.Tracker({url:t})},getAsyncTracker:function(){return SnowPlow.asyncTracker}}},!function(){var t=SnowPlow.build();for(var e in t)t.hasOwnProperty(e)&&void 0===SnowPlow[e]&&(SnowPlow[e]=t[e])}();var yotpo_analytics_version="onsite_v2";return Yotpo.getCookie=SnowPlow.getCookie,Yotpo.setCookie=SnowPlow.setCookie,Analytics.prototype.trackEvent=function(t,e,o,n){1==this._firstEvent&&(this.trackPageView(this),this._firstEvent=!1),trackYotpoEvent.apply(this,[t,e,o,n,this._controller.getAppKey()])},Analytics.prototype.trackPageView=function(){_yaq.push(["trackPageView",null,null,null,null,null,null,this._controller.getAppKey()])},Analytics.prototype.getYaq=function(){return _yaq},Analytics}(Yotpo),Yotpo.Inview=function(t){function e(t){var e=t||{};e.offset=e.offset||0,this.options=e,this.verifyInviewT=i.apply(this,[this.verifyInview,25]),this.saveWinOffsetT=i.apply(this,[this.saveWinOffset,50]),this.objects=[],this.winHeight=0,this.winWidth=0,this.saveWinOffset()}function o(e){return!(t.isHidden(e)||t.isHidden(e.parentElement))}function n(t){var e=t.getBoundingClientRect(),o=this.winHeight+this.options.offset;return e.left>=0&&e.right<=this.winWidth+this.options.offset&&(e.top>=0&&e.top<=o||e.bottom<=o&&e.bottom>=0-this.options.offset)}function i(t,e){var o=0,n=this;return function(){var i=+new Date;e>i-o||(o=i,t.call(n))}}return e.prototype.register=function(t,e){this.objects.push({element:t,callback:e}),1==this.objects.length&&this.bindEvents(),this.verifyInviewT()},e.prototype.bindEvents=function(){t.addEventListener(window,"scroll",this.verifyInviewT),t.addEventListener(window,"resize",this.verifyInviewT),t.addEventListener(window,"resize",this.saveWinOffsetT)},e.prototype.unbindEvents=function(){t.removeEventListener(window,"scroll",this.verifyInviewT),t.removeEventListener(window,"resize",this.verifyInviewT),t.removeEventListener(window,"resize",this.saveWinOffsetT)},e.prototype.verifyInview=function(){for(var t,e=this.objects.length-1;t=this.objects[e];e--)n.apply(this,[t.element])&&o.apply(this,[t.element])&&(t.callback.apply(),this.objects.splice(e,1),0==this.objects.length&&this.unbindEvents())},e.prototype.saveWinOffset=function(){this.winHeight=window.innerHeight||document.documentElement.clientHeight,this.winWidth=window.innerWidth||document.documentElement.clientWidth},e}(Yotpo),document.getElementsByClassName||(document.getElementsByClassName=function(t){return this.querySelectorAll("."+t)},Element.prototype.getElementsByClassName=document.getElementsByClassName),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=o.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var r,a,s=[];for(r in i)t.call(i,r)&&s.push(r);if(e)for(a=0;n>a;a++)t.call(i,o[a])&&s.push(o[a]);return s}}()),Yotpo.API=function(t){function e(t){this.instance=t}return e.prototype.changeProductID=function(e,o){var n=!1;
t.forEach(this.instance.getWidgets(),function(t){t.settings.pid==e&&(t.settings.pid=o,n=!0)}),n&&this.instance.refresh()},e.prototype.openForm=function(e,o){var n=function(){if(o=o||1300,!e)throw"openForm must be passed a type(such as review|question)";var n=this.getWidgetByName("Main");if(!n||!n.get("element").getElementsByClassName("write-"+e+"-button"))throw"openForm must be called on a page with a main widget";n.get("element").getElementsByClassName("write-"+e+"-button")[0].click();for(var i=n.get("forms")[e+"s"].getElement().getBoundingClientRect().top,r=[document.body,document.documentElement],a=0;a<r.length;++a){var s=r[a],l=s.scrollTop;if(t.scrollTo(s,i+l,o,!0),l!==s.scrollTop)break}};"ready"==this.instance.getState()?n.call(this.instance):this.instance.on("ready",n)},e.prototype.setFormOpenCallback=function(e){var o=function(){t.forEach(this.getWidgetsByNames(["Testimonials","Main"]),function(t){t.writeContentCallback=e;var o=t.forms||{};for(var n in o){var i=n.substr(0,n.length-1),r=t.element.getElementsByClassName("write-"+i+"-button");if(r.length>0)for(var a=0;a<r.length;a++)r[a].open=function(){this.click()}}})};"ready"==this.instance.getState()&&o.call(this.instance),this.instance.on("ready",o)},e}(Yotpo),Yotpo.ShareLink=function(t){function e(t,e){if(!r[t])throw"Type is not valid";this.type=t,o.call(this,e)}function o(e){e.social_link=n.call(this,e);var o=r[this.get("type")];this.link=o.url+"?"+t.convertHashToQueryStringParams(t.compact(o.options(e)))}function n(e){var o={reference_name:this.get("type")+"_social_share",url:i(e.product_url||document.location.href),app_key:e.appkey,redirect:!0};return"https://yotpo.com/go?"+t.convertHashToQueryStringParams(o)}function i(t){return t&&/^\/\//i.test(t)?"http:"+t:t&&!/^https?:\/\//i.test(t)?"http://"+t:t}var r={};return e.prototype.get=function(t){return this[t]},r={facebook:{url:"https://www.facebook.com/dialog/feed",options:function(e){var o={app_key:e.appkey,sku:e.sku,user_email:e.email},n={app_id:"226132034107547",display:"popup",link:e.social_link,picture:i(e.product_image_url),name:e.review_title,description:e.review_content,redirect_uri:"http://my.yotpo.com/shares?"+t.convertHashToQueryStringParams(o)};if(e.review_score){var r=+e.review_score;n.caption=Array(r+1).join("\u2605")+Array(6-r).join("\u2606")}return n}},twitter:{url:"https://twitter.com/intent/tweet",options:function(t){return{url:t.social_link,text:t.review_content,via:"yotpo"}}},google:{url:"https://plus.google.com/share",options:function(t){return{url:t.social_link}}},linkedin:{url:"https://www.linkedin.com/shareArticle",options:function(t){return{mini:!0,url:t.social_link,title:t.review_title,source:"Yotpo",summary:t.review_content}}}},e}(Yotpo),Yotpo.CustomFields=function(t){function e(t,e,o){if("checkbox"==o){for(var n=[],i=t.querySelectorAll('input[name="'+e+'"]:checked'),r=0;r<i.length;r++)n.push(i[r].value);return n}var a=t.querySelector('input[name="'+e+'"]'+("hidden"!=o?":checked":""));return a?a.value:""}var o=function(t){this.element=t,this.params={},this.fieldElements={}};return o.prototype.getFieldElement=function(t){return this.fieldElements[t]?this.fieldElements[t]:null},o.prototype.getValues=function(){for(var o=this.element,n=this.fieldElements,i=this.params,r=0;r<o.length;++r){var a=o[r];if(!t.isHidden(o[r])||t.hasClass(a,"yotpo-product-tag-param")){var s=a.querySelector("input"),l=s.name,c=s.type,u=e(a,l,c);n[l]=o[r],"product_tags"==l?i[l]=u:i["custom_fields["+l+"]"]=u}}return i},o.prototype.reset=function(){for(var t=this.element,e=0;e<t.length;++e)for(var o=t[e].querySelector("input").type,n=t[e].querySelectorAll('input[type="'+o+'"]:checked'),i=0;i<n.length;++i)n[i].checked=!1},o.prototype.cleanErrors=function(){for(var e=this.element,o=0;o<e.length;++o){var n=e[o],i=n.querySelector(".yotpo-custom-field-error");i&&t.removeClass(i,"yotpo-custom-field-error")}},o.prototype.validate=function(){var e,o=this.element,n=this.params,i=[];for(e=0;e<o.length;e++){var r=o[e];t.hasClass(r,"yotpo-mandatory-custom-field")&&i.push(r)}for(e=0;e<i.length;e++){var a=i[e].querySelector("input").name,s=n["custom_fields["+a+"]"];if(!s||s.constructor==Array&&!s.length)throw{message:"FieldNotValid:"+s,field:a,type:"mandatory_field"}}},o}(Yotpo),Yotpo.Libraries=Yotpo.Libraries||{},Yotpo.Libraries.FacebookAds=function(){function t(t){!function(t,e,o,n,i,r,a){t.fbq||(i=t.fbq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},t._fbq||(t._fbq=i),i.push=i,i.loaded=!0,i.version="2.0",i.queue=[],r=e.createElement(o),r.async=!0,r.src=n,a=e.getElementsByTagName(o)[0],a.parentNode.insertBefore(r,a))}(window,document,"script","//connect.facebook.net/en_US/fbevents.js"),fbq("init",t),fbq("track","PageView")}return t}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.Event=function(t){var e={};return e.on=function(t,e){this.callbacks=this.callbacks||{},this.callbacks[t]=this.callbacks[t]||[],this.callbacks[t].push(e)},e.trigger=function(e,o,n){var i=this;t.forEach(i.callbacks&&i.callbacks[e]||[],function(t){t.call(i,o,n)})},e}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.Handle=function(t){var e={};return e.write=function(e){function o(e,o,n,i,r,a,s,l,c){e.push({type:n,initiators:e[0].affected.querySelectorAll(o),action:function(){if(("function"!=typeof l||l())&&(t.currentAnalytics.trackEvent(i,r,a,c),1==s))for(var e,o=0;e=this.initiators[o];++o)t.removeEventListener(e,this.type,this.handler)}})}function n(t){for(var e=0;e<r.length;e++)if(r[e].name==t)return r[e]}var i=this,r=[],a=i.element.getElementsByClassName("write-"+e+"-wrapper")[0];if(a){var s=e+"s";"reviews"==s&&(s=i.analyticsCategory);var l=i._controller.getUserSetting("vendor_review_creation")?i._controller.getUserSetting("vendor_review_creation").settings:null,c=!1;if(l&&(c=function(){return 0!=Object.keys(i._controller.getTrustedVendorsData()).length}),i.forms=i.forms||{},i.forms[e+"s"]=new t.Form(i,a),r.push({name:"show_resource_content_field",type:"click",initiators:i.element.getElementsByClassName("write-"+e+"-button"),affected:a,validate:null!=l,skipAnimation:function(){return l&&"1"==l.require_external_sign_in&&"review"==e&&0==Object.keys(i._controller.getTrustedVendorsData()).length},effect:"slideDown",action:function(){i.get("messages").hideAll();var o=i.get("tabs").getTab(e+"s");o&&o.click();var n=i.forms[e+"s"];if(!n.visible()){n.trigger("opened"),t.currentAnalytics.trackEvent(s,"clicked_on","write");var r=this.affected.querySelector(".form-group").getAttribute("data-custom-form-id");r&&t.currentAnalytics.trackEvent(s,"shown","custom_form",r)}}}),r[0].affected){r.push({name:"show_name_input_field",type:["keyup","paste"],initiators:r[0].affected.querySelectorAll(".write-"+e+"-content .form-element .y-input"),affected:r[0].affected.getElementsByClassName("yotpo-footer")[0],skipAnimation:function(){return l&&!("1"==l.show_name_field)},effect:"fadeIn",action:function(){if(l){var t=i._controller.getTrustedVendorsData(),o=i.forms[e+"s"],r=o.getInputField("display_name");if(t.display_name&&""==r.value&&o.setInputField("display_name",t.display_name),Object.keys(t).length>0||"function"==typeof o.writeContentCallback){var a=n("enable_form_submit");a&&a.handler()}}}}),r.push({name:"show_social_sign_in",type:["keyup","paste"],initiators:r[1].initiators,affected:r[1].affected.getElementsByClassName("socialize-wrapper")[0],skipAnimation:c,effect:"fadeIn"}),r.push({name:"show_email_input_field",type:["keyup","paste"],initiators:r[1].affected?r[1].affected.getElementsByClassName("name-input"):[],affected:r[1].affected?r[1].affected.getElementsByClassName("email-input")[0]:[],effect:"fadeIn",skipAnimation:c,action:function(){i.forms[e+"s"].submitButton.style.marginTop="15px"}});var u=r.length-1;r.push({name:"enable_form_submit",type:["keyup","paste"],initiators:[r[u].affected],affected:null,action:function(){i.forms[e+"s"].activate()}}),o(r,".write-review .y-input[name=review_title]","click",s,"clicked_on","title_field",!1),o(r,".write-review .y-input[name=review_title]","keydown",s,"typed","title_field",!0),o(r,".write-review .y-input[name=review_content]","click",s,"clicked_on","body_field",!1),o(r,".write-review .y-input[name=review_content]","keydown",s,"typed","body_field",!0),o(r,".write-review .y-input[name=display_name]","click",s,"clicked_on","name_field",!1),o(r,".write-review .y-input[name=display_name]","keydown",s,"typed","name_field",!0),o(r,".write-review .y-input[name=email]","click",s,"clicked_on","email_field",!1),o(r,".write-review .y-input[name=email]","keydown",s,"typed","email_field",!0),o(r,".yotpo-submit","click",s,"clicked_on","post_button",!0),o(r,".write-review .y-input[name=content]","click",s,"clicked_on","name_field",!1);var d=function(){return l&&Object.keys(i._controller.getTrustedVendorsData()).length>0};o(r,".yotpo-submit","click",s,"clicked_on","post_button",!0,d,"verified")}t.forEach(r,function(e){for(var o=0;o<e.initiators.length;++o)e.handler=function(o){return function(){if(e.validate&&"function"==typeof i.writeContentCallback&&0===Object.keys(i._controller.getTrustedVendorsData()).length)return void i.writeContentCallback(this);"function"==typeof e.action&&e.action.call(e,this);var n=e.skipAnimation?e.skipAnimation():!1;n||!o||t.hasClass(o,"visible")&&"toggleSlide"!=e.effect||(t.toggleClass(o,"visible"),e.effect&&(t.Animations[e.effect](o),t.hasClass(i.getElement(),"testimonials")&&t.scrollTo(i.getElement().querySelectorAll(".yotpo-modal-body")[0],0,1300)))}}(e.affected),e.type instanceof Array||(e.type=[e.type]),t.forEach(e.type,function(n){t.addEventListener(e.initiators[o],n,e.handler)})})}},e.action=function(){for(var e=this.querySelectorAll(".yotpo-action[data-type]"),o=0;o<e.length;++o)e[o].onclick=function(){t.bindAnimation(this)}},e.tooltip=function(){for(var e=this.querySelectorAll(".yotpo-action-hover[data-type]"),o=0;o<e.length;++o)e[o].onmouseover=function(){t.bindAnimation(this,"fadeIn")},e[o].onmouseout=function(){t.bindAnimation(this,"fadeOut")}},e.sources=function(){var e=this,o=e.get("sources");for(var n in o)o.hasOwnProperty(n)&&"function"==typeof o[n].getType&&o[n].on("updated",function(o){return function(){var n=o.getType(),i=e.get("messages");if(o.getTemplate()){e.get("forms")[n].clean(),i.show("share");var r=n.substring(0,n.length-1),a=e.getElement().querySelector(".write-"+r+"-button"),s=e.getElement().querySelector(".yotpo-first-"+r);s&&(t.removeClass(a,"yotpo-hidden"),t.addClass(s,"yotpo-hidden"))}t.Modules.Handle.popup.call(o)}}(o[n]));for(var i,r=e.element.querySelectorAll(".yotpo-icon-yotpo-logo"),a=0;i=r[a];a++)t.addEventListener(i,"click",function(){t.currentAnalytics.trackEvent(e.analyticsCategory,"clicked_on","widget_branding_link")})},e.select=function(){for(var e=this,o=e.getElement().getElementsByClassName("yotpo-nav-dropdown"),n=0;n<o.length;++n){var i=new t.Select(o[n]);i.on("change",function(o){return function(){for(var n=e.getActiveSource(),i=o.getType().split(" "),r=o.getValue().split(" "),a=0;a<i.length;++a)n.settings[i[a]]=r[a];n.settings[o.getType()]=o.getValue().split(","),n.settings.page=1,n.refresh(),t.togglePreLoader(n.getElement())}}(i))}},e.mobileMenu=function(){var e=this.getElement().getElementsByClassName("yotpo-visible-mobile")[0];if(e){var o=e.parentNode.getElementsByClassName("yotpo-menu-mobile-collapse");t.addEventListener(e,"click",function(){for(var e=0;e<o.length;++e)t.Animations.toggleSlide(o[e])})}},e.popup=function(){for(var e=this,o="function"==typeof e.getElement?e.getElement():e,n=o.getElementsByClassName("popup-link"),i=0;i<n.length;++i){var r=void 0!=window.screenLeft?window.screenLeft:screen.left,a=void 0!=window.screenTop?window.screenTop:screen.top,s={height:parseInt(n[i].getAttribute("data_height")||400),width:parseInt(n[i].getAttribute("data_width")||580),top:parseInt(n[i].getAttribute("data_top")||200),left:parseInt(n[i].getAttribute("data_left")||400)},l=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,c=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;s.left=l/2-s.width/2+r,s.top=c/2-s.height/2+a,n[i].onclick=function(e){return function(){for(var o="",n=this.className.split(" "),i=0;i<n.length;i++)("yotpo-custom-badge-link"===n[i]||"yotpo-toa-link"===n[i])&&(o+=n[i]);if(o){var r=t.globals[o];(!r||r.closed)&&(r=t.globals[o]=window.open(this.href,"","status=no,toolbar=no,location=no,menubar=no,directories=no,scrollbars=yes,resizeable=yes,height="+e.height+",width="+e.width+",top="+e.top+",left="+e.left)),window.focus&&r.focus()}else window.open(this.href,"","status=no,toolbar=no,location=no,menubar=no,directories=no,scrollbars=yes,resizeable=yes,height="+e.height+",width="+e.width+",top="+e.top+",left="+e.left);return!1}}(s)}},e.semiWhiteLabel=function(){var t=this.getElement().querySelector(".yotpo-semi-label");t&&e.tooltip.call(t)},e}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.Helper=function(){var t={},e={initialized:function(){return this.getElement().getElementsByClassName("yotpo-display-wrapper").length>0}};return t.state=function(t){return"undefined"!=typeof t&&(this._state=t),this._state},t.is=function(t){return e[t]?e[t].call(this):this.state()==t},t.findAncestorByClass=function(t,e){do if(t=t.parentElement,!t)break;while(!t.classList.contains(e));return t},t}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.Pagination=function(t){var e={};return e.init=function(){for(var o=this,n=o.element.getElementsByClassName("yotpo-pager"),i=0;i<n.length;++i)for(var r in e.actions)if(e.actions.hasOwnProperty(r))for(var a=n[i].getElementsByClassName(r),s=0;s<a.length;++s){var l=null;"goTo"==r&&(l=+a[s].getAttribute("data-page")),a[s].onclick=function(n,i,r){return function(){if(!t.hasClass(this,"yotpo-disabled")){t.togglePreLoader(o.getElement());var a=e.actions[i].call(n,r);a&&"function"==typeof n.trigger&&n.trigger("pageChanged",i),t.currentAnalytics.trackEvent("reviews","clicked_on","widget_next_page")}}}(o,r,l)}},e.actions={yotpo_next:function(){return++this.settings.page,!0},yotpo_previous:function(){return 1==this.settings.page?!1:(--this.settings.page,!0)},goTo:function(t){return t=+t,1>t?!1:(this.settings.page=t,!0)}},e}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.Refresh=function(t){var e={};return e.perform=function(){var e=this;e._controller.getBatch(function(o){var n=[];try{n=JSON.parse(o),n=n.shift().result,"undefined"!=typeof e.getElement()&&(e.getElement().innerHTML=n),"function"==typeof e.trigger&&(e.trigger("refreshed"),e.trigger("ready"))}catch(i){t.safeConsole(i.message)}},[{method:e.getMethod(),params:e.getSettings()}])},e}(Yotpo),Yotpo.Modules=Yotpo.Modules||{},Yotpo.Modules.Vote=function(t){function e(e){for(var o=0;o<e.length;o++)t.removeClass(e[o],"yotpo-disabled")}function o(e){for(var o=0;o<e.length;o++)t.addClass(e[o],"yotpo-disabled")}var n={};return n.perform=function(o,n){var i=this,r=i.params.id,a=i.getType(),s=t.getApiHost()+"/"+a+"s/"+r+"/vote/"+o;n=n||!1,n&&(s+="/true"),function(o){t.ajax(s,function(t){i.data=JSON.parse(t),i.trigger("vote");var n=document.querySelector("[data-"+o+'-id="'+i.params.id+'"]');buttons=n.getElementsByClassName("vote-btn"),e(buttons)})}(a)},n.bind=function(e){for(var n=t.localStorage.getItem(e.getType()+"-"+e.get("id")),i=this.getElementsByClassName("yotpo-footer")[0],r=i.getElementsByClassName("vote-btn"),a=0;a<r.length;++a)r[a].getAttribute("data-type")==n&&t.addClass(r[a],"voted"),r[a].onclick=function(){function n(){var o=this.getAttribute("data-type"),n=t.hasClass(this,"voted"),i=this.parentNode.querySelector(".vote-sum[data-type="+o+"]");return n?(i.innerHTML=+i.innerHTML-1,t.localStorage.removeItem(e.getType()+"-"+e.get("id"))):(i.innerHTML=+i.innerHTML+1,t.localStorage.setItem(e.getType()+"-"+e.get("id"),o)),t.toggleClass(this,"voted"),e.vote(o,n),!0}if(t.hasClass(this,"yotpo-disabled"))return!1;var i=this.parentNode.getElementsByClassName("vote-btn");o(i);var r=this.parentNode.getElementsByClassName("voted")[0],a=!0;r&&r!=this&&(a=n.call(r)),a&&n.call(this)}},n}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.Badge=function(t){function e(t,e){var o=this;o._controller=t,o.element=e,o.settings={};for(var i in n)n.hasOwnProperty(i)&&o.on(i,n[i])}function o(){var t=this,e=this.getElement().getElementsByClassName("y-badge")[0];e&&(e.onclick=function(){var e=t._controller.getWidgetByName("Testimonials");e&&e.open()})}var n={};return e.prototype.getMethod=function(){return"badge"},e.prototype.getSettings=function(){return this.settings},e.selector=".yotpo.badge,.yotpo.yotpo-badge",e.prototype.getElement=function(){return this.element},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.getLayout=function(){return"old"},n={ready:function(){o.call(this)}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.Basic=function(t){function e(t,e,o){var n=this;n._controller=t,n.element=e,n.type=(o||"reviews").toLowerCase(),n.settings={page:1};var i=e.getAttribute("data-product-id");i&&(n.settings.pid=i);for(var r in a)a.hasOwnProperty(r)&&n.on(r,a[r])}function o(){var e=this.getType().substring(0,this.type.length-1),o=t[t.capitalize(e)];if(o&&"function"==typeof o.load){this.content=[];for(var n=this.getElement().getElementsByClassName("yotpo-"+e),i=0;i<n.length;++i){var r=o.load(n[i]);this.content.push(r)}}}function n(){var e,o,n=this,r=this._controller.getAppKey(),a=n.element.querySelectorAll(".yotpo-review .social-link");for(e=0,o;o=a[e];e++)t.addEventListener(o,"click",function(){var e=this.getAttribute("data-network");t.currentAnalytics.trackEvent(n.analyticsCategory,"clicked_on","share_published_"+e)});var s,l=n.element.querySelectorAll(".yotpo-review .yotpo-footer .yotpo-syndication-reference .syndication-reference-link");for(e=0,s;s=l[e];e++)t.addEventListener(s,"click",function(){t.currentAnalytics.trackEvent("reviews","clicked_on","syndication_link","onsite_v2",r)});i.call(this);var c,u,d,g,p;for(c=this.getElement().getElementsByClassName("yotpo-review-images-wrapper"),u=this.getElement().getElementsByClassName("image-review"),e=0;g=c[e];e++)p=g.getElementsByClassName("image-review"),t.currentAnalytics.trackEvent("reviews","loaded","review_image",p.length),t.currentInview.register(g,function(){t.currentAnalytics.trackEvent("reviews","shown","review_image","onsite_v2",r)});for(e=0;d=u[e];e++)t.addEventListener(d,"click",function(){var e=this.getAttribute("data-image-id");t.currentAnalytics.trackEvent("reviews","clicked_on","review_image",e)})}function i(){for(var e,o=["review","question"],n=this._controller.getAppKey(),i=0;e=o[i];i++)for(var r,a=this.getElement().getElementsByClassName("write-first-"+e+"-button"),s=0;r=a[s];s++)t.currentInview.register(r,function(e){return function(){t.currentAnalytics.trackEvent(e+"s","shown","be_the_first_button","onsite_v2",n)}}(e)),t.addEventListener(r,"click",function(e){return function(){t.currentAnalytics.trackEvent(e+"s","clicked_on","be_the_first_button","onsite_v2",n)}}(e))}function r(){var t=this._controller.getWidgetByName("Gallery");if(t)for(var e=this.getElement().getElementsByClassName("image-review"),o=0;o<e.length;++o)e[o].onclick=function(){t.open(this)}}var a={};return e.prototype.getMethod=function(){return this.type},e.prototype.getSettings=function(){return this.settings},e.prototype.getElement=function(){return this.element},e.prototype.getType=function(){return this.type},e.prototype.getContent=function(){return this.content||[]},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.refresh=function(){t.Modules.Refresh.perform.call(this)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.getTemplate=function(){return this.template=this.template||(this.getElement().getElementsByClassName("yotpo-template")||[])[0],this.template},a={ready:function(){t.Modules.Pagination.init.call(this),n.call(this),r.call(this),o.call(this),t.Modules.Handle.popup.call(this)},pageChanged:function(){this.refresh()}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.Bottomline=function(t){function e(t,e){var o=this;o.analyticsCategory="star_rating",o._controller=t,o.element=e,o.settings={pid:e.getAttribute("data-product-id"),link:e.getAttribute("data-url"),skip_average_score:e.getAttribute("data-skip-average-score")||!o.getMainWidget()},o.getMainWidget()&&(o.settings.main_widget_pid=o.getMainWidget().settings.pid);var n={lang:"locale",demo:"demo","product-readonly":"product-readonly"};for(var i in n)o.element.getAttribute("data-"+i)&&(o.settings[n[i]]=o.element.getAttribute("data-"+i));for(var a in r)r.hasOwnProperty(a)&&o.on(a,r[a])}function o(){for(var e,o=this,n=o.element.querySelectorAll(".standalone-bottomline"),i=0;e=n[i];i++)t.addEventListener(e,"click",function(){t.currentAnalytics.trackEvent(o.analyticsCategory,"clicked_on",null,o.settings.pid)});var r=o.element.getElementsByClassName("yotpo-star-distribution");if(r.length){for(var a=o.getMainWidget().getActiveSource(),s=a.getSettings().pid,l=["review-stars","yotpo-sum-reviews","yotpo-star-distribution-graph"],i=0;i<l.length;i++)for(var c=r[0].getElementsByClassName(l[i]),u=0;u<c.length;u++){var d=c[u];if(t.hasClass(d,"yotpo-distribution-clickable")){var g=parseInt(d.getAttribute("data-score-distribution"));t.addEventListener(d,"click",function(e){return function(){t.currentAnalytics.trackEvent("reviews","clicked_on","star_distribution",s+":"+e)}}(g))}}var p=r[0].getElementsByClassName("yotpo-star-distribution-footer")[0].getElementsByTagName("span")[0];t.addEventListener(p,"click",function(){t.currentAnalytics.trackEvent("reviews","clicked_on","star_distribution_show_all",s)})}}function n(){var e=this,o=e.element.getElementsByClassName("yotpo-star-distribution");if(o.length){for(var n=0,i=["review-stars","yotpo-sum-reviews","yotpo-star-distribution-graph"],r=0;r<i.length;r++)for(var a=o[0].getElementsByClassName(i[r]),s=0;s<a.length;s++){var l=a[s];t.hasClass(l,"yotpo-distribution-clickable")&&(l.onclick=function(){t.show(o[0].getElementsByClassName("yotpo-star-distribution-footer")[0]),e.trigger("starDistributionClicked",this)},"yotpo-sum-reviews"==i[r]&&(n+=parseInt(l.innerHTML.replace(/[()]/g,""))))}o[0].getElementsByClassName("yotpo-star-distribution-show-all")[0].onclick=function(){e.trigger("showAllReviews",n)}}}function i(){var t=this,e=t.element.getElementsByClassName("yotpo-product-related-fields");if(e.length){var o=e[0].getElementsByClassName("yotpo-product-related-show-all")[0];o.onclick=function(){t.trigger("showCustomdFields")};var o=e[0].getElementsByClassName("yotpo-product-related-show-less")[0];o.onclick=function(){t.trigger("hideCustomdFields")}}}var r={};return e.selector=".yotpo.bottomLine",e.prototype.getElement=function(){return this.element},e.prototype.getSettings=function(){return this.settings},e.prototype.getMethod=function(){return"bottomline"},e.prototype.getMainWidget=function(){return this._controller instanceof t?this._controller.getWidgetByName("Main"):this._controller instanceof t.Widgets.Main?this._controller:null},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.refresh=function(){t.Modules.Refresh.perform.call(this)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.getLayout=function(){return"old"},r={ready:function(){var e=this;n.call(e),i.call(e),o.call(e);var r=e.getMainWidget();if(e.settings.pid&&this.element.querySelectorAll(".standalone-bottomline").length>0){var a=this.settings.pid;r?t.currentAnalytics.trackEvent("star_rating","loaded","product_page",a):t.currentAnalytics.trackEvent("star_rating","loaded","category_page",a),t.currentInview.register(e.element,function(){t.currentAnalytics.trackEvent("star_rating","shown",null,a)})}e.getElement().querySelectorAll(".star-clickable").length>0&&t.addEventListener(e.getElement(),"click",function(){r&&r.getElement().scrollIntoView()})},starDistributionClicked:function(e){var o=this.getMainWidget();o.get("tabs").getTab("reviews").click();var n=parseInt(e.getAttribute("data-score-distribution")),i=this.getMainWidget().getActiveSource();i.getSettings().star=n,this.getElement().getAttribute("data-demo")&&(i.getSettings().demo=!0),i.getSettings().page=1,t.togglePreLoader(i.getElement()),i.refresh();for(var r=["review-stars","yotpo-sum-reviews","yotpo-star-distribution-graph"],a=0;a<r.length;a++)for(var s=this.getElement().getElementsByClassName(r[a]),l=0;l<s.length;l++){var e=s[l];if(parseInt(e.getAttribute("data-score-distribution"))!=n)t.addClass(e,"yotpo-distribution-unactive");else if(t.removeClass(e,"yotpo-distribution-unactive"),"yotpo-sum-reviews"==r[a]){var c=e.innerHTML;document.getElementsByClassName("yotpo-reviews-nav-tab-sum")[0].innerHTML=c}}},showAllReviews:function(e){var o=this.getMainWidget();o.get("tabs").getTab("reviews").click(),t.hide(document.getElementsByClassName("yotpo-star-distribution-footer")[0]);var n=o.getActiveSource();delete n.getSettings().star,n.getSettings().page=1,this.getElement().getAttribute("data-demo")&&(n.getSettings().demo=!0),t.togglePreLoader(n.getElement()),n.refresh(),document.getElementsByClassName("yotpo-reviews-nav-tab-sum")[0].innerHTML="("+e+")";for(var i=this.getElement().getElementsByClassName("yotpo-star-distribution-graph"),r=0;r<i.length;r++){var a=i[r];t.removeClass(a,"yotpo-distribution-unactive")}},showCustomdFields:function(){for(var e=this.getElement(),o=e.getElementsByClassName("yotpo-product-related-fields-column")[0],n=o.querySelectorAll(".yotpo-product-related-field-name.yotpo-hidden"),i=0;i<n.length;i++)t.show(n[i],"block");for(var r=o.querySelectorAll(".yotpo-rating-bars.yotpo-hidden, .yotpo-size-bars.yotpo-hidden"),i=0;i<r.length;i++)t.show(r[i],"block");t.hide(e.getElementsByClassName("yotpo-product-related-show-all")[0]),t.show(e.getElementsByClassName("yotpo-product-related-show-less")[0],"block")},hideCustomdFields:function(){for(var e=this.getElement(),o=e.getElementsByClassName("yotpo-product-related-fields-column")[0],n=o.getElementsByClassName("yotpo-product-related-field-name"),i=5;i<n.length;i++)t.hide(n[i]);for(var r=o.querySelectorAll(".yotpo-rating-bars, .yotpo-size-bars"),i=5;i<r.length;i++)t.hide(r[i]);t.hide(e.getElementsByClassName("yotpo-product-related-show-less")[0]),t.show(e.getElementsByClassName("yotpo-product-related-show-all")[0],"block")}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.Carousels=function(t){function e(t,e){var o=this;o._controller=t,o.element=e,o.autoplay_enabled=o.element.getAttribute("data-autoplay-enabled"),o.settings={autoplay_speed:o.element.getAttribute("data-autoplay-speed"),data_show_navigation:o.element.getAttribute("data-show-navigation"),data_show_bottomline:o.element.getAttribute("data-show-bottomline"),data_header_customisation_enabled:o.element.getAttribute("data-header-customisation-enabled"),data_header_customisation_text:o.element.getAttribute("data-header-customisation-text"),data_header_customisation_font_size:o.element.getAttribute("data-header-customisation-font-size"),data_header_customisation_color:o.element.getAttribute("data-header-customisation-color"),data_header_customisation_alignment:o.element.getAttribute("data-header-customisation-alignment"),data_background_color:o.element.getAttribute("data-background-color"),data_testimonials_page_enabled:o.element.getAttribute("data-testimonials-page-enabled"),data_testimonials_page_link:o.element.getAttribute("data-testimonials-page-link"),data_testimonials_page_text:o.element.getAttribute("data-testimonials-page-text"),demo:o.element.getAttribute("data-demo")},"site"==o.element.getAttribute("data-type")?o.settings.pid="yotpo_site_reviews":"both"==o.element.getAttribute("data-type")&&(o.settings.include_site_reviews=!0),"top_rated"==o.element.getAttribute("data-mode")&&(o.settings.best=!0),"most_recent"==o.element.getAttribute("data-mode")&&(o.settings.sort="time"),o.element.getAttribute("data-review-ids")&&(o.settings.id=o.element.getAttribute("data-review-ids").split(",")),o.element.getAttribute("data-count")&&(o.settings.per_page=parseInt(o.element.getAttribute("data-count")),o.settings.per_page>9&&(o.settings.per_page=9)),o.carouselSpeed=parseInt(o.settings.autoplay_speed||3e3),o.carouselSpeed<1500&&(o.carouselSpeed=1500);for(var n in _)_.hasOwnProperty(n)&&o.on(n,_[n])}function o(){function t(t){if(o.autoplay_enabled){var n,i="visible",r="hidden",a={focus:i,focusin:i,pageshow:i,blur:r,focusout:r,pagehide:r};if(t=t||window.event,n=t.type in a?a[t.type]:this[e]?"hidden":"visible","hidden"==n)clearInterval(p);else{{g(o.getCarouselContainerWidth())}o.autoPlayCarousel()}}}var e="hidden",o=this;e in document?document.addEventListener("visibilitychange",t):(e="mozHidden")in document?document.addEventListener("mozvisibilitychange",t):(e="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",t):(e="msHidden")in document?document.addEventListener("msvisibilitychange",t):"onfocusin"in document?document.onfocusin=document.onfocusout=t:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=t,void 0!==document[e]&&t({type:document[e]?"blur":"focus"})}function n(){this.settings.data_show_navigation&&(g(this.getCarouselContainerWidth())>=this.carouselReviewsCount?t.hide(this.getElement().querySelector(".carousel-arrows")):t.show(this.getElement().querySelector(".carousel-arrows")))}function i(){return!this.autoplay_enabled||g(this.getCarouselContainerWidth())>=this.carouselReviewsCount?!1:!0}function r(){var e=this.getElement(),o=this,n=0,i=0;e.querySelector(".yotpo-icon-left-arrow-thin").onclick=function(){new Date-n<1200||(n=new Date,o.animateCarousel(o.reviewSize,"left"),t.currentAnalytics.trackEvent("carousel","clicked_on","previous"),setTimeout(function(){o.autoPlayCarousel()},o.carouselSpeed))},e.querySelector(".yotpo-icon-right-arrow-thin").onclick=function(){new Date-i<1200||(i=new Date,o.animateCarousel(o.reviewSize,"right"),t.currentAnalytics.trackEvent("carousel","clicked_on","next"),setTimeout(function(){o.autoPlayCarousel()},o.carouselSpeed))}}function a(){var e=this.getElement(),o=this;e.onmouseover=function(){clearInterval(p)},e.onmouseout=function(){o.autoPlayCarousel()};for(var n=function(e,o){for(var n=e.querySelectorAll(".product-link-container"),i=0;i<n.length;i++)n[i].querySelector(".carousel-review-product-text")&&(n[i].onmouseover=function(){this.querySelector(".carousel-review-product-text").style.textDecoration="underline"},n[i].onmouseout=function(){this.querySelector(".carousel-review-product-text").style.textDecoration="none"}),n[i].onclick=function(){return t.currentAnalytics.trackEvent("carousel","clicked_on","review",o),!0}},i=e.querySelectorAll(".single-carousel.review"),r=0;r<i.length;r++)n(i[r],i[r].getAttribute("data-review-id"))}function s(t,e){this.getElement().querySelector(".scroller").style.width=t*e-30+"px"}function l(t){for(var e=t.querySelectorAll(".carousel-review-title"),o=0;o<e.length;o++)e[o].setAttribute("full-headline",e[o].innerHTML.trim()),e[o].innerHTML.trim().length>v&&(e[o].innerHTML=e[o].innerHTML.trim().substring(0,v-3)+"...")}function c(e){function o(o,n,i,r){"icon-yotpo-top-corner"==r?(i-=S,n+=y/2):"icon-yotpo-right-corner"==r?(i+=k,n+=y):(i+=k,n-=A),o.style.left=n+"px",o.style.top=i+"px",t.removeClassList(o,["icon-yotpo-top-corner","icon-yotpo-right-corner","icon-yotpo-left-corner"]),t.addClass(o,r),t.show(e.querySelector(".yotpo-corner"))}var n,i,r=e.querySelector(".carousel-tool-tip");r.querySelector(".tool-tip-header-span").innerHTML=this.reviewTitle,r.querySelector(".tool-tip-content").innerHTML=this.reviewBody;var a=e.querySelector(".yotpo-carousel").getBoundingClientRect().top-e.querySelector(".carousel-display-wrapper").getBoundingClientRect().top,s=this.offsetLeft,l=this.offsetTop+a,c=g(e.clientWidth);3==c?(e.querySelector(".yotpo .scroller").getBoundingClientRect().right-this.getBoundingClientRect().right<y?(s-=y,n="icon-yotpo-right-corner"):(s+=b,n="icon-yotpo-left-corner"),i=-20):(i=20,s-=y/2-b,n="icon-yotpo-top-corner"),l+=i,e.querySelector(".carousel-tool-tip .yotpo-tool-tip").style.left=s+"px",e.querySelector(".carousel-tool-tip .yotpo-tool-tip").style.top=l+"px",o(e.querySelector(".yotpo-corner"),s,l,n),e.querySelector(".carousel-tool-tip .yotpo-tool-tip").style.display="block"
}function u(e){var o=this,n=document.createElement("div"),i=this;return n.className="carousel-read-more",n.innerHTML=i.querySelector(".carousel-read-more-text").getAttribute("data-text"),n.reviewTitle=e.querySelector(".carousel-review-title").getAttribute("full-headline"),n.reviewBody=e.querySelector(".carousel-review-body").fullReview.substring(0,h),n.onmouseover=function(){clearInterval(p),c.call(this,i),t.currentAnalytics.trackEvent("carousel","hovered_on","read more")},n.onmouseout=function(){o.querySelector(".carousel-tool-tip .yotpo-tool-tip").style.display="none",t.hide(o.querySelector(".yotpo-corner"))},n.onclick=function(t){t.stopPropagation()},n}function d(e){for(var o=0;o<e.length;o++)for(var n=e[o].querySelectorAll(".carousel-review-body"),i=0;i<n.length;i++)n[i].innerHTML=n[i].innerHTML.trim(),n[i].fullReview=n[i].innerHTML,n[i].innerHTML.length>=w&&(n[i].innerHTML=n[i].innerHTML.substring(0,w)+"...",n[i].appendChild(u.call(this,e[o])),t.show(this.querySelector(".yotpo-reviews-carousel .carousel-tool-tip")))}function g(t){var e;return t>=960?e=3:t>=600&&960>t?e=2:600>t&&(e=1),e}var p,m=403,h=400,f=300,y=298,v=57,w=130,b=90,k=20,S=10,A=9,E=["extra-small","small","medium","large","extra-large"],_={};return e.prototype.getCarouselContainerWidth=function(){return this.getElement().clientWidth},e.prototype.getMethod=function(){return"carousels"},e.selector=".yotpo.yotpo-reviews-carousel",e.prototype.getSettings=function(){return this.settings},e.prototype.getElement=function(){return this.element},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.refresh=function(){t.Modules.Refresh.perform.call(this)},e.prototype.autoPlayCarousel=function(){if(!i.call(this))return void clearInterval(p);var e=this,o=this.reviewSize;p>0&&clearInterval(p),p=setInterval(function(){var n=e.getElement().querySelector(".scroller");t.scrollTo(n,n.scrollLeft+o,1e3,!1,function(){var t=e.getElement().querySelector(".yotpo-carousel .single-carousel");e.getElement().querySelector(".yotpo-carousel").removeChild(t),e.getElement().querySelector(".yotpo-carousel").appendChild(t),n.scrollLeft=0})},e.carouselSpeed)},e.prototype.animateCarousel=function(e,o){var n=this.getElement().querySelector(".yotpo-carousel"),i=this;clearInterval(p),t.moveTo(n,e,1200,o,function(){if("right"==o){var t=i.getElement().querySelector(".yotpo-carousel .single-carousel");i.getElement().querySelector(".yotpo-carousel").removeChild(t),i.getElement().querySelector(".yotpo-carousel").appendChild(t),n.style.right=""}else{var e=i.getElement().querySelector(".yotpo-carousel"),r=i.getElement().querySelectorAll(".yotpo-carousel .single-carousel"),a=r[r.length-1];e.insertBefore(a,e.firstChild),n.style.left=""}})},e.prototype.getLayout=function(){return"new"},_={ready:function(){if(this.is("initialized")){var e=this,n=this.getElement();o.call(e),t.currentInview.register(e.element,function(){t.currentAnalytics.trackEvent("carousel","shown",null,null)}),n.querySelector(".all-reviews")&&(n.querySelector(".all-reviews").onclick=function(){t.currentAnalytics.trackEvent("carousel","clicked_on","read_more",null)}),this.settings.data_show_navigation&&r.call(this),a.call(this),this.carouselReviewsCount=parseInt(n.querySelector(".carousel-display-wrapper").getAttribute("data-attr-total-reviews"));for(var i=n.querySelectorAll(".single-carousel"),s=0;s<i.length;s++)l(i[s]);d.call(n,i)}},pageChanged:function(){var t=this;t.refresh()},resize:function(){this.callbacks.sizeCalculated[0].call(this,this.getCarouselContainerWidth())},sizeCalculated:function(e){if(this.is("initialized")){var o,i,r=g(e),a=this.getElement();e>=1366?(o="big-version",i="extra-large"):1360>e&&e>=960?(o="small-version",i="large"):e>=600&&960>e?(o="small-version",i="medium"):e>=400&&600>e?(o="big-version",i="small"):400>e&&(o="small-version",i="extra-small");var l="small-version"==o?"big-version":"small-version";this.reviewType=o;var c="big-version"==o?m:f,u=(this.getCarouselContainerWidth()-r*c)/r,d=a.querySelectorAll(".single-carousel");t.removeClassList(this.getElement().querySelector(".grid"),E),t.addClass(this.getElement().querySelector(".grid"),i),!this.settings.data_testimonials_page_enabled||"small"!=i&&"extra-small"!=i||t.addClass(this.getElement().querySelector(".grid"),"has-testimonials-link");for(var p=0;p<d.length;p++)t.show(d[p].querySelector("."+o)),t.hide(d[p].querySelector("."+l)),d[p].style.marginRight=u+"px";this.reviewSize=c+u,this.autoPlayCarousel(),n.call(this),s.call(this,c+u,g(e)),t.currentAnalytics.trackEvent("carousel","loaded",null,null)}}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.Embedded=function(t){function e(t,e){var o=this;o.analyticsCategory="embed",o._controller=t,o.element=e,o.sources={},o.settings={per_page:o.element.getAttribute("data-reviews"),view:{type:o.element.getAttribute("data-product-id"),layout:o.element.getAttribute("data-layout"),width:o.element.getAttribute("data-width"),headerText:o.element.getAttribute("data-header-text"),transparency:o.element.getAttribute("data-transparency"),headerBackgroundColor:o.element.getAttribute("data-header-background-color"),bodyBackgroundColor:o.element.getAttribute("data-body-background-color"),fontSize:o.element.getAttribute("data-font-size"),fontColor:o.element.getAttribute("data-font-color")}};for(var i in n)n.hasOwnProperty(i)&&o.on(i,n[i])}function o(){for(var e,o=this,n=o.element.querySelectorAll(".embedded-item-link"),i=0;e=n[i];i++){var r=e.getAttribute("data-widget-type"),a=e.getAttribute("data-product-id");t.addEventListener(e,"click",function(){t.currentAnalytics.trackEvent(o.analyticsCategory,"clicked_on",r,a)})}}var n={};return e.selector=".yotpo.embedded-widget",e.prototype.getMethod=function(){var t=null;return"yotpo_global_reviews"==this.settings.view.type?t="reviews":"top_rated_products"==this.settings.view.type&&(t="products"),"embedded_widget_"+t},e.prototype.getSettings=function(){return this.settings},e.prototype.getElement=function(){return this.element},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.getLayout=function(){return"old"},n={ready:function(){var e=this,n=this.getMethod();e.sources[n]=new t.Widgets.Basic(e._controller,e.getElement(),n),t.copy(e.settings,e.sources[n]),o.call(this),t.Modules.Handle.tooltip.call(this.getElement());var i;"embedded_widget_reviews"==n?i="recent_reviews":"embedded_widget_products"==n&&(i="top_products"),t.currentAnalytics.trackEvent("embed","loaded",i),t.currentInview.register(e.element,function(){t.currentAnalytics.trackEvent("embed","shown",i)})}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.Gallery=function(t){function e(t,e){var o=this;o._controller=t,o.element=e||s(),o.settings={};for(var n in d)d.hasOwnProperty(n)&&o.on(n,d[n])}function o(){this.rightArrow.style.display=this.leftArrow.style.display=1===this.numGalleryImages?"none":"block"}function n(){this.rightArrow.style.display=this.leftArrow.style.display="none"}function i(){var t=this;this.oldKeyDownFunction=document.onkeydown,document.onkeydown=function(e){e=e||window.event,"37"==e.keyCode?t.previous():"39"==e.keyCode?t.next():"27"==e.keyCode&&t.close()}}function r(){document.onkeydown=this.oldKeyDownFunction}function a(){var t=this._controller.getWidgetByName("Testimonials"),e=this._controller.getWidgetByName("Main");if(t&&e){var o=t.getElement(),n=o.style.display;o.style.display="none"===n?"block":"none"}}function s(){var t=document.createElement("div");return t.className="yotpo yotpo-gallery",document.body.appendChild(t),t}function l(){var t=this;this.mask.onclick=this.modalDialog.onclick=this.closeBtn.onclick=function(){t.close()},this.leftArrow.onclick=function(){t.previous()},this.rightArrow.onclick=function(){t.next()};for(var e=0;e<this.galleryImages.length;++e)this.galleryImages[e].onclick=function(t){t&&"undefined"!=typeof t.stopPropagation&&t.stopPropagation()}}function c(){this.currImageIndex=0,this.gallery=this.getElement(),this.galleryContainer=this.gallery.getElementsByClassName("gallery-images-container")[0],this.galleryImages=this.galleryContainer.getElementsByClassName("yotpo-gallery-image"),this.closeBtn=this.gallery.getElementsByClassName("yotpo-icon-btn-small")[0],this.modal=this.gallery.getElementsByClassName("yotpo-modal")[0],this.modalDialog=this.modal.getElementsByClassName("yotpo-modal-dialog")[0],this.galleryFadeContainer=this.modalDialog.getElementsByClassName("gallery-fade-container")[0],this.mask=this.modal.getElementsByClassName("yotpo-modal-mask")[0],this.loader=this.modal.getElementsByClassName("yotpo-image-loader-wrapper")[0],this.leftArrow=this.gallery.getElementsByClassName("yotpo-icon-left-arrow-thin")[0],this.rightArrow=this.gallery.getElementsByClassName("yotpo-icon-right-arrow-thin")[0],this.numGalleryImages=g}function u(e){var o,n=this;this.isSliding||1===this.numGalleryImages||(t.currentAnalytics.trackEvent("reviews","clicked_on","review_image_slider","onsite_v2",this._controller.getAppKey()),this.isSliding=!0,this.currImageIndex+=e,this.galleryContainer.style.left=100*-this.currImageIndex+"%",0===this.currImageIndex?o=this.numGalleryImages:n.currImageIndex===p-1&&(o=-this.numGalleryImages),"undefined"!=typeof o?setTimeout(function(){t.removeClass(n.galleryContainer,"gallery-animations"),n.currImageIndex+=o,n.galleryContainer.style.left=100*-n.currImageIndex+"%",setTimeout(function(){t.addClass(n.galleryContainer,"gallery-animations"),n.isSliding=!1},500)},500):this.isSliding=!1)}var d={},g=3,p=5;return e.selector=".yotpo-gallery",e.createsElement=function(t){return"undefined"!=typeof t.review_with_pictures&&t.review_with_pictures!==!1},e.prototype.getMethod=function(){return"gallery"},e.prototype.getSettings=function(){return this.settings},e.prototype.getElement=function(){return this.element},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.getLayout=function(){return"old"},e.prototype.open=function(e){function r(){t.addClass(s.loader,"yotpo-hidden");for(var n=0;p>n;n++)l=(n+s.numGalleryImages-1)%s.numGalleryImages,s.galleryImages[n].src=u[l],n<c.length&&c[n]===e&&(s.currImageIndex=n+1,s.galleryContainer.style.left=100*-(n+1)+"%");t.removeClass(s.galleryContainer,"yotpo-hidden"),i.call(s),o.call(s),setTimeout(function(){s.galleryFadeContainer.style.opacity="1"},10)}var s=this;this.isOpen=!0,this.isSliding=!1;var l,c=e.parentNode.getElementsByClassName("image-review"),u=[];this.modal.style.display="block",this.numGalleryImages=c.length;for(var d=0;d<this.numGalleryImages;d++)u.push(c[d].getAttribute("data-original-src"));t.addClass(s.galleryContainer,"yotpo-hidden"),n.call(s),t.removeClass(s.loader,"yotpo-hidden"),a.call(s),t.addClass(s.modal,"yotpo-modal-active"),t.currentAnalytics.trackEvent("reviews","loaded","review_image_gallery",this.numGalleryImages),t.preloadImages(u,r)},e.prototype.close=function(){var e=this;this.isOpen&&(this.isOpen=!1,e.galleryFadeContainer.style.opacity="0",setTimeout(function(){a.call(e),t.removeClass(e.modal,"yotpo-modal-active"),e.modal.style.display="none";for(var o=0;p>o;o++)e.galleryImages[o].src="#"},500),r.call(this))},e.prototype.next=function(){u.call(this,1)},e.prototype.previous=function(){u.call(this,-1)},d={ready:function(){c.call(this),l.call(this)}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.Main=function(t){function e(e,o){var n=this;n._controller=e,n.element=o,n.sources={},n.settings={pid:n.element.getAttribute("data-product-id")},n.element.getAttribute("data-product-tags")&&(n.settings.tags=n.element.getAttribute("data-product-tags"));var i=n._controller.getUserSettings(),r={lang:"locale",demo:"demo",mode:"mode","product-readonly":"product-readonly","write-only":"write-only"};"undefined"!==n.element.getAttribute("data-per_page")&&(r.per_page="per_page");var a="undefined"!=typeof i.widget_rich_snippet&&i.widget_rich_snippet!==!1;a&&(n.settings["widget-rich-snippet"]=!0,t.copy({description:"description","image-url":"image",price:"price",currency:"currency",name:"name"},r));for(var s in r)n.element.getAttribute("data-"+s)&&(n.settings[r[s]]=n.element.getAttribute("data-"+s));var l="undefined"!=typeof i.questions_and_answers_standalone&&i.questions_and_answers_standalone!==!1;l||delete n.settings.mode,n.analyticsCategory="reviews",n.isWriteOnly()&&(n.analyticsCategory+="_write_only");for(var c in f)f.hasOwnProperty(c)&&n.on(c,f[c]);p.call(n)}function o(){var e=this,o={reviews:e.analyticsCategory,questions:"questions"==e.get("settings").mode?"questions_widget":"questions"};t.forEach(["yotpo-reviews","yotpo-questions"],function(n){var i=e.getElement().getElementsByClassName(n)[0];"undefined"!=typeof i&&(n=n.split("-")[1],e.sources[n]=new t.Widgets.Basic(e._controller,i,n),e.sources[n].settings.pid=e.settings.pid,e.settings.demo&&(e.sources[n].settings.demo=e.settings.demo),t.forEach(["locale","mode"],function(t){e.settings[t]&&(e.sources[n].settings[t]=e.settings[t])}),t.currentAnalytics.trackEvent(o[n],"loaded",null,e._controller.getUserSetting("version")),e.sources[n].trigger("ready"),e.sources[n].on("pageChanged",function(){setTimeout(function(){t.scrollToTop((e.get("tabs")||e.sources[n]).getElement())},300)}))})}function n(){var e=this,o=e.getElement().getElementsByClassName("promoted-products-box")[0];"undefined"!=typeof o&&(e.promotedProducts=new t.Widgets.PromotedProducts(e._controller,o),e.promotedProducts.trigger("ready"))}function i(){if(this.settings["widget-rich-snippet"]){var t=this.getElement().getElementsByClassName("y-rich-snippet-script")[0];"undefined"!=typeof t&&document.getElementsByTagName("head")[0].appendChild(t)}}function r(){var e=this,o=e.getElement().getElementsByClassName("yotpo-nav-primary")[0];o&&(e.tabs=new t.Tabs(o),e.tabs.on("changed",function(t){a.call(e,t)}))}function a(e){var o=this,n=o.getActiveSource();n.getElement().innerHTML.trim()||n.refresh();for(var i in o.forms)i!=n.getType()&&o.forms[i].clean();(0!=e.event.clientX||0!=e.event.clientY)&&t.currentAnalytics.trackEvent(n.getType(),"clicked_on","tab")}function s(){var e=this.getElement().getElementsByClassName("yotpo-messages");e.length>0&&(this.messages=new t.Messages(e))}function l(){for(var e,o=this,n=o.element.querySelectorAll(".yotpo-thank-you .social-link"),i=0;e=n[i];i++)t.addEventListener(e,"click",function(){var e=this.getAttribute("data-network");t.currentAnalytics.trackEvent(o.analyticsCategory,"clicked_on","share_"+e)});for(var r,a=o.element.querySelectorAll(".yotpo-thank-you .yotpo-icon-cross"),i=0;r=a[i];i++)t.addEventListener(r,"click",function(){t.currentAnalytics.trackEvent(o.analyticsCategory,"clicked_on","close_review_posted")})}function c(){var t=this._controller,e=t.getUserSetting("ads"),o=t.getUserSetting("facebook_ads");e&&o&&"0"!=o.settings.pixel_id&&this.settings.pid&&fbq("track","ViewContent",{content_ids:[this.settings.pid],content_type:"product"})}function u(){var e=this.getElement().querySelector(".yotpo-bottomline");e&&(t.Modules.Handle.tooltip.call(e),this.bottomline=new t.Widgets.Bottomline(this,e),this.bottomline.trigger("ready"))}function d(){var e=this.getElement().querySelector(".questions");e&&(this.questionsBottomline=new t.Widgets.QuestionsBottomline(this._controller,e),this.questionsBottomline.trigger("ready"))}function g(){window.setInterval(function(){t.currentInview.verifyInview()},1e3)}function p(){var e=this,o="questions"==e.get("settings").mode?"questions_widget":e.analyticsCategory;t.currentInview.register(e.element,function(){t.currentAnalytics.trackEvent(o,"shown"),e.trigger("sizeCalculated")})}function m(){var t=this,e=t.getElement().querySelector(".yotpo-nav .status-bar .current");if(e){var o=t.getActiveSource(),n=o.getElement().querySelector(".yotpo-pager"),i=n?+n.getAttribute("data-per-page"):h;o.on("ready",function(){var t=+(o.settings.page||1),n=(t-1)*i+1,r=n-1+o.getContent().length;o.getTemplate()&&--r,e.innerHTML=n+" - "+r})}}var h=10,f={};return e.selector=".yotpo.yotpo-main-widget",e.prototype.getMethod=function(){return"main_widget"},e.prototype.getSettings=function(){return this.settings},e.prototype.getElement=function(){return this.element},e.prototype.getSource=function(t){return this.sources[t]},e.prototype.getActiveSource=function(){return this.get("tabs")?this.sources[this.get("tabs").getActive().getAttribute("data-type")]:null},e.prototype.getAppKey=function(){return this._controller.getAppKey()},e.prototype.get=function(t){return this[t]},e.prototype.getProductInfo=function(){if("undefined"==typeof this.productInfo){this.productInfo={sku:this.get("settings").pid,product_title:this.getElement().getAttribute("data-name"),product_description:this.getElement().getAttribute("data-description"),product_url:this.getElement().getAttribute("data-url"),product_image_url:this.getElement().getAttribute("data-image-url"),product_specs:this.getProductSpecs()};var t=this.get("settings").demo;"undefined"!=typeof t&&(this.productInfo.demo=t);for(var e in this.productInfo)this.productInfo.hasOwnProperty(e)&&!this.productInfo[e]&&delete this.productInfo[e]}return this.productInfo},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.isWriteOnly=function(){return"undefined"!=typeof(this.getSettings()||{})["write-only"]},e.prototype.getLayout=function(){return"old"},e.prototype.getProductSpecs=function(){var t,e=this,o=["brand","isbn","mpn","upc"],n={};for(var i in o)t=o[i],e.element.getAttribute("data-product-spec-"+t)&&(n["product_specs["+t+"]"]=e.element.getAttribute("data-product-spec-"+t));var r=[];for(var a in n)r.push(a);return r.length>0?n:null},f={ready:function(){o.call(this),r.call(this),s.call(this),n.call(this),u.call(this),d.call(this),g.call(this),m.call(this),i.call(this),t.Modules.Handle.write.call(this,"review"),t.Modules.Handle.write.call(this,"question"),t.Modules.Handle.sources.call(this),t.Modules.Handle.select.call(this),t.Modules.Handle.mobileMenu.call(this),t.Modules.Handle.semiWhiteLabel.call(this),l.call(this),c.call(this)},resize:function(){this.promotedProducts&&this.promotedProducts.trigger("resize")},sizeCalculated:function(t){this.promotedProducts&&this.promotedProducts.trigger("sizeCalculated",{className:t})}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.PromotedProducts=function(t){function e(e,o){var n=this;n.analyticsCategory="promoted_products",n._controller=e,n.element=o,n.settings={promoted:!0},n.currentItem=0,n.totalItems=o.getElementsByTagName("li").length,n.scrollBase=o.getElementsByClassName("promoted-products")[0].scrollLeft,t.supportTouch()&&(t.hide(o.getElementsByClassName("yotpo-pager")[0]),delete i.pageChanged,o.getElementsByClassName("promoted-products")[0].style.overflowX="auto");for(var r in i)i.hasOwnProperty(r)&&n.on(r,i[r])}function o(){for(var e=this,o=e.getElement().getElementsByClassName("yotpo-promoted-product"),i=0;i<o.length;++i){var r=o[i],a=r.getAttribute("data-type"),s=r.getAttribute("data-source-products-app-id"),l=r.getAttribute("data-product-id"),c=r.getAttribute("data-dest-app-key"),u=r.getAttribute("data-matching-algorithm"),d=r.getAttribute("data-position");"cross_site"!=a?r.getElementsByClassName("yotpo-product-link")[0].onclick=function(e,o,n,i){return function(){t.currentAnalytics.trackEvent("reviews","clicked_on","promoted_products_"+n,[e,o,i].join(":"))}}(s,l,a,d):(r.getElementsByClassName("yotpo-product-link")[0].onclick=function(e,o,n,i,r,a){return function(){t.currentAnalytics.trackEvent("reviews","clicked_on","promoted_products_"+n,[e,o,i,r,a].join(":"))}}(s,l,a,c,u,d),t.currentAnalytics.trackEvent("reviews","loaded","promoted_products_"+a,[s,l,c,u,d].join(":")),t.currentInview.register(r,function(e,o,n,i,r,a){return function(){t.currentAnalytics.trackEvent("reviews","shown","promoted_products_"+e,[o,n,i,r,a].join(":"))}}(a,s,l,c,u,d)))}t.currentAnalytics.trackEvent("reviews","loaded","promoted_products"),t.currentInview.register(e.element,function(){n.call(e),t.currentAnalytics.trackEvent("reviews","shown","promoted_products")})}function n(){var e=this,o=setInterval(function(){if("none"!==window.getComputedStyle(e.element).display){clearInterval(o);for(var n=!1,i=e.element.getElementsByClassName("yotpo-product-name"),r=0;r<i.length;r++)for(var a=i[r];a.scrollHeight>a.clientHeight;){n=!0;var s=a.textContent,l=s.lastIndexOf(" ");a.textContent=s.substring(0,l)+"..."}n&&t.addClass(e.element.getElementsByClassName("promoted-products")[0],"yotpo-long-product-names")}},50)}var i={},r=!1;return e.selector=".promoted-products-box",e.prototype.getElement=function(){return this.element},e.prototype.getSettings=function(){return this.settings},e.prototype.getMethod=function(){return"promoted_products"},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.perPage=3,e.prototype.getLayout=function(){return"old"},i={ready:function(){var e=this;t.Modules.Pagination.init.call(e),e.trigger("resize")},pageChanged:function(o){e.perPage=Math.min(this.getElement().getElementsByClassName("yotpo-promoted-product").length-1,e.perPage);var n=this._controller.getUserSetting("direction"),i=Math.min(Math.max(0,this.currentItem+("yotpo_next"==o?e.perPage:-e.perPage)),this.totalItems-1),r=this.getElement().getElementsByClassName("promoted-products")[0],a=r.getElementsByTagName("li")[i],s=a.clientWidth*i;"rtl"==n&&(s=this.scrollBase-a.clientWidth*i),t.scrollTo(r,s,500,!1),this.currentItem=i},resize:function(){if(!t.supportTouch()){var e=this.element.getElementsByClassName("promoted-products")[0];e.scrollWidth<=e.offsetWidth?t.hide(this.element.getElementsByClassName("yotpo-pager")[0]):t.show(this.element.getElementsByClassName("yotpo-pager")[0])}},sizeCalculated:function(e){for(var n=this,i=0,a=document.getElementsByTagName("body")[0],s=n.getElement();s&&s!=a&&0==s.offsetWidth;)s=s.parentNode;var l=0;l+=2*parseInt(t.getStyle(s,"margin-left")),l+=2*parseInt(t.getStyle(s,"padding-left"));var c=n.getElement().getElementsByClassName("yotpo-promoted-products")[0];i+=2*parseInt(t.getStyle(c,"margin-left"));var u=n.getElement().getElementsByClassName("promoted-products")[0],d=u.getElementsByTagName("li").length,g=n.getElement().getElementsByClassName("yotpo-promoted-product");if(0==g.length)return void t.hide(this.getElement());i+=d*parseInt(t.getStyle(g[0],"margin-left"))*2;var p=160;"yotpo-small"==e.className&&(p=100);var m=p*d;s.offsetWidth>=m+i+l?t.hide(this.getElement()):(t.show(this.getElement(),"block"),r||(r=!0,o.call(n))),n.trigger("resize")}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.QuestionsBottomline=function(t){function e(t,e){var n=this;n._controller=t,n.element=e,n.settings={pid:e.getAttribute("data-product-id")};for(var i in o)o.hasOwnProperty(i)&&n.on(i,o[i])}var o={};return e.selector=".yotpo.QABottomLine",e.prototype.getElement=function(){return this.element},e.prototype.getSettings=function(){return this.settings},e.prototype.getMethod=function(){return"questions_bottomline"},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.refresh=function(){t.Modules.Refresh.perform.call(this)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.getLayout=function(){return"old"},o={ready:function(){var t=this,e=t._controller.getWidgetByName("Main"),o=t.getElement().getElementsByClassName("ask-question")[0];e&&o&&(o.onclick=function(){return e.getElement().getElementsByClassName("write-question-button")[0].click(),e.get("forms").questions.getElement().scrollIntoView(),!1})}},e}(Yotpo),Yotpo.Widgets=Yotpo.Widgets||{},Yotpo.Widgets.Testimonials=function(t){function e(t,e){var n=this;n.analyticsCategory="tab",n._controller=t,n.element=e||o(),n.sources={},n.settings={},"yotpo-testimonials-custom-tab"==n.element.id&&(n.settings.per_page=10),t.getWidgetByName("Main")&&t.getWidgetByName("Main").getSettings().tags&&(n.settings.tags=t.getWidgetByName("Main").getSettings().tags),n.element.getAttribute("data-product-readonly")?n.settings["data-product-readonly"]=!0:t.getWidgetByName("Main")&&t.getWidgetByName("Main").getSettings()["product-readonly"]&&(n.settings["data-product-readonly"]=!0);var i="undefined"!=typeof t.getUserSetting("testimonials")?t.getUserSetting("testimonials").settings:null,r=i&&("both"==i.show_tab?i.default_tab:i.show_tab);if("product_tab"==r){var a=t.getWidgetByName("Main");null!=a&&(n.settings.pid=a.getSettings().pid)}for(var s in u)u.hasOwnProperty(s)&&n.on(s,u[s])}function o(){var t=document.createElement("div");return t.className="yotpo testimonials",document.body.appendChild(t),t}function n(){var t=this,e=t.getElement().getElementsByClassName("yotpo-testimonials-btn")[0],o=t.getElement().getElementsByClassName("close")[0];t.button=e,t.content=document.getElementById(e.getAttribute("href").substring(1)),e.onclick=function(){return t.open(),!1},o.onclick=function(){return t.close(),"undefined"!=typeof t.get("form")&&t.get("form").clean(),!1};var n=t.content.getElementsByClassName("yotpo-modal-mask")[0];n&&(n.onclick=o.onclick)}function i(){var e=this;e.tabs=new t.Tabs(e.getElement().getElementsByClassName("yotpo-nav")[0]),e.tabs.on("changed",function(t){a.call(e,t)})}function r(){for(var e=this,o=e._controller.getWidgetByName("Main"),n=e.tabs.getTabs(),i=0;i<n.length;++i){var r=n[i].getAttribute("data-content"),a=n[i].getAttribute("data-type");t.forEach(r.split(" "),function(n){var i=document.getElementById(n),r=t.hasClass(i,"yotpo-reviews")?"basic":"bottomline",s=a+"-"+r;e.sources[s]=new(t.Widgets[t.capitalize(r)])(e._controller,i),"site"==a&&(e.sources[s].settings.pid="yotpo_site_reviews",e.sources[s].settings.include_site_reviews=!0),"product"==a&&o&&(e.sources[s].settings.pid=o.getSettings().pid),e.sources[s].settings.reference="testimonials_widget_internal",e.sources[s].settings.hide_custom_fields=!0,e.sources[s].settings.per_page=e.getSettings().per_page,e.sources[s].trigger("ready"),e.sources[s].on("pageChanged",function(){setTimeout(function(){t.scrollToTop(e.sources[s].getElement())},300)})})}}function a(e){var o=this,n=e.element.getAttribute("data-type"),i=e.element.getAttribute("data-content");t.forEach(i.split(" "),function(e){var i=document.getElementById(e);if(!i.innerHTML.trim()||0==i.innerHTML.trim().length){var r=t.hasClass(i,"yotpo-reviews")?"basic":"bottomline",a=n+"-"+r;o.sources[a].refresh(),o.sources[a].on("ready",function(){var e=o.sources[a].getElement().querySelector(".write-first-review-button");e&&t.addEventListener(e,"click",function(){o.getElement().querySelector(".yotpo-modal-bottom-line .write-review-button").click()})})}});var r=o.getElement().querySelector("input[type=button]");"product"==n&&"undefined"==typeof o.getActiveSource().getSettings().pid?t.hide(r):t.show(r);var a=o.getElement().querySelector(".write-review-wrapper");t.removeClass(a,"visible"),a.style.display="none";for(var s=o.getElement().querySelectorAll(".yotpo-custom-tag-field"),l=0;l<s.length;l++)"site"==n?t.addClass(s[l],"yotpo-hidden"):t.removeClass(s[l],"yotpo-hidden")}function s(){var e=this,o=e.button.getAttribute("data-position"),n=function(t,e){var o={};if("horizontal"==e){var n=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;o.left=n/2-t.offsetWidth/2+"px"}else{var i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;o.top=i/2-t.offsetHeight/2+"px"}o["z-index"]=799;for(var r in o)o.hasOwnProperty(r)&&(t.style[r]=o[r])};if(/MSIE/.test(navigator.userAgent)){var i=parseInt(navigator.userAgent.toLowerCase().split("msie")[1].split(";")[0]);(i!=document.documentMode||9>i&&"horizontal"!=o)&&t.addClass(e.button,"use-image")}n(e.button,o),t.addEventListener(window,"resize",function(){n(e.button,o)})}function l(){var e=this.getElement().getElementsByClassName("yotpo-messages");e.length>0&&(this.messages=new t.Messages(e))}function c(){for(var e,o=this,n=o.getElement().getElementsByClassName("product-link"),i=0;e=n[i];i++)t.addEventListener(e,"click",function(){var e=this.getAttribute("data-product-id");t.currentAnalytics.trackEvent("reviews","clicked_on","product_name",e)})}var u={};return e.selector="#yotpo-testimonials-custom-tab,.yotpo.testimonials",e.createsElement=function(e){return t.isMobil()?!1:"undefined"!=typeof e.testimonials_tab&&e.testimonials_tab!==!1},e.prototype.getMethod=function(){return"testimonials"},e.prototype.getSettings=function(){return this.settings},e.prototype.getElement=function(){return this.element},e.prototype.getTabs=function(){return this.tabs},e.prototype.getAppKey=function(){return this._controller.getAppKey()},e.prototype.get=function(t){return this[t]},e.prototype.getActiveSource=function(){return this.sources[this.tabs.getActive().getAttribute("data-type")+"-basic"]},e.prototype.getProductInfo=function(){var e=this.tabs.getActive().getAttribute("data-type");if("product"==e&&"undefined"!=typeof this.getActiveSource().getSettings().pid)for(var o=this._controller.getWidgets(),n=0;n<o.length;++n)if(o[n]instanceof t.Widgets.Main)return o[n].getProductInfo();return{sku:"yotpo_site_reviews",product_title:t.origin(),product_url:t.origin(),domain:t.origin()}},e.prototype.on=function(e,o){t.Modules.Event.on.call(this,e,o)},e.prototype.trigger=function(e,o){t.Modules.Event.trigger.call(this,e,o)},e.prototype.open=function(){var e=this;e.content.style.display="block",setTimeout(function(){t.addClass(e.content,"yotpo-modal-active"),e.trigger("resize")},10),t.currentAnalytics.trackEvent("tab","loaded")},e.prototype.close=function(){var e=this;t.removeClass(e.content,"yotpo-modal-active"),setTimeout(function(){e.content.style.display="none"},500)},e.prototype.state=function(e){return t.Modules.Helper.state.call(this,e)},e.prototype.is=function(e){return t.Modules.Helper.is.call(this,e)},e.prototype.getLayout=function(){return"old"},u={ready:function(){n.call(this),s.call(this),i.call(this),r.call(this),l.call(this),t.Modules.Handle.write.call(this,"review"),t.Modules.Handle.sources.call(this),t.Modules.Handle.semiWhiteLabel.call(this),c.call(this)},resize:function(){var t=this.element,e=t.getElementsByClassName("yotpo-modal-dialog")[0].offsetHeight,o=+(t.getElementsByClassName("yotpo-label")[0]||{}).offsetHeight,n=t.getElementsByClassName("yotpo-modal-header")[0].offsetHeight,i=t.getElementsByClassName("yotpo-modal-bottom-line")[0].offsetHeight,r=t.getElementsByClassName("yotpo-nav-primary")[0].offsetHeight,a=e-o-n-i-r;a>0&&(t.getElementsByClassName("yotpo-modal-body")[0].style.height=a+"px")}},e}(Yotpo);
/**
 * Widget Version
 *
 * @type {String}
*/
Yotpo.version = '2016-02-01_09-51-57';
/**
 * All available Yotpo texts and thier translations
 *
 * @type {object} - Object of texts and translations
 */
Yotpo.texts = {
    read_more: 'Read More',
    read_less: 'Read Less'
}


//////////////////////////////////////////////////
/////////////// Yotpo Initiation /////////////////
//////////////////////////////////////////////////

// NOTE!
// Don't declare any functions after this line of code
// this is the initialization of the Yotpo instance
if (typeof yotpo == 'undefined') {
    var yotpo = new Yotpo("LAGFI6UuMtMv8rw2FGKUBOrZ3XlP5ltNpZ1iErKl", {"account_settings":{"settings":{"customer_language":"en","avatar_image_url":"http://ddcfq0gxiontw.cloudfront.net/Account/99558/5138943/thumb.png?1429943549","account_logo":"http://ddcfq0gxiontw.cloudfront.net/Account/99558/5138943/thumb.png?1429943549","domain":"toybuilderlabs.com","name":"http://www.toybuilderlabs.com","auto_publish":true}},"reviews":false,"testimonials":{"settings":{"default_tab":"product_tab","show_tab":"both"}},"testimonials_tab":{"settings":{"floater_position":"left","label":"Reviews","header_text":"Reviews from other ToyBuilder Labs customers!","floater_opacity":"0.7","floater_text_color":"#fefefe","floater_background":"#ed1515"}},"questions_and_answers":false,"questions_and_answers_standalone":false,"vendor_review_creation":false,"language":"en","comments":{"settings":{"comments_visibility":"0"}},"async_create":{"settings":{}},"ads":false,"facebook_ads":false,"show_social_links":false,"host":"static","css_custom_host":null,"direction":"ltr","reporting_end_points":["p.yotpo.com"],"close_button":false,"version":"2016-02-01_09-51-57","prevent_duplicate_reviews":false,"custom_fields_info":{},"widget_rich_snippet":false,"carousel_settings":false,"review_with_pictures":false});
    Yotpo.ready(function() {
        yotpo.init();
    });
}




